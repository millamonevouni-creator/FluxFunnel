const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FlowCanvas-BQ95whyL.js","assets/vendor-KfUPlHYY.js","assets/CustomEdge-C1C3FYoo.js","assets/ui-DazhNhsc.js","assets/CustomEdge-Fd0xVSp_.css","assets/utils-ig63ahen.js","assets/ProjectsDashboard-CsCyx5sb.js","assets/SettingsDashboard-CDF3j84n.js","assets/MasterAdminDashboard-3FXCcqG9.js","assets/TeamDashboard-TH9a7h5s.js","assets/PremiumLockScreen-BhDJvr9b.js","assets/MarketplaceDashboard-BJAJ8d0R.js","assets/RoadmapPage-BbrSraSq.js","assets/ProfileCompletionBanner-C0iASIhu.js"])))=>i.map(i=>d[i]);
var et=Object.defineProperty;var at=(a,t,s)=>t in a?et(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s;var ua=(a,t,s)=>at(a,typeof t!="symbol"?t+"":t,s);import{r as g,a as tt,R as U}from"./vendor-KfUPlHYY.js";import{S as Qe,G as fe,A as je,P as Je,a as Q,B as st,b as rt,L as Pa,Z as Ze,M as ot,c as it,R as Ea,Q as nt,C as Aa,d as ae,e as lt,f as ct,F as Na,I as Sa,Y as Ca,E as dt,g as mt,h as ut,i as De,j as Pe,k as ie,l as pt,K as gt,U as ht,X as xt,m as ft,n as _a,o as $e,p as ka,q as bt,r as vt,s as wt,t as yt,u as Ta,D as jt,v as Pt,w as pa,x as Et,y as At,z as Nt,H as St,V as ga,J as Ct,N as _t,O as kt,T as Ie,W as Tt,_ as Dt,$ as It,a0 as Rt,a1 as Ft,a2 as ha,a3 as Lt,a4 as Mt,a5 as Ot,a6 as xa,a7 as Ut,a8 as Gt,a9 as zt,aa as Bt,ab as qt,ac as fa,ad as Vt,ae as Ht,af as Ke,ag as Wt,ah as $t,ai as Kt,aj as Yt,ak as Qt,al as Jt,am as Zt,an as Xt,ao as es,ap as as,aq as ts}from"./ui-DazhNhsc.js";import{c as ss}from"./utils-ig63ahen.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function s(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(r){if(r.ep)return;r.ep=!0;const l=s(r);fetch(r.href,l)}})();var Da={exports:{}},Re={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rs=g,os=Symbol.for("react.element"),is=Symbol.for("react.fragment"),ns=Object.prototype.hasOwnProperty,ls=rs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cs={key:!0,ref:!0,__self:!0,__source:!0};function Ia(a,t,s){var i,r={},l=null,u=null;s!==void 0&&(l=""+s),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(u=t.ref);for(i in t)ns.call(t,i)&&!cs.hasOwnProperty(i)&&(r[i]=t[i]);if(a&&a.defaultProps)for(i in t=a.defaultProps,t)r[i]===void 0&&(r[i]=t[i]);return{$$typeof:os,type:a,key:l,ref:u,props:r,_owner:ls.current}}Re.Fragment=is;Re.jsx=Ia;Re.jsxs=Ia;Da.exports=Re;var e=Da.exports,Ye={},ba=tt;Ye.createRoot=ba.createRoot,Ye.hydrateRoot=ba.hydrateRoot;const ds="modulepreload",ms=function(a){return"/"+a},va={},J=function(t,s,i){let r=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),y=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));r=Promise.allSettled(s.map(j=>{if(j=ms(j),j in va)return;va[j]=!0;const R=j.endsWith(".css"),F=R?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${j}"]${F}`))return;const N=document.createElement("link");if(N.rel=R?"stylesheet":ds,R||(N.as="script"),N.crossOrigin="",N.href=j,y&&N.setAttribute("nonce",y),document.head.appendChild(N),R)return new Promise((P,G)=>{N.addEventListener("load",P),N.addEventListener("error",()=>G(new Error(`Unable to preload CSS for ${j}`)))})}))}function l(u){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=u,window.dispatchEvent(y),!y.defaultPrevented)throw u}return r.then(u=>{for(const y of u||[])y.status==="rejected"&&l(y.reason);return t().catch(l)})},we=()=>e.jsxs("div",{className:"min-h-screen bg-[#020617] flex flex-col items-center justify-center p-6 text-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-16 h-16 rounded-full border-4 border-indigo-500/30 border-t-indigo-500 animate-spin mb-6"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(Qe,{size:16,className:"text-indigo-400 animate-pulse"})})]}),e.jsx("h1",{className:"text-xl font-black text-white tracking-widest uppercase opacity-80 animate-pulse",children:"Carregando FluxVision..."})]}),us={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_STRIPE_PRICE_PREMIUM_MONTHLY:"price_1SgskMQXyRm8d3nv9j7KeMqh",VITE_STRIPE_PRICE_PREMIUM_YEARLY:"price_1SgskZQXyRm8d3nveCCv6TQG",VITE_STRIPE_PRICE_PRO_MONTHLY:"price_1SgskMQXyRm8d3nvfTwRIFcP",VITE_STRIPE_PRICE_PRO_YEARLY:"price_1SgskWQXyRm8d3nvmqvpaevX",VITE_STRIPE_PUBLISHABLE_KEY:"pk_test_51SRw4FQXyRm8d3nvVZYwohllCHpptLMXMPMG4twXCOizPL59rhZwcGFMd82vfgVhfwC4NbxaHEqKnNDAf26RpT4j00D80zaq2Y",VITE_SUPABASE_KEY:"sb_publishable_HeZ9RQEfA-9mtezwRyfK9A_aiS-bRf1",VITE_SUPABASE_URL:"https://yhmsmkpsbvzmgpjvbppt.supabase.co"},ps=({onLoginClick:a,onGetStartedClick:t,onRoadmapClick:s,onNavigate:i,lang:r,setLang:l,t:u,plans:y,systemConfig:j})=>{const[R,F]=g.useState(null),[N,P]=g.useState("monthly"),G=m=>{F(R===m?null:m)},k=async m=>{if(!j.allowSignups){alert("Novos cadastros estão temporariamente pausados pelo administrador.");return}if(m&&(m==="PRO"||m==="PREMIUM"))try{const v=y.find(E=>E.id===m);let b=N==="monthly"?v==null?void 0:v.stripe_price_id_monthly:v==null?void 0:v.stripe_price_id_yearly;if(!b){const E=`VITE_STRIPE_PRICE_${m}_${N.toUpperCase()}`;b=us[E]}if(!b||b.includes("ID_AQUI")){alert("Configuração de pagamento incompleta. Atualize o plano no Painel Master.");return}const V={planId:m,cycle:N,timestamp:Date.now()};localStorage.setItem("flux_pending_checkout",JSON.stringify(V)),console.log("DEBUG: Stored pending checkout:",V),t();return}catch(v){console.error(v);return}t()},M=[{q:"Posso cancelar a qualquer momento?",a:"Sim, absolutamente. Não há fidelidade ou contratos de longo prazo no plano mensal. Você pode cancelar sua assinatura facilmente nas configurações da conta."},{q:"Preciso instalar algo no meu computador?",a:"Não! O FluxFunnel é 100% baseado na nuvem. Você pode acessar seus funis de qualquer dispositivo, em qualquer lugar."},{q:"O plano gratuito é realmente gratuito?",a:"Sim, o plano gratuito é vitalício e permite criar 1 projeto completo. É perfeito para você testar e validar o poder da nossa plataforma."},{q:"Vocês oferecem suporte?",a:"Sim! Todos os planos incluem acesso à nossa base de conhecimento. Planos Pro e Premium têm suporte prioritário via chat e email."}];return e.jsxs("div",{className:"min-h-screen bg-slate-50 text-slate-900 font-sans selection:bg-indigo-500/30 selection:text-indigo-900 scroll-smooth overflow-x-hidden",children:[e.jsx("nav",{className:"fixed w-full z-50 transition-all duration-300 bg-white/80 backdrop-blur-xl border-b border-white/20 shadow-sm",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 cursor-pointer group",onClick:()=>window.scrollTo(0,0),children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-tr from-indigo-600 to-violet-600 flex items-center justify-center shadow-lg shadow-indigo-500/30 transition-transform group-hover:scale-110 group-hover:rotate-3",children:e.jsx(fe,{className:"text-white",size:22})}),e.jsx("span",{className:"font-bold text-2xl tracking-tighter text-slate-900",children:"FluxFunnel"})]}),e.jsxs("div",{className:"hidden md:flex items-center gap-8 text-sm font-semibold text-slate-600",children:[e.jsx("a",{href:"#features",className:"hover:text-indigo-600 transition-colors",children:"Funcionalidades"}),e.jsx("a",{href:"#how-it-works",className:"hover:text-indigo-600 transition-colors",children:"Como Funciona"}),e.jsx("a",{href:"#projects",className:"hover:text-indigo-600 transition-colors",children:"Modelos"}),e.jsx("a",{href:"#pricing",className:"hover:text-indigo-600 transition-colors",children:"Planos"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:a,className:"text-sm font-bold text-slate-600 hover:text-indigo-600 px-4 py-2 hover:bg-slate-100 rounded-lg transition-all",children:u("signIn")}),e.jsx("button",{onClick:()=>k(),className:`text-sm font-bold px-6 py-3 rounded-xl transition-all shadow-xl shadow-indigo-500/20 active:scale-95 ${j.allowSignups?"bg-slate-900 text-white hover:bg-slate-800 hover:-translate-y-1":"bg-slate-400 text-white cursor-not-allowed"}`,disabled:!j.allowSignups,children:u("getStarted")})]})]})}),e.jsxs("section",{className:"relative pt-32 pb-20 lg:pt-48 lg:pb-32 overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-[800px] bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-indigo-100 via-slate-50 to-slate-50 opacity-70 -z-10"}),e.jsx("div",{className:"absolute top-0 right-0 w-1/3 h-1/3 bg-gradient-to-br from-violet-200/30 to-fuchsia-200/30 blur-3xl -z-10 rounded-full mix-blend-multiply filter opacity-70 animate-blob"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-1/3 h-1/3 bg-gradient-to-tr from-cyan-200/30 to-blue-200/30 blur-3xl -z-10 rounded-full mix-blend-multiply filter opacity-70 animate-blob animation-delay-2000"}),e.jsxs("div",{className:"container mx-auto px-6 text-center relative z-10",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white border border-indigo-100 shadow-sm mb-8 animate-fade-in-up hover:shadow-md transition-shadow cursor-default",children:[e.jsx("span",{className:"flex h-2 w-2 rounded-full bg-indigo-500 animate-pulse"}),e.jsx("span",{className:"text-sm font-bold text-slate-600",children:"A Revolução na Criação de Funis"}),e.jsx("span",{className:"ml-2 px-2 py-0.5 rounded text-[10px] font-black bg-indigo-100 text-indigo-700 uppercase tracking-wide",children:"Novo"})]}),e.jsxs("h1",{className:"text-5xl md:text-7xl lg:text-8xl font-black tracking-tight mb-8 leading-[1.1] text-slate-900 animate-fade-in-up",children:["Planeje. Construa. ",e.jsx("br",{}),e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 via-violet-600 to-fuchsia-600",children:"Escalone Vendas."})]}),e.jsx("p",{className:"text-xl md:text-2xl text-slate-500 max-w-3xl mx-auto mb-12 leading-relaxed font-medium animate-fade-in-up delay-100",children:"A plataforma visual definitiva para estrategistas digitais. Mapeie funis complexos, desenhe jornadas de clientes e otimize conversões em minutos, não horas."}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 animate-fade-in-up delay-200 mb-16",children:[e.jsxs("button",{onClick:()=>k(),className:"group relative w-full sm:w-auto px-8 py-4 bg-slate-900 text-white rounded-2xl font-bold text-lg shadow-2xl shadow-slate-900/30 hover:shadow-slate-900/50 hover:-translate-y-1 transition-all overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover:animate-shimmer"}),e.jsxs("span",{className:"flex items-center justify-center gap-3",children:["Começar Gratuitamente ",e.jsx(je,{size:20})]})]}),e.jsxs("button",{onClick:()=>window.location.href="#how-it-works",className:"w-full sm:w-auto px-8 py-4 bg-white text-slate-700 rounded-2xl font-bold text-lg border border-slate-200 shadow-lg shadow-slate-100 hover:shadow-xl hover:-translate-y-1 transition-all flex items-center justify-center gap-3",children:[e.jsx(Je,{size:20,className:"text-indigo-600"})," Ver Demonstração"]})]}),e.jsxs("div",{className:"flex flex-col items-center gap-4 animate-fade-in-up delay-300",children:[e.jsxs("div",{className:"flex -space-x-4",children:[[1,2,3,4,5].map(m=>e.jsx("img",{className:"w-12 h-12 rounded-full border-4 border-white shadow-sm",src:`https://i.pravatar.cc/100?img=${m+10}`,alt:"User"},m)),e.jsx("div",{className:"w-12 h-12 rounded-full border-4 border-white bg-indigo-100 flex items-center justify-center text-xs font-bold text-indigo-600",children:"+2k"})]}),e.jsxs("p",{className:"text-sm font-semibold text-slate-500",children:["Junte-se a mais de ",e.jsx("span",{className:"text-indigo-600 font-bold",children:"2.000+ estrategistas"})," que usam FluxFunnel"]}),e.jsxs("div",{className:"flex gap-1 text-amber-400",children:[e.jsx(Q,{size:16,fill:"currentColor"}),e.jsx(Q,{size:16,fill:"currentColor"}),e.jsx(Q,{size:16,fill:"currentColor"}),e.jsx(Q,{size:16,fill:"currentColor"}),e.jsx(Q,{size:16,fill:"currentColor"})]})]})]})]}),e.jsx("div",{className:"py-10 border-y border-slate-100 bg-white/50 backdrop-blur-sm",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 overflow-hidden",children:[e.jsx("p",{className:"text-center text-sm font-bold text-slate-400 uppercase tracking-widest mb-8",children:"Empresas que escalam com FluxFunnel"}),e.jsx("div",{className:"flex flex-wrap justify-center gap-12 md:gap-20 opacity-50 grayscale hover:grayscale-0 transition-all duration-500",children:["Stripe","Spotify","Slack","Intercom","Notion"].map(m=>e.jsx("span",{className:"text-2xl md:text-3xl font-black text-slate-300 hover:text-indigo-600 transition-colors cursor-default",children:m},m))})]})}),e.jsx("section",{id:"features",className:"py-24 bg-white relative",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center mb-20 max-w-3xl mx-auto",children:[e.jsx("h2",{className:"text-indigo-600 font-bold tracking-wide uppercase text-sm mb-3",children:"Poder Ilimitado"}),e.jsx("h3",{className:"text-4xl md:text-5xl font-black text-slate-900 mb-6 tracking-tight",children:"Tudo o que você precisa para desenhar o sucesso."}),e.jsx("p",{className:"text-lg text-slate-600",children:"Ferramentas profissionais projetadas para eliminar a confusão e trazer clareza absoluta para suas estratégias de marketing."})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:e.jsx(fe,{size:32}),title:"Mapeamento Visual",desc:"Arraste e solte elementos para criar fluxos complexos em segundos. Interface intuitiva que flui com seu pensamento."},{icon:e.jsx(Qe,{size:32}),title:"Assistente IA",desc:"Nossa inteligência artificial analisa seus funis e sugere otimizações para aumentar suas taxas de conversão."},{icon:e.jsx(st,{size:32}),title:"Previsão de ROI",desc:"Simule tráfego e conversão em cada etapa para prever o faturamento antes mesmo de lançar a campanha."},{icon:e.jsx(rt,{size:32}),title:"Colaboração em Tempo Real",desc:"Convide seu time, deixe comentários e construa estratégias juntos, sem versões de arquivos perdidas."},{icon:e.jsx(Pa,{size:32}),title:"Modelos Prontos",desc:"Acesse nossa biblioteca com dezenas de funis validados de alta conversão para diversos nichos."},{icon:e.jsx(Ze,{size:32}),title:"Exportação Rápida",desc:"Exporte seus diagramas em PDF, PNG ou gere um relatório completo para apresentar aos clientes."}].map((m,v)=>e.jsxs("div",{className:"group p-8 rounded-3xl bg-slate-50 border border-slate-100 hover:border-indigo-100 hover:bg-white hover:shadow-2xl hover:shadow-indigo-500/10 transition-all duration-300",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-white border border-slate-100 shadow-sm flex items-center justify-center text-indigo-600 mb-6 group-hover:scale-110 group-hover:bg-indigo-600 group-hover:text-white transition-all duration-300",children:m.icon}),e.jsx("h4",{className:"text-xl font-bold text-slate-900 mb-3",children:m.title}),e.jsx("p",{className:"text-slate-500 leading-relaxed group-hover:text-slate-600",children:m.desc})]},v))})]})}),e.jsxs("section",{id:"how-it-works",className:"py-24 bg-slate-900 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-10"}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10",children:[e.jsxs("div",{className:"text-center mb-20",children:[e.jsx("h3",{className:"text-3xl md:text-5xl font-black mb-6",children:"Do Caos à Clareza em 3 Passos"}),e.jsx("p",{className:"text-slate-400 text-lg max-w-2xl mx-auto",children:"Simplificamos o complexo. Veja como é fácil transformar ideias abstratas em planos de ação concretos."})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-12 relative",children:[e.jsx("div",{className:"hidden md:block absolute top-12 left-[16%] right-[16%] h-0.5 bg-gradient-to-r from-slate-700 via-indigo-500 to-slate-700"}),[{step:1,title:"Planeje",desc:"Escolha um modelo validado ou comece do zero com nossa tela infinita.",icon:e.jsx(ot,{})},{step:2,title:"Personalize",desc:"Adicione etapas, defina métricas e conecte as ferramentas do seu stack.",icon:e.jsx(it,{})},{step:3,title:"Execute",desc:"Exporte o plano tático e compartilhe com seu time para implementação.",icon:e.jsx(Ea,{})}].map((m,v)=>e.jsxs("div",{className:"relative flex flex-col items-center text-center",children:[e.jsxs("div",{className:"w-24 h-24 rounded-full bg-slate-800 border-4 border-slate-900 shadow-xl flex items-center justify-center text-indigo-400 mb-8 relative z-10 group hover:scale-110 transition-transform duration-300",children:[e.jsx("span",{className:"absolute -top-2 -right-2 w-8 h-8 bg-indigo-600 rounded-full flex items-center justify-center font-black text-white text-sm border-2 border-slate-900",children:m.step}),U.cloneElement(m.icon,{size:40})]}),e.jsx("h4",{className:"text-2xl font-bold mb-3",children:m.title}),e.jsx("p",{className:"text-slate-400 leading-relaxed",children:m.desc})]},v))]})]})]}),e.jsx("section",{className:"py-24 bg-slate-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsx("h2",{className:"text-4xl font-black text-center text-slate-900 mb-16",children:"O que os Experts dizem"}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{name:"Ricardo Silva",role:"Growth Hacker",text:"Antes do FluxFunnel, eu usava 3 ferramentas diferentes para planejar. Agora faço tudo em um lugar só. A economia de tempo é surreal."},{name:"Amanda Costa",role:"Consultora de Marketing",text:"Meus clientes ficam impressionados quando apresento os fluxos visuais. A ferramenta se pagou no primeiro projeto que fechei."},{name:"Pedro Alencar",role:"Dono de Agência",text:"A funcionalidade de simulação de ROI mudou o jogo para nós. Conseguimos vender projetos com muito mais segurança."}].map((m,v)=>e.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-sm border border-slate-100 relative",children:[e.jsx(nt,{className:"text-indigo-100 absolute top-6 right-6",size:48}),e.jsxs("div",{className:"flex gap-1 text-amber-500 mb-4",children:[e.jsx(Q,{size:16,fill:"currentColor"}),e.jsx(Q,{size:16,fill:"currentColor"}),e.jsx(Q,{size:16,fill:"currentColor"}),e.jsx(Q,{size:16,fill:"currentColor"}),e.jsx(Q,{size:16,fill:"currentColor"})]}),e.jsxs("p",{className:"text-slate-600 mb-6 italic relative z-10",children:['"',m.text,'"']}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-slate-900 text-sm",children:m.name}),e.jsx("p",{className:"text-xs text-slate-500",children:m.role})]})]})]},v))})]})}),e.jsx("div",{id:"pricing",className:"py-24 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-indigo-600 font-bold tracking-wide uppercase text-sm mb-3",children:"Investimento"}),e.jsx("h2",{className:"text-4xl font-black mb-6 text-slate-900 tracking-tighter",children:"Escolha seu Nível de Poder"}),e.jsxs("div",{className:"inline-flex items-center bg-slate-100 p-1 rounded-full cursor-pointer select-none border border-slate-200",onClick:()=>P(m=>m==="monthly"?"yearly":"monthly"),children:[e.jsx("span",{className:`px-6 py-2 rounded-full text-sm font-bold transition-all ${N==="monthly"?"bg-white text-slate-900 shadow-sm":"text-slate-500"}`,children:"Mensal"}),e.jsxs("span",{className:`px-6 py-2 rounded-full text-sm font-bold transition-all flex items-center gap-2 ${N==="yearly"?"bg-white text-slate-900 shadow-sm":"text-slate-500"}`,children:["Anual ",e.jsx("span",{className:"bg-green-100 text-green-700 px-1.5 py-0.5 rounded text-[10px] uppercase font-black",children:"-20%"})]})]})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto items-start",children:[...y].filter(m=>!m.isHidden).sort((m,v)=>(m.order||0)-(v.order||0)).map(m=>{const v=N==="monthly"?m.priceMonthly:m.priceYearly,b=N==="monthly"?"/mês":"/ano";return e.jsxs("div",{className:`p-8 lg:p-10 rounded-[2.5rem] border transition-all duration-500 relative flex flex-col ${m.isPopular?"border-indigo-600 shadow-2xl scale-105 z-10 bg-white ring-4 ring-indigo-50":"border-slate-200 hover:border-slate-300 bg-white hover:shadow-xl"}`,children:[m.isPopular&&e.jsxs("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 px-4 py-1.5 bg-indigo-600 text-white text-[10px] font-black uppercase tracking-widest rounded-full shadow-lg flex items-center gap-1.5 whitespace-nowrap",children:[e.jsx(Aa,{size:12,fill:"currentColor"})," Recomendado"]}),e.jsxs("div",{className:"mb-8 text-center md:text-left",children:[e.jsx("h3",{className:"text-lg font-black uppercase tracking-widest text-slate-400 mb-4",children:m.label}),e.jsxs("div",{className:"flex items-baseline justify-center md:justify-start gap-1",children:[e.jsxs("span",{className:"text-5xl lg:text-6xl font-black text-slate-900 tracking-tighter whitespace-nowrap",children:["R$ ",Number(v).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]}),v>0&&e.jsx("span",{className:"text-slate-400 font-bold text-sm",children:b})]}),e.jsxs("p",{className:"text-slate-400 text-sm mt-4 font-medium min-h-[40px]",children:[m.id==="FREE"&&"Para iniciantes e estudantes.",m.id==="PRO"&&"Para freelancers e consultores.",m.id==="PREMIUM"&&"Para agências e times de alta performance."]})]}),e.jsxs("div",{className:"flex-1 mb-10",children:[e.jsx("button",{onClick:()=>k(m.id),disabled:!j.allowSignups,className:`w-full py-4 rounded-xl font-black uppercase tracking-widest text-xs transition-all shadow-lg active:scale-95 ${m.isPopular?"bg-indigo-600 hover:bg-indigo-500 text-white shadow-indigo-200":"bg-slate-900 hover:bg-slate-800 text-white shadow-slate-200"} ${j.allowSignups?"":"opacity-50 cursor-not-allowed"}`,children:v===0?"Criar Conta Grátis":"Assinar Agora"}),e.jsxs("div",{className:"mt-8 space-y-4",children:[e.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"O que está incluso:"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex items-center gap-3 text-slate-700 text-sm font-bold",children:[e.jsx("div",{className:"p-1 rounded-full bg-indigo-100 text-indigo-600",children:e.jsx(ae,{size:12,strokeWidth:4})}),m.projectLimit>=9999?"Projetos Ilimitados":`${m.projectLimit} Projetos Ativos`]}),e.jsxs("li",{className:"flex items-center gap-3 text-slate-700 text-sm font-bold",children:[e.jsx("div",{className:"p-1 rounded-full bg-indigo-100 text-indigo-600",children:e.jsx(ae,{size:12,strokeWidth:4})}),m.nodeLimit>=9999?"Elementos Ilimitados":`${m.nodeLimit} Elementos/Fluxo`]}),m.features.map((V,E)=>e.jsxs("li",{className:"flex items-start gap-3 text-slate-600 text-sm font-medium leading-tight",children:[e.jsx("div",{className:"p-1 mt-0.5 rounded-full bg-slate-100 text-slate-400",children:e.jsx(ae,{size:12,strokeWidth:4})}),V]},E))]})]})]})]},m.id)})})]})}),e.jsx("section",{className:"py-24 bg-slate-50",children:e.jsxs("div",{className:"max-w-3xl mx-auto px-6",children:[e.jsx("h2",{className:"text-3xl font-black text-center text-slate-900 mb-12",children:"Perguntas Frequentes"}),e.jsx("div",{className:"space-y-4",children:M.map((m,v)=>e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 overflow-hidden transition-all duration-300",children:[e.jsxs("button",{onClick:()=>G(v),className:"w-full flex items-center justify-between p-6 text-left font-bold text-slate-800 hover:bg-slate-50 transition-colors",children:[m.q,R===v?e.jsx(lt,{className:"text-indigo-600"}):e.jsx(ct,{className:"text-slate-400"})]}),e.jsx("div",{className:`px-6 text-slate-600 leading-relaxed overflow-hidden transition-all duration-300 ${R===v?"max-h-40 pb-6 opacity-100":"max-h-0 opacity-0"}`,children:m.a})]},v))})]})}),e.jsxs("section",{className:"py-20 bg-indigo-600 text-white overflow-hidden relative",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 mix-blend-overlay"}),e.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-white opacity-10 blur-3xl rounded-full -translate-y-1/2 translate-x-1/2"}),e.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center relative z-10",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-black mb-6 tracking-tight",children:"Pronto para transformar seus resultados?"}),e.jsx("p",{className:"text-indigo-100 text-xl mb-10 font-medium",children:"Junte-se a milhares de profissionais que já modernizaram a forma de planejar vendas online."}),e.jsx("button",{onClick:()=>k(),disabled:!j.allowSignups,className:"px-12 py-5 bg-white text-indigo-600 rounded-full font-black text-lg shadow-2xl hover:bg-indigo-50 hover:scale-105 transition-all w-full sm:w-auto",children:"Criar Conta Gratuitamente"}),e.jsx("p",{className:"mt-6 text-sm text-indigo-200 font-medium",children:"Não requer cartão de crédito • Cancelamento a qualquer momento"})]})]}),e.jsx("footer",{className:"bg-slate-950 text-slate-400 py-20 border-t border-slate-900 text-sm",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsxs("div",{className:"grid md:grid-cols-4 gap-12 mb-16",children:[e.jsxs("div",{className:"col-span-1 md:col-span-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6 text-white",children:[e.jsx(fe,{className:"text-indigo-500",size:24}),e.jsx("span",{className:"font-bold text-xl",children:"FluxFunnel"})]}),e.jsx("p",{className:"mb-6 leading-relaxed",children:"A plataforma visual #1 para planejamento de estratégias digitais. Construída para performance, desenhada para clareza."}),e.jsx("div",{className:"flex gap-4",children:[{Icon:Na,name:"Facebook"},{Icon:Sa,name:"Instagram"},{Icon:Ca,name:"Youtube"}].map(({Icon:m,name:v},b)=>e.jsx("a",{href:"#","aria-label":v,title:v,className:"p-2 bg-slate-900 rounded-full hover:bg-indigo-600 hover:text-white transition-all",children:e.jsx(m,{size:18})},b))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-white mb-6 uppercase tracking-wider text-xs",children:"Produto"}),e.jsxs("ul",{className:"space-y-4",children:[e.jsx("li",{children:e.jsx("a",{href:"#features",className:"hover:text-indigo-400 transition-colors",children:"Funcionalidades"})}),e.jsx("li",{children:e.jsx("a",{href:"#pricing",className:"hover:text-indigo-400 transition-colors",children:"Planos e Preços"})}),e.jsx("li",{children:e.jsx("button",{onClick:s,className:"hover:text-indigo-400 transition-colors",children:"Roadmap Público"})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>i("GALLERY"),className:"hover:text-indigo-400 transition-colors",children:"Biblioteca de Modelos"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-white mb-6 uppercase tracking-wider text-xs",children:"Recursos"}),e.jsxs("ul",{className:"space-y-4",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-indigo-400 transition-colors",children:"Blog"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-indigo-400 transition-colors",children:"Central de Ajuda"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-indigo-400 transition-colors",children:"Comunidade"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-indigo-400 transition-colors",children:"Status do Sistema"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-white mb-6 uppercase tracking-wider text-xs",children:"Legal"}),e.jsxs("ul",{className:"space-y-4",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-indigo-400 transition-colors",children:"Termos de Uso"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-indigo-400 transition-colors",children:"Política de Privacidade"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-indigo-400 transition-colors",children:"Cookies"})})]})]})]}),e.jsxs("div",{className:"border-t border-slate-900 pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsx("p",{children:"© 2025 FluxFunnel Inc. Todos os direitos reservados."}),e.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium bg-slate-900 px-3 py-1 rounded-full",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),"Sistemas Operacionais"]})]})]})})]})},de=U.forwardRef(({className:a="",icon:t,rightElement:s,...i},r)=>{const[l,u]=g.useState(!1);return e.jsxs("div",{className:"relative w-full",children:[t&&e.jsx(t,{className:"absolute left-3 top-3 text-slate-400 pointer-events-none",size:18}),e.jsx("input",{ref:r,type:l?"text":"password",className:`${a} ${t?"pl-10":"pl-3"} pr-10`,...i}),s&&e.jsx("div",{className:"absolute right-10 top-3 flex items-center pointer-events-none",children:s}),e.jsx("button",{type:"button",onClick:()=>u(!l),className:"absolute right-3 top-3 text-slate-400 hover:text-slate-600 focus:outline-none transition-colors",tabIndex:-1,"aria-label":l?"Ocultar senha":"Mostrar senha",children:l?e.jsx(dt,{size:18}):e.jsx(mt,{size:18})})]})});de.displayName="PasswordInput";const gs=()=>e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),e.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),e.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.47 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),e.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),hs=({onAuthSuccess:a,onBack:t,t:s,lang:i,customSubtitle:r,initialView:l="LOGIN",onUpdatePassword:u,onResetPassword:y,onGoogleLogin:j,onInviteComplete:R})=>{const[F,N]=g.useState(l);U.useEffect(()=>{l&&N(l)},[l]);const[P,G]=g.useState(!0),[k,M]=g.useState(!1),[m,v]=g.useState(""),[b,V]=g.useState(""),[E,I]=g.useState(""),[W,ue]=g.useState(""),[D,S]=g.useState(null),ne=async C=>{if(C.preventDefault(),S(null),!m.includes("@")){S("Por favor, insira um e-mail válido.");return}if(b.length<6){S("A senha deve ter pelo menos 6 caracteres.");return}if(!P&&b!==E){S("As senhas não coincidem.");return}M(!0);try{await a({email:m.toLowerCase(),name:P?void 0:W,password:b,isSignup:!P})}catch(z){S(z.message||"Erro inesperado na autenticação.")}finally{M(!1)}},le=async C=>{if(C.preventDefault(),!m.includes("@")){S("Por favor, insira um e-mail válido para recuperação.");return}M(!0),S(null);try{y?await y(m):await new Promise(z=>setTimeout(z,1500)),N("RESET_SENT")}catch(z){S(z.message||"Erro ao enviar email de recuperação.")}finally{M(!1)}},O=async C=>{if(C.preventDefault(),b.length<6){S("A senha deve ter pelo menos 6 caracteres.");return}if(b!==E){S("As senhas não coincidem.");return}M(!0),S(null);try{if(u){if(await u(b),F==="SET_PASSWORD"){if(R){R();return}window.location.href="/";return}if(R){R();return}N("LOGIN"),alert("Senha atualizada com sucesso! Bem-vindo(a).")}}catch(z){S(z.message||"Erro ao atualizar senha.")}finally{M(!1)}},pe=async()=>{if(j){M(!0);try{await j()}catch(C){S(C.message||"Erro ao iniciar login com Google."),M(!1)}}else console.warn("Google Login handler not provided"),S("Login com Google não configurado.")};return e.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4",children:[e.jsxs("div",{className:"mb-8 flex items-center gap-2 cursor-pointer hover:scale-105 transition-transform",onClick:t,children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-500 to-blue-600 flex items-center justify-center shadow-lg shadow-indigo-500/20",children:e.jsx(fe,{className:"text-white",size:24})}),e.jsx("span",{className:"font-bold text-2xl text-slate-800 tracking-tight",children:"FluxFunnel"})]}),e.jsxs("div",{className:"w-full max-w-md bg-white border border-slate-200 rounded-3xl p-8 shadow-[0_20px_50px_rgba(0,0,0,0.1)] relative overflow-hidden transition-all duration-500 hover:shadow-[0_20px_60px_rgba(79,70,229,0.15)]",children:[k&&e.jsxs("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-sm z-10 flex items-center justify-center flex-col",children:[e.jsx(ut,{className:"animate-spin text-indigo-600 mb-2",size:40}),e.jsx("p",{className:"text-sm font-bold text-slate-600 animate-pulse",children:F==="FORGOT_PASSWORD"?"Enviando link...":F==="UPDATE_PASSWORD"?"Atualizando senha...":P?"Autenticando...":"Criando sua conta..."})]}),F==="SIGNUP_SUCCESS"&&e.jsxs("div",{className:"text-center py-4 animate-fade-in-up",children:[e.jsx("div",{className:"w-20 h-20 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-6 shadow-inner",children:e.jsx(De,{className:"text-indigo-600",size:36})}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Quase lá!"}),e.jsxs("p",{className:"text-slate-500 mb-8 leading-relaxed",children:["Enviamos um e-mail de confirmação para ",e.jsx("strong",{children:m}),". ",e.jsx("br",{}),"Por favor, verifique sua caixa de entrada para ativar sua conta."]}),e.jsx("button",{onClick:()=>{N("LOGIN"),G(!0),S(null)},className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3.5 rounded-2xl transition-all shadow-lg shadow-indigo-500/25 active:scale-95",children:"Ir para Login"})]}),F==="RESET_SENT"&&e.jsxs("div",{className:"text-center py-4 animate-fade-in-up",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(ae,{className:"text-green-600",size:32})}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Verifique seu e-mail"}),e.jsxs("p",{className:"text-slate-500 mb-8 leading-relaxed",children:["Enviamos um link de recuperação para ",e.jsx("strong",{children:m}),". Clique no link para criar uma nova senha."]}),e.jsx("button",{onClick:()=>{N("LOGIN"),S(null)},className:"w-full bg-slate-900 hover:bg-slate-800 text-white font-bold py-3 rounded-xl transition-all shadow-md",children:"Voltar para Login"}),e.jsx("button",{onClick:()=>N("FORGOT_PASSWORD"),className:"mt-4 text-indigo-600 text-sm font-bold hover:underline",children:"Tentar outro e-mail"})]}),F==="SET_PASSWORD"&&e.jsxs("div",{className:"animate-fade-in-up",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4 animate-bounce-slow",children:e.jsx(Qe,{className:"text-indigo-600",size:32})}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Bem-vindo(a)!"}),e.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"Você foi convidado(a) para colaborar. Defina sua senha para acessar."})]}),D&&e.jsxs("div",{className:"mb-6 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-sm text-red-600",children:[e.jsx(Pe,{size:16}),D]}),e.jsxs("form",{onSubmit:O,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 ml-1",children:"Crie sua Senha"}),e.jsx(de,{required:!0,value:b,onChange:C=>V(C.target.value),placeholder:"No mínimo 6 caracteres",className:"w-full bg-slate-50 border border-slate-200 rounded-xl py-2.5 text-slate-900 focus:ring-2 focus:ring-indigo-500 focus:bg-white outline-none transition-all placeholder:text-slate-400",autoFocus:!0,icon:ie})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 ml-1",children:"Confirme a Senha"}),e.jsx(de,{required:!0,value:E,onChange:C=>I(C.target.value),placeholder:"Repita a senha",className:`w-full bg-slate-50 border rounded-xl py-2.5 text-slate-900 focus:ring-2 outline-none transition-all placeholder:text-slate-400
                                    ${E&&E!==b?"border-red-300 focus:ring-red-200":"border-slate-200 focus:ring-indigo-500 focus:bg-white"}
                                `,icon:ie,rightElement:E&&E===b?e.jsx(ae,{className:"text-green-500",size:18}):void 0})]}),e.jsxs("button",{type:"submit",disabled:k,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3 rounded-xl transition-all flex items-center justify-center gap-2 mt-6 shadow-md shadow-indigo-500/20 active:scale-95",children:["Acessar Plataforma ",e.jsx(je,{size:18})]})]})]}),F==="UPDATE_PASSWORD"&&e.jsxs("div",{className:"animate-fade-in-up",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg text-indigo-600",children:e.jsx(ie,{size:20})}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Nova Senha"})]}),e.jsx("p",{className:"text-slate-500 text-sm mb-6",children:"Defina sua nova senha de acesso."}),D&&e.jsxs("div",{className:"mb-6 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-sm text-red-600",children:[e.jsx(Pe,{size:16}),D]}),e.jsxs("form",{onSubmit:O,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 ml-1",children:"Nova Senha"}),e.jsx(de,{required:!0,value:b,onChange:C=>V(C.target.value),placeholder:"••••••••",className:"w-full bg-slate-50 border border-slate-200 rounded-xl py-2.5 text-slate-900 focus:ring-2 focus:ring-indigo-500 focus:bg-white outline-none transition-all placeholder:text-slate-400",autoFocus:!0,icon:ie})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 ml-1",children:"Confirmar Nova Senha"}),e.jsx(de,{required:!0,value:E,onChange:C=>I(C.target.value),placeholder:"••••••••",className:`w-full bg-slate-50 border rounded-xl py-2.5 text-slate-900 focus:ring-2 outline-none transition-all placeholder:text-slate-400
                                    ${E&&E!==b?"border-red-300 focus:ring-red-200":"border-slate-200 focus:ring-indigo-500 focus:bg-white"}
                                `,icon:ie,rightElement:E&&E===b?e.jsx(ae,{className:"text-green-500",size:18}):void 0})]}),e.jsxs("button",{type:"submit",disabled:k,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3 rounded-xl transition-all flex items-center justify-center gap-2 mt-6 shadow-md shadow-indigo-500/20 active:scale-95",children:["Atualizar Senha ",e.jsx(je,{size:18})]})]})]}),F==="FORGOT_PASSWORD"&&e.jsxs("div",{className:"animate-fade-in-up",children:[e.jsxs("button",{onClick:()=>{N("LOGIN"),S(null)},className:"flex items-center gap-2 text-slate-400 hover:text-slate-600 text-sm font-medium mb-6 transition-colors",children:[e.jsx(pt,{size:16})," Voltar"]}),e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-amber-100 rounded-lg text-amber-600",children:e.jsx(gt,{size:20})}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Redefinir Senha"})]}),e.jsx("p",{className:"text-slate-500 text-sm mb-6",children:"Insira seu e-mail e enviaremos instruções para você recuperar o acesso."}),D&&e.jsxs("div",{className:"mb-6 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-sm text-red-600",children:[e.jsx(Pe,{size:16}),D]}),e.jsxs("form",{onSubmit:le,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 ml-1",children:"E-mail Cadastrado"}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{className:"absolute left-3 top-3 text-slate-400",size:18}),e.jsx("input",{type:"email",required:!0,value:m,onChange:C=>v(C.target.value),placeholder:"email@exemplo.com",className:"w-full bg-slate-50 border border-slate-200 rounded-xl py-2.5 pl-10 pr-4 text-slate-900 focus:ring-2 focus:ring-indigo-500 focus:bg-white outline-none transition-all placeholder:text-slate-400",autoFocus:!0})]})]}),e.jsxs("button",{type:"submit",disabled:k,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3 rounded-xl transition-all flex items-center justify-center gap-2 mt-6 shadow-md shadow-indigo-500/20 active:scale-95",children:["Enviar Link de Recuperação ",e.jsx(je,{size:18})]})]})]}),F==="LOGIN"&&e.jsxs("div",{className:"animate-fade-in-up",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2 text-center",children:s(P?"welcomeBack":"createAccount")}),e.jsx("p",{className:`text-center mb-8 text-sm ${r?"text-indigo-600 font-medium bg-indigo-50 py-2 rounded-lg":"text-slate-500"}`,children:r||s(P?"enterDetails":"startBuilding")}),D&&e.jsxs("div",{className:"mb-6 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-sm text-red-600",children:[e.jsx(Pe,{size:16}),D]}),e.jsxs("form",{onSubmit:ne,className:"space-y-4",children:[!P&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 ml-1",children:s("fullName")}),e.jsxs("div",{className:"relative",children:[e.jsx(ht,{className:"absolute left-3 top-3 text-slate-400",size:18}),e.jsx("input",{type:"text",required:!0,value:W,onChange:C=>ue(C.target.value),placeholder:"John Doe",className:"w-full bg-slate-50 border border-slate-200 rounded-xl py-2.5 pl-10 pr-4 text-slate-900 focus:ring-2 focus:ring-indigo-500 focus:bg-white outline-none transition-all placeholder:text-slate-400"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 ml-1",children:s("emailAddr")}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{className:"absolute left-3 top-3 text-slate-400",size:18}),e.jsx("input",{type:"email",required:!0,value:m,onChange:C=>v(C.target.value),placeholder:"email@example.com",className:"w-full bg-slate-50 border border-slate-200 rounded-xl py-2.5 pl-10 pr-4 text-slate-900 focus:ring-2 focus:ring-indigo-500 focus:bg-white outline-none transition-all placeholder:text-slate-400"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between items-center px-1",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600",children:s("password")}),P&&e.jsx("button",{type:"button",onClick:()=>{N("FORGOT_PASSWORD"),S(null)},className:"text-xs text-indigo-600 hover:text-indigo-800 hover:underline",children:"Esqueceu a senha?"})]}),e.jsx("div",{className:"relative",children:e.jsx(de,{required:!0,value:b,onChange:C=>V(C.target.value),placeholder:"••••••••",className:"w-full bg-slate-50 border border-slate-200 rounded-xl py-2.5 text-slate-900 focus:ring-2 focus:ring-indigo-500 focus:bg-white outline-none transition-all placeholder:text-slate-400",icon:ie})})]}),!P&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 ml-1",children:s("confirmPwd")}),e.jsx("div",{className:"relative",children:e.jsx(de,{required:!0,value:E,onChange:C=>I(C.target.value),placeholder:"••••••••",className:`w-full bg-slate-50 border rounded-xl py-2.5 text-slate-900 focus:ring-2 outline-none transition-all placeholder:text-slate-400
                                        ${E&&E!==b?"border-red-300 focus:ring-red-200":"border-slate-200 focus:ring-indigo-500 focus:bg-white"}
                                    `,icon:ie,rightElement:E&&E===b?e.jsx(ae,{className:"text-green-500",size:18}):void 0})})]}),e.jsxs("button",{type:"submit",disabled:k,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3 rounded-xl transition-all flex items-center justify-center gap-2 mt-6 shadow-md shadow-indigo-500/20 active:scale-95",children:[s(P?"signIn":"getStarted")," ",e.jsx(je,{size:18})]})]}),e.jsxs("div",{className:"relative my-6",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-slate-200"})}),e.jsx("div",{className:"relative flex justify-center text-xs",children:e.jsx("span",{className:"px-2 bg-white text-slate-400 font-medium",children:"OU"})})]}),e.jsxs("button",{type:"button",onClick:pe,className:"w-full bg-white border border-slate-200 hover:bg-slate-50 text-slate-700 font-bold py-3 rounded-xl transition-all flex items-center justify-center gap-3",children:[e.jsx(gs,{}),s("continueWithGoogle")]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-slate-100 text-center",children:e.jsxs("p",{className:"text-slate-500 text-sm",children:[s(P?"dontHaveAccount":"alreadyHaveAccount"),e.jsx("button",{onClick:()=>{G(!P),S(null),V(""),I("")},className:"ml-2 text-indigo-600 hover:text-indigo-500 font-bold",children:s(P?"getStarted":"signIn")})]})})]})]})]})},xs=({onClose:a,onUpgrade:t,isDark:s,limitType:i="NODES",plans:r,userPlan:l,initialPlan:u,initialCycle:y,reason:j="LIMIT_REACHED",featureName:R,showNotification:F})=>{const N=i==="PROJECTS",[P,G]=U.useState(u||"PRO"),[k,M]=U.useState(y||"monthly");U.useEffect(()=>{u&&G(u),y&&M(y)},[u,y]);const m=(r==null?void 0:r.find(I=>I.id==="FREE"))||{projectLimit:1,nodeLimit:20},v=(r==null?void 0:r.find(I=>I.id==="PRO"))||{projectLimit:5,nodeLimit:100};r!=null&&r.find(I=>I.id==="PREMIUM");const b=r==null?void 0:r.find(I=>I.id===P),V=async(I,W="monthly")=>{var ue;try{const D=r==null?void 0:r.find(te=>te.id===I);let S=W==="monthly"?D==null?void 0:D.stripe_price_id_monthly:D==null?void 0:D.stripe_price_id_yearly;if(S||(S=(ue={PRO:{monthly:"price_1SgskMQXyRm8d3nvfTwRIFcP",yearly:"price_1SgskWQXyRm8d3nvmqvpaevX"},PREMIUM:{monthly:"price_1SgskMQXyRm8d3nv9j7KeMqh",yearly:"price_1SgskZQXyRm8d3nveCCv6TQG"}}[I])==null?void 0:ue[W]),!S||S.includes("price_fake")||S.includes("ID_AQUI")){F?F("Preço não configurado. Contate o suporte.","error"):alert("Preço não configurado.");return}localStorage.setItem("flux_pending_checkout",JSON.stringify({planId:I,cycle:W,timestamp:Date.now()}));const{api:ne}=await J(async()=>{const{api:te}=await Promise.resolve().then(()=>Ps);return{api:te}},void 0),{sessionId:le,url:O}=await ne.subscriptions.createCheckoutSession(S);if(O){window.location.href=O;return}if(!le)throw new Error("Sessão de checkout não retornou ID nem URL.");const{loadStripe:pe}=await J(async()=>{const{loadStripe:te}=await import("./utils-ig63ahen.js").then(Fe=>Fe.i);return{loadStripe:te}},[]),C="pk_test_51SRw4FQXyRm8d3nvVZYwohllCHpptLMXMPMG4twXCOizPL59rhZwcGFMd82vfgVhfwC4NbxaHEqKnNDAf26RpT4j00D80zaq2Y",z=await pe(C);if(!z)throw new Error("Stripe failed to load");const{error:Ee}=await z.redirectToCheckout({sessionId:le});if(Ee)throw Ee}catch(D){console.error("CHECKOUT ERROR:",D);const S=D instanceof Error?D.message:"Erro desconhecido";F?F(`Erro ao iniciar checkout: ${S}`,"error"):alert(S)}},E=()=>{V(P,k)};return e.jsx("div",{className:"fixed inset-0 z-[250] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in-up",children:e.jsxs("div",{className:`relative w-full max-w-lg md:max-w-4xl overflow-hidden rounded-3xl shadow-2xl border flex flex-col md:flex-row ${s?"bg-slate-900 border-slate-700":"bg-white border-slate-200"}`,children:[e.jsx("button",{onClick:a,className:"absolute top-4 right-4 z-50 p-2 rounded-full bg-black/10 hover:bg-black/20 text-slate-500 dark:text-slate-400 dark:hover:bg-white/10 transition-colors",title:"Fechar",children:e.jsx(xt,{size:20})}),e.jsxs("div",{className:`md:w-2/5 p-8 flex flex-col justify-center relative overflow-hidden ${s?"bg-slate-800":"bg-slate-50"}`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-600/10 to-purple-600/10 z-0"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-white dark:bg-slate-700 shadow-lg flex items-center justify-center mb-6 text-indigo-600 dark:text-indigo-400",children:N?e.jsx(ft,{size:28}):e.jsx(Aa,{size:28})}),e.jsxs("h2",{className:`text-2xl font-black mb-4 leading-tight ${s?"text-white":"text-slate-900"}`,children:["Assinatura ",(b==null?void 0:b.label)||(P==="PRO"?"Pro":"Premium")]}),e.jsx("p",{className:`text-sm mb-8 font-medium leading-relaxed ${s?"text-slate-300":"text-slate-600"}`,children:j==="FEATURE_LOCKED"?e.jsxs("span",{children:["Este recurso é exclusivo para assinantes ",e.jsx("b",{children:(b==null?void 0:b.label)||(P==="PRO"?"Pro":"Premium")}),".",l==="CONVIDADO"&&e.jsxs("span",{className:"block mt-4 p-4 bg-amber-50 dark:bg-amber-900/20 text-amber-800 dark:text-amber-200 rounded-xl border border-amber-100 dark:border-amber-800/50 text-xs",children:[e.jsx("b",{className:"block mb-1",children:"Nota para Convidados:"}),"Você tem acesso aos projetos da equipe, mas recursos avançados exigem uma conta própria."]})]}):N?`Você atingiu o limite de ${l==="FREE"?m.projectLimit:v.projectLimit} projetos ativos.`:`Você usou todos os ${l==="FREE"?m.nodeLimit:v.nodeLimit} elementos disponíveis.`}),e.jsx("div",{className:"space-y-3",children:((b==null?void 0:b.features)||(P==="PREMIUM"?["Projetos Ilimitados","Acesso total a Ícones","Suporte Prioritário"]:["Até 5 Projetos","Acesso basico a Ícones","Suporte Standard"])).map((I,W)=>e.jsxs("div",{className:"flex items-center gap-3 text-sm font-bold text-slate-700 dark:text-slate-300",children:[e.jsx(ae,{size:16,className:"text-green-500"})," ",I]},W))})]})]}),e.jsx("div",{className:"md:w-3/5 p-8 flex flex-col relative bg-white dark:bg-slate-900",children:e.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[e.jsxs("div",{className:"mb-4 p-1 bg-slate-100 dark:bg-slate-800 rounded-xl inline-flex self-center",children:[e.jsx("button",{onClick:()=>G("PRO"),className:`px-6 py-2 rounded-lg text-sm font-bold transition-all ${P==="PRO"?"bg-white dark:bg-slate-700 shadow-md text-indigo-600 dark:text-indigo-300":"text-slate-500"}`,children:"Pro"}),e.jsx("button",{onClick:()=>G("PREMIUM"),className:`px-6 py-2 rounded-lg text-sm font-bold transition-all ${P==="PREMIUM"?"bg-white dark:bg-slate-700 shadow-md text-purple-600 dark:text-purple-300":"text-slate-500"}`,children:"Premium"})]}),(()=>{const I=k==="monthly"?b==null?void 0:b.priceMonthly:b==null?void 0:b.priceYearly,W=I?`R$ ${I.toFixed(2).replace(".",",")}`:"Sob consulta";return e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h3",{className:"text-5xl font-black text-slate-900 dark:text-white mb-2 tracking-tighter",children:[W,e.jsxs("span",{className:"text-lg text-slate-400 font-medium ml-1 outline-none align-super",children:["/ ",k==="monthly"?"mês":"ano"]})]}),e.jsxs("div",{className:"flex justify-center gap-4 text-sm font-bold text-slate-500",children:[e.jsx("button",{onClick:()=>M("monthly"),className:`hover:text-indigo-500 transition-colors ${k==="monthly"?"text-indigo-600 underline underline-offset-4":""}`,children:"Mensal"}),e.jsx("button",{onClick:()=>M("yearly"),className:`hover:text-green-500 transition-colors ${k==="yearly"?"text-green-600 underline underline-offset-4":""}`,children:"Anual (-15%)"})]})]})})(),e.jsxs("button",{onClick:E,className:"w-full py-4 bg-indigo-600 hover:bg-indigo-500 text-white rounded-2xl font-black text-lg shadow-xl shadow-indigo-500/20 transition-all hover:-translate-y-1 active:scale-95 flex items-center justify-center gap-2 group",children:["Fazer Upgrade Agora ",e.jsx(Ze,{size:20,className:"group-hover:text-yellow-300 transition-colors"})]}),e.jsx("p",{className:"text-center mt-4 text-xs text-slate-400",children:"Pagamento seguro via Stripe. Cancele quando quiser."}),e.jsx("button",{onClick:a,className:`mt-4 text-xs font-medium hover:underline text-center ${s?"text-slate-500":"text-slate-400"}`,children:"Não, obrigado. Quero continuar limitado."})]})})]})})},fs=({announcements:a,onDismiss:t})=>!a||a.length===0?null:e.jsx("div",{className:"flex flex-col w-full z-40",children:a.filter(s=>s.isActive).map(s=>e.jsx("div",{className:`
                        w-full px-4 py-3 flex items-center justify-between gap-4 border-b
                        ${s.type==="ALERT"?"bg-red-600 text-white border-red-700":s.type==="WARNING"?"bg-amber-500 text-slate-900 border-amber-600":"bg-indigo-600 text-white border-indigo-700"}
                    `,children:e.jsxs("div",{className:"flex items-center gap-3 container mx-auto max-w-7xl",children:[e.jsx("div",{className:"shrink-0",children:s.type==="ALERT"?e.jsx(_a,{size:20}):s.type==="WARNING"?e.jsx(Pe,{size:20}):e.jsx(Ze,{size:20})}),e.jsxs("div",{className:"flex-1 text-sm font-medium",children:[e.jsxs("span",{className:"font-bold uppercase tracking-wider text-xs mr-2 opacity-80",children:[s.title,":"]}),s.message]})]})},s.id))});var p=(a=>(a.LANDING_PAGE="LANDING_PAGE",a.OPTIN_PAGE="OPTIN_PAGE",a.CHECKOUT="CHECKOUT",a.ORDER_PAGE="ORDER_PAGE",a.VSL="VSL",a.UPSELL="UPSELL",a.DOWNSELL="DOWNSELL",a.THANK_YOU="THANK_YOU",a.WEBINAR="WEBINAR",a.LIVE_WEBINAR="LIVE_WEBINAR",a.BLOG="BLOG",a.QUIZ="QUIZ",a.MEMBERSHIP_AREA="MEMBERSHIP_AREA",a.DOWNLOAD_PAGE="DOWNLOAD_PAGE",a.CALENDAR_PAGE="CALENDAR_PAGE",a.GENERIC_PAGE="GENERIC_PAGE",a.POPUP="POPUP",a.SYSTEM_PAGE="SYSTEM_PAGE",a.ECOMMERCE_PAGE="ECOMMERCE_PAGE",a.META_ADS="META_ADS",a.FACEBOOK_ADS="FACEBOOK_ADS",a.GOOGLE_ADS="GOOGLE_ADS",a.GOOGLE_SEARCH="GOOGLE_SEARCH",a.BING_ADS="BING_ADS",a.TIKTOK_ADS="TIKTOK_ADS",a.INSTAGRAM="INSTAGRAM",a.YOUTUBE="YOUTUBE",a.PINTEREST="PINTEREST",a.KWAI="KWAI",a.TWITCH="TWITCH",a.ORGANIC_SOCIAL="ORGANIC_SOCIAL",a.EMAIL="EMAIL",a.WHATSAPP="WHATSAPP",a.SMS="SMS",a.CALL="CALL",a.ZOOM="ZOOM",a.GOOGLE_MEET="GOOGLE_MEET",a.TELEGRAM="TELEGRAM",a.DISCORD="DISCORD",a.NOTE="NOTE",a.SUBSCRIBER="SUBSCRIBER",a.ADD_TO_CART="ADD_TO_CART",a.ADD_TO_LIST="ADD_TO_LIST",a.CRM_PIPELINE="CRM_PIPELINE",a.MEETING="MEETING",a.LEAD="LEAD",a.REVENUE="REVENUE",a.PURCHASE_SUB="PURCHASE_SUB",a.AB_TEST="AB_TEST",a))(p||{}),me=(a=>(a.BUILDER="BUILDER",a.PRESENTATION="PRESENTATION",a))(me||{});const bs={pt:{heroTitle:`Sua Estratégia Merece
Mais que um Rabisco.`,heroDesc:"Profissionalize seu planejamento. Transforme ideias soltas em mapas visuais organizados, prontos para apresentar, ensinar ou executar.",startFree:"Criar Meu Primeiro Mapa",watchDemo:"Ver Como Funciona",features:"Benefícios",pricing:"Planos",signIn:"Entrar",getStarted:"Começar Grátis",problemTitle:"Benefícios",problemDesc:"Por que escolher o FluxFunnel?",problem1Title:"Clareza Imediata",problem1Desc:"Veja toda sua estratégia em um único mapa visual.",problem2Title:"Planejamento Profissional",problem2Desc:"Pare de usar papel, quadro branco ou ferramentas improvisadas.",problem3Title:"Apresente e Ensine",problem3Desc:"Explique sua estratégia para clientes, sócios ou equipe em minutos.",problem4Title:"Mais Organização",problem4Desc:"Transforme ideias soltas em processos bem definidos.",solutionTitle:"O que é o FluxFunnel?",solutionDesc:"O FluxFunnel é um construtor visual de funis e estratégias, criado para quem precisa enxergar, organizar e explicar processos de marketing e vendas.",solution1Title:"Canvas Visual",solution1Desc:"Arrasta e solta sem códigos. Monte tudo visualmente.",solution2Title:"Sem Integrações Complexas",solution2Desc:"Foco 100% no planejamento visual e organização.",solution3Title:"Biblioteca Completa",solution3Desc:"Ads, Páginas, CRM, WhatsApp e muito mais.",useCasesTitle:"Para Quem É?",useCase1Title:"Gestores e Donos",useCase1Desc:"Donos de negócios, Gestores de Marketing e Gestores Comerciais.",useCase2Title:"Prestadores de Serviço",useCase2Desc:"Agências, Consultores e Times de Vendas.",useCase3Title:"Educadores",useCase3Desc:"Produtores Digitais e Professores que precisam de didática.",howItWorks:"Como Funciona",howItWorksSub:"Do caos à ordem em passos simples.",step1Title:"1. Crie e Arraste",step1Desc:"Crie um novo mapa e arraste elementos (Ads, Páginas, WhatsApp) para o canvas.",step2Title:"2. Conecte os Fluxos",step2Desc:"Ligue os pontos para definir a jornada do cliente e visualize toda a estratégia.",step3Title:"3. Planeje e Execute",step3Desc:"Use the map to present, validate ideas or guide the implementation.",faqTitle:"Dúvidas Comuns",faq1Q:"É difícil de usar?",faq1A:"Não. O FluxFunnel foi criado para qualquer pessoa, mesmo sem conhecimento técnico. É intuitivo e 100% visual.",faq2Q:"Preciso integrar com alguma conta de anúncio?",faq2A:"Não. O foco é 100% no planejamento visual e organização. Sem configurações técnicas chatas ou integrações complexas.",faq3Q:"Quais os limites do plano grátis?",faq3A:"Você pode criar 1 projeto ativo, com até 20 elementos no fluxo e acesso aos ícones básicos.",ctaFinalTitle:"Organize Suas Ideias Hoje",ctaFinalDesc:"Crie sua conta gratuita e desenhe seu primeiro fluxo profissional em minutos.",ctaFinalBtn:"Começar Agora - É Grátis",upgradeSuccess:"Plano atualizado com sucesso! Aproveite os recursos Premium.",noCreditCard:"Sem cartão de crédito",freeTrialDays:"Plano Gratuito Vitalício",monthly:"Mensal",yearly:"Anual",simplePricing:"Planos Simples",mostPopular:"RECOMENDADO",pricingFreeFeat1:"1 Projeto Ativo",pricingFreeFeat2:"20 Elements no Fluxo",pricingFreeFeat3:"Ícones Básicos",pricingFreeFeat4:"Modo Apresentação",pricingFreeFeat5:"Suporte via Email",pricingFreeFeat6:"Modo Escuro & Claro",pricingProFeat1:"5 Projetos Ativos",pricingProFeat2:"100 Elementos no Fluxo",pricingProFeat3:"Biblioteca Completa",pricingProFeat4:"Notas & Anotações",pricingProFeat5:"Salvar Templates",pricingProFeat6:"Suporte Dedicado",pricingPremiumFeat1:"Projetos Ilimitados",pricingPremiumFeat2:"Elementos Ilimitados",pricingPremiumFeat3:"Colaboração em Equipe",pricingPremiumFeat4:"IA: Auditoria de Estratégia (Beta)",pricingPremiumFeat5:"Link de Compartilhamento",pricingPremiumFeat6:"Suporte Prioritário",planBtnFree:"Começar Grátis",planBtnPro:"Assinar Agora",planBtnPremium:"Falar com Vendas",footerProduct:"Produto",footerCompany:"Empresa",footerLegal:"Legal",footerTagline:"Onde grandes estratégias são desenhadas.",footerLinkBuilder:"Construtor",footerLinkSims:"Galeria",footerLinkIntegrations:"Ícones",footerLinkRoadmap:"Roadmap & Feedback",footerLinkAbout:"Sobre",footerLinkBlog:"Blog",footerLinkCareers:"Carreiras",footerLinkPrivacy:"Privacidade",footerLinkTerms:"Termos",footerRights:"FluxFunnel Inc.",startBuilding:"Comece a organizar agora.",testimonialsNav:"Para Quem É",faqNav:"Dúvidas",pricingNav:"Preços",featuresNav:"Beneficios",trafficSources:"Fontes de Tráfego",communication:"Comunicação",funnelPages:"Páginas do Funil",opsLogic:"Ops & Lógica",componentLib:"Biblioteca",dragElements:"Arraste para o canvas",projects:"Projetos",myProjects:"Meus Projetos",maps:"Mapas",team:"Equipe",upgrade:"Upgrade",settings:"Configurações",signOut:"Sair",editFunnel:"Editar Funil",present:"Apresentar",lastSaved:"Salvo às",save:"Salvar",unsavedChanges:"• Não Salvo",saved:"Salvo",noProjectSelected:"Nenhum projeto selecionado",backToProjects:"Voltar para Projetos",createMapTitle:"Criar Novo Mapa",projectName:"Nome do Projeto",cancel:"Cancelar",createMapBtn:"Criar Mapa",unsavedModalTitle:"Alterações não salvas",unsavedModalDesc:"Você tem edições pendentes no seu funil. O que deseja fazer antes de sair?",saveAndExit:"Salvar e Sair",discardChanges:"Descartar alterações",keepEditing:"Cancelar (Continuar editando)",projectsDesc:"Gerencie seus mapas e fluxos educacionais.",newProject:"Novo Projeto",createVisualShortcut:"Criar Novo Mapa",editedAt:"Editado em",elementsCount:"Elementos",openBtn:"Abrir",deleteBtn:"Excluir",noMapsCreated:"Nenhum mapa criado",startOrganizingNow:"Comece a organizar suas ideias agora mesmo.",createFirstProject:"Criar meu primeiro projeto",chooseTemplate:"Escolha um Modelo",blankCanvas:"Em Branco",blankCanvasDesc:"Comece do zero com um canvas limpo.",templateVSL:"Funil VSL",templateWebinar:"Funil de Webinar",templateTripwire:"Funil Tripwire",templateLaunch:"Lançamento Semente",saveAsTemplate:"Salvar como Template",myTemplates:"Meus Modelos",systemTemplates:"Modelos do Sistema",templateSaved:"Template salvo com sucesso!",manageAccount:"Gerencie sua conta, preferências e assinatura.",tabProfile:"Meu Perfil",tabPreferences:"Preferencias",tabPlan:"Planos e Faturamento",tabSecurity:"Segurança",tabNotifications:"Notificaciones",personalInfo:"Informações Pessoais",yourPhoto:"Sua Foto",photoDesc:"Isso será exibido no seu perfil.",saveChanges:"Salvar Alterações",saving:"Salvando...",appearanceLang:"Aparência e Idioma",darkMode:"Modo Escuro",darkModeDesc:"Alterne entre temas claro e escuro.",systemLang:"Idioma do Sistema",currentPlan:"Plano Atual",autoRenewal:"Renovação automática ativa",billingHistory:"Histórico de Faturamento",tableDate:"Data",tableDesc:"Descrição",tableAmount:"Valor",tableStatus:"Status",noBilling:"Sem histórico de cobranças (Plano Grátis)",paid:"Pago",accountSecurity:"Segurança da Conta",currentPwd:"Senha Atual",newPwd:"Nova Senha",confirmPwd:"Confirmar Nova Senha",updatePwd:"Atualizar Senha",dangerZone:"Zona de Perigo",deleteAccount:"Excluir Conta",deleteWarning:"A exclusão da sua conta é irreversível. Todos os seus mapas e dados serão perdidos.",companyName:"Nome da Empresa",jobTitle:"Cargo / Função",paymentMethod:"Método de Pagamento",cardEnding:"terminado em",expires:"Expira em",updateMethod:"Atualizar",usageLimit:"Uso do Plano",projectsUsed:"Projetos Criados",nodesUsed:"Elementos no Fluxo",upgradeToIncrease:"Fazer upgrade para aumentar limites",activeSessions:"Sessões Ativas",currentSession:"Este dispositivo",twoFactor:"Autenticação de Dois Fatores (2FA)",twoFactorDesc:"Adicione uma camada extra de segurança à sua conta.",enable:"Ativar",disable:"Desativar",marketingEmails:"E-mails de Marketing",marketingEmailsDesc:"Receba dicas, ofertas e novidades do produto.",securityEmails:"Alertas de Segurança",securityEmailsDesc:"Receba avisos sobre logins suspeitos.",welcomeBack:"Bem-vindo de volta",createAccount:"Criar Conta",enterDetails:"Insira seus dados abaixo",fullName:"Nome Completo",emailAddr:"E-mail",password:"Senha",dontHaveAccount:"Não tem uma conta?",alreadyHaveAccount:"Já tem uma conta?",starter:"Grátis",pro:"Pro",agency:"Premium",forever:"/ para sempre",month:"/ mês",contactSales:"Falar com Vendas",aiWelcome:"Olá! Sou a IA do FluxFunnel. Posso ajudar a auditar sua estratégia. O que deseja analisar?",aiAuditBtn:"Auditar Funil",aiSimulateBtn:"Simular Tráfico",aiImproveBtn:"Melhorar Conversão",roadmapTitle:"Roadmap Público",roadmapDesc:"Ajude-nos a construir o melhor construtor de funis. Vote em funcionalidades ou sugira melhorias.",feedbackBtn:"Enviar Sugestão",statusPlanned:"Planejado",statusInProgress:"Em Progreso",statusCompleted:"Concluído",statusPending:"Em Análise",feedbackTypeFeature:"Nova Funcionalidade",feedbackTypeBug:"Bug / Erro",feedbackTypeImprovement:"Melhoria",feedbackTypeOther:"Outro",submitFeedbackTitle:"Enviar Feedback",feedbackTitleLabel:"Título",feedbackDescLabel:"Descrição",feedbackTypeLabel:"Tipo",submitBtn:"Enviar",backToHome:"Voltar para Início",adminDashboard:"Painel Mestre (SAS)",searchPlaceholder:"Buscar feedbacks...",filterByType:"Filtrar por Tipo",filterByStatus:"Filtrar por Status",allTypes:"Todos os Tipos",allStatus:"Todos os Status",noFeedbackFound:"Nenhum feedback encontrado.",noFeedbackDesc:"Seja o primeiro a sugerir algo nesta categoria!",loginRequiredTitle:"Login Necessário",loginRequiredMsg:"Você precisa estar conectado ao sistema para enviar sugestões ou votar. Entre com sua conta Google ou email/senha.",loginBtn:"Fazer Login / Cadastrar",continueWithGoogle:"Entrar com Google",adminOverview:"Visão Geral",adminUsers:"Usuários",adminPlans:"Planos",adminMetrics:"Métricas & Receita",adminFeedback:"Roadmap & Feedback",adminTotalUsers:"Total Usuários",adminActiveUsers:"Usuários Ativos",adminInactiveUsers:"Inativos",adminBannedUsers:"Banidos",adminMRR:"Receita Mensal (MRR)",adminPlanDistribution:"Distribuição de Planos",adminEditUser:"Editar Usuário",adminSaveUser:"Salvar Usuário",adminDisableUser:"Desativar",adminEnableUser:"Ativar",adminDeleteUser:"Banir/Excluir",adminEditPlan:"Editar Plano",adminCreatePlan:"Novo Plano",adminPrice:"Preço Mensal",adminPriceYearly:"Preço Anual",adminDeletePlan:"Excluir Plano",adminLimits:"Limites (Projetos/Nós)",adminActions:"Ações",adminUserStatus:"Status",adminLastLogin:"Último Login",adminImpersonate:"Acessar Conta",adminRecentActivity:"Atividade Recente",adminRevenueTrend:"Tendência de Receita",adminFeaturesList:"Features (Separadas por vírgula)",loginRequiredMsgOld:"Você precisa estar conectado para interagir. Deseja fazer login agora?",viewingMode:"Modo de Visualização • Edição Desativada",marketplace:"Marketplace",marketplaceDesc:"Compartilhe e descubra estratégias da nossa comunidade.",shareTemplate:"Compartilhar no Marketplace",shareTemplateDesc:"Sua estratégia passará por uma curadoria antes de ficar pública.",topRated:"Melhores Avaliados",mostDownloaded:"Mais Baixados",allCategories:"Todas Categorias",searchTemplates:"Buscar estratégias...",downloadTemplate:"Baixar Estratégia",templateRating:"Avaliação",publishSuccess:"Enviado para aprovação!",moderationPending:"Aguardando moderação",moderationApproved:"Aprovado",moderationRejected:"Rejeitado",ratingRequired:"Avalie este template",premiumOnly:"Recurso Exclusivo Premium",reportTemplate:"Denunciar Conteúdo",quickLook:"Visão Rápida"},en:{heroTitle:`Your Strategy Deserves
More Than a Scribble.`,heroDesc:"Professionalize your planning. Transform loose ideas into organized visual maps, ready to present, teach, or execute.",startFree:"Create My First Map",watchDemo:"Watch How It Works",features:"Benefits",pricing:"Plans",signIn:"Sign In",getStarted:"Get Started Free",problemTitle:"Benefits",problemDesc:"Why choose FluxFunnel?",problem1Title:"Instant Clarity",problem1Desc:"See your entire strategy in a single visual map.",problem2Title:"Professional Planning",problem2Desc:"Stop using paper, whiteboards, or improvised tools.",problem3Title:"Present and Teach",problem3Desc:"Explain your strategy to clients, partners, or team in minutes.",problem4Title:"More Organization",problem4Desc:"Transform loose ideas into well-defined processes.",solutionTitle:"What is FluxFunnel?",solutionDesc:"FluxFunnel is a visual funnel and strategy builder designed for those who need to see, organize, and explain marketing and sales processes.",solution1Title:"Visual Canvas",solution1Desc:"Drag and drop without code. Build everything visually.",solution2Title:"No Complex Integrations",solution2Desc:"100% focused on visual planning and organization.",solution3Title:"Complete Library",solution3Desc:"Ads, Pages, CRM, WhatsApp, and much more.",useCasesTitle:"Who Is It For?",useCase1Title:"Managers & Owners",useCase1Desc:"Business owners, Marketing Managers, and Sales Managers.",useCase2Title:"Service Providers",useCase2Desc:"Agencies, Consultants, and Sales Teams.",useCase3Title:"Educators",useCase3Desc:"Digital Producers and Teachers who need didactics.",howItWorks:"How It Works",howItWorksSub:"From chaos to order in simple steps.",step1Title:"1. Create & Drag",step1Desc:"Create a new map and drag elements (Ads, Pages, WhatsApp) to the canvas.",step2Title:"2. Connect Flows",step2Desc:"Connect the dots to define the customer journey and visualize the whole strategy.",step3Title:"3. Plan & Execute",step3Desc:"Use the map to present, validate ideas, or guide implementation.",faqTitle:"Common Questions",faq1Q:"Is it hard to use?",faq1A:"No. FluxFunnel was created for anyone, even without technical knowledge. It is intuitive and 100% visual.",faq2Q:"Do I need to integrate with any ad account?",faq2A:"No. The focus is 100% on visual planning and organization. No boring technical configurations or complex integrations.",faq3Q:"What are the limits of the free plan?",faq3A:"You can create 1 active project, with up to 20 elements in the flow and access to basic icons.",ctaFinalTitle:"Organize Your Ideas Today",ctaFinalDesc:"Create your free account and draw your first professional flow in minutes.",ctaFinalBtn:"Start Now - It's Free",upgradeSuccess:"Plan updated successfully! Enjoy Premium features.",noCreditCard:"No credit card required",freeTrialDays:"Lifetime Free Plan",monthly:"Monthly",yearly:"Yearly",simplePricing:"Simple Plans",mostPopular:"RECOMMENDED",pricingFreeFeat1:"1 Active Project",pricingFreeFeat2:"20 Elements in Flow",pricingFreeFeat3:"Basic Icons",pricingFreeFeat4:"Presentation Mode",pricingFreeFeat5:"Email Support",pricingFreeFeat6:"Dark & Light Mode",pricingProFeat1:"5 Active Projects",pricingProFeat2:"100 Elements in Flow",pricingProFeat3:"Complete Library",pricingProFeat4:"Sticky Notes",pricingProFeat5:"Save Templates",pricingProFeat6:"Dedicated Support",pricingPremiumFeat1:"Unlimited Projects",pricingPremiumFeat2:"Unlimited Elements",pricingPremiumFeat3:"Team Collab (3)",pricingPremiumFeat4:"AI: Strategy Audit (Beta)",pricingPremiumFeat5:"Share Link",pricingPremiumFeat6:"Priority Support",planBtnFree:"Start for Free",planBtnPro:"Subscribe Now",planBtnPremium:"Contact Sales",footerProduct:"Product",footerCompany:"Company",footerLegal:"Legal",footerTagline:"Where great strategies are drawn.",footerLinkBuilder:"Builder",footerLinkSims:"Gallery",footerLinkIntegrations:"Icons",footerLinkRoadmap:"Roadmap & Feedback",footerLinkAbout:"About",footerLinkBlog:"Blog",footerLinkCareers:"Careers",footerLinkPrivacy:"Privacy",footerLinkTerms:"Terms",footerRights:"FluxFunnel Inc.",startBuilding:"Start organizing now.",testimonialsNav:"Who Is It For",faqNav:"FAQ",pricingNav:"Pricing",featuresNav:"Features",trafficSources:"Traffic Sources",communication:"Communication",funnelPages:"Funnel Pages",opsLogic:"Ops & Logic",componentLib:"Library",dragElements:"Drag to canvas",projects:"Projects",myProjects:"My Projects",maps:"Maps",team:"Team",upgrade:"Upgrade",settings:"Settings",signOut:"Sign Out",editFunnel:"Edit Funnel",present:"Present",lastSaved:"Saved at",save:"Save",unsavedChanges:"• Unsaved",saved:"Saved",noProjectSelected:"No project selected",backToProjects:"Back to Projects",createMapTitle:"Create New Map",projectName:"Project Name",cancel:"Cancel",createMapBtn:"Create Map",unsavedModalTitle:"Unsaved Changes",unsavedModalDesc:"You have pending edits. What do you want to do before leaving?",saveAndExit:"Save and Exit",discardChanges:"Discard Changes",keepEditing:"Cancel (Keep Editing)",projectsDesc:"Manage your maps and educational flows.",newProject:"New Project",createVisualShortcut:"Create New Map",editedAt:"Edited at",elementsCount:"Elements",openBtn:"Open",deleteBtn:"Delete",noMapsCreated:"No maps created",startOrganizingNow:"Start organizing your ideas right now.",createFirstProject:"Create my first project",chooseTemplate:"Choose a Template",blankCanvas:"Blank Canvas",blankCanvasDesc:"Start from scratch with a clean slate.",templateVSL:"VSL Funnel",templateWebinar:"Webinar Funnel",templateTripwire:"Tripwire Funnel",templateLaunch:"Seed Launch",saveAsTemplate:"Save as Template",myTemplates:"My Templates",systemTemplates:"System Templates",templateSaved:"Template saved successfully!",manageAccount:"Manage your account, preferences, and subscription.",tabProfile:"My Profile",tabPreferences:"Preferences",tabPlan:"Plan & Billing",tabSecurity:"Security",tabNotifications:"Notifications",personalInfo:"Personal Information",yourPhoto:"Your Photo",photoDesc:"This will be displayed on your profile.",saveChanges:"Save Changes",saving:"Saving...",appearanceLang:"Appearance & Language",darkMode:"Dark Mode",darkModeDesc:"Switch between light and dark themes.",systemLang:"System Language",currentPlan:"Current Plan",autoRenewal:"Auto-renewal active",billingHistory:"Billing History",tableDate:"Date",tableDesc:"Description",tableAmount:"Amount",tableStatus:"Status",noBilling:"No billing history (Free Plan)",paid:"Paid",accountSecurity:"Account Security",currentPwd:"Current Password",newPwd:"New Password",confirmPwd:"Confirm New Password",updatePwd:"Update Password",dangerZone:"Danger Zone",deleteAccount:"Delete Account",deleteWarning:"Deleting your account is irreversible. All maps and data will be lost.",companyName:"Company Name",jobTitle:"Job Title",paymentMethod:"Payment Method",cardEnding:"ending in",expires:"Expires",updateMethod:"Update",usageLimit:"Plan Usage",projectsUsed:"Projects Created",nodesUsed:"Elements in Flow",upgradeToIncrease:"Upgrade to increase limits",activeSessions:"Active Sessions",currentSession:"This device",twoFactor:"Two-Factor Authentication (2FA)",twoFactorDesc:"Add an extra layer of security to your account.",enable:"Enable",disable:"Disable",marketingEmails:"Marketing Emails",marketingEmailsDesc:"Receive tips, offers, and product news.",securityEmails:"Security Alerts",securityEmailsDesc:"Receive alerts about suspicious logins.",welcomeBack:"Welcome back",createAccount:"Create Account",enterDetails:"Enter your details below",fullName:"Full Name",emailAddr:"Email",password:"Password",dontHaveAccount:"Don't have an account?",alreadyHaveAccount:"Already have an account?",starter:"Free",pro:"Pro",agency:"Premium",forever:"/ forever",month:"/ month",contactSales:"Contact Sales",aiWelcome:"Hello! I am FluxFunnel AI. I can help audit your strategy. What would you like to analyze?",aiAuditBtn:"Audit Funnel",aiSimulateBtn:"Simulate Traffic",aiImproveBtn:"Improve Conversion",roadmapTitle:"Public Roadmap",roadmapDesc:"Help us build the best funnel builder. Vote on features or suggest improvements.",feedbackBtn:"Submit Suggestion",statusPlanned:"Planned",statusInProgress:"In Progress",statusCompleted:"Completed",statusPending:"Pending Review",feedbackTypeFeature:"New Feature",feedbackTypeBug:"Bug / Error",feedbackTypeImprovement:"Improvement",feedbackTypeOther:"Other",submitFeedbackTitle:"Submit Feedback",feedbackTitleLabel:"Title",feedbackDescLabel:"Description",feedbackTypeLabel:"Type",submitBtn:"Submit",backToHome:"Back to Home",adminDashboard:"Master Dashboard (SAS)",searchPlaceholder:"Search feedback...",filterByType:"Filter by Type",filterByStatus:"Filter by Status",allTypes:"All Types",allStatus:"All Status",noFeedbackFound:"No feedback found.",noFeedbackDesc:"Be the first to suggest something in this category!",loginRequiredTitle:"Login Required",loginRequiredMsg:"You need to be connected to the system to submit suggestions or vote. Sign in with Google or email/password.",loginBtn:"Login / Sign Up",continueWithGoogle:"Continue with Google",adminOverview:"Overview",adminUsers:"Users",adminPlans:"Plans",adminMetrics:"Metrics & Revenue",adminFeedback:"Roadmap & Feedback",adminTotalUsers:"Total Users",adminActiveUsers:"Active Users",adminInactiveUsers:"Inactive",adminBannedUsers:"Banned",adminMRR:"Monthly Revenue (MRR)",adminPlanDistribution:"Plan Distribution",adminEditUser:"Edit User",adminSaveUser:"Save User",adminDisableUser:"Disable",adminEnableUser:"Enable",adminDeleteUser:"Ban/Delete",adminEditPlan:"Edit Plan",adminCreatePlan:"New Plan",adminPrice:"Monthly Price",adminPriceYearly:"Yearly Price",adminDeletePlan:"Delete Plan",adminLimits:"Limits (Projects/Nodes)",adminActions:"Actions",adminUserStatus:"Status",adminLastLogin:"Last Login",adminImpersonate:"Impersonate",adminRecentActivity:"Recent Activity",adminRevenueTrend:"Revenue Trend",adminFeaturesList:"Features (Comma separated)",loginRequiredMsgOld:"You must be logged in to interact. Do you want to sign in now?",viewingMode:"Viewing Mode • Editing Disabled",marketplace:"Marketplace",marketplaceDesc:"Share and discover strategies from our community.",shareTemplate:"Share to Marketplace",shareTemplateDesc:"Your strategy will be curated before going public.",topRated:"Top Rated",mostDownloaded:"Most Downloaded",allCategories:"All Categories",searchTemplates:"Search strategies...",downloadTemplate:"Download Strategy",templateRating:"Rating",publishSuccess:"Sent for approval!",moderationPending:"Awaiting moderation",moderationApproved:"Approved",moderationRejected:"Rejected",ratingRequired:"Rate this template",premiumOnly:"Premium Exclusive Feature",reportTemplate:"Report Content",quickLook:"Quick Look"},es:{heroTitle:`Tu Estrategia Merece
Más que un Garabato.`,heroDesc:"Profesionaliza tu planificación. Transforma ideas sueltas en mapas visuais organizados, listos para presentar, enseñar o ejecutar.",startFree:"Crear Mi Primer Mapa",watchDemo:"Ver Cómo Funciona",features:"Beneficios",pricing:"Planes",signIn:"Entrar",getStarted:"Empezar Gratis",problemTitle:"Beneficios",problemDesc:"¿Por qué elegir FluxFunnel?",problem1Title:"Claridad Inmediata",problem1Desc:"Ve toda tu estrategia en un único mapa visual.",problem2Title:"Planificación Profesional",problem2Desc:"Deja de usar papel, pizarra o herramientas improvisadas.",problem3Title:"Presenta y Enseña",problem3Desc:"Explica tu estrategia a clientes, socios o equipo en minutos.",problem4Title:"Más Organización",problem4Desc:"Transforma ideas sueltas en procesos bien definidos.",solutionTitle:"¿Qué es FluxFunnel?",solutionDesc:"FluxFunnel es un constructor visual de embudos y estrategias, creado para quien necesita ver, organizar e explicar procesos de marketing e ventas.",solution1Title:"Canvas Visual",solution1Desc:"Arrastra y suelta sin códigos. Monta todo visualmente.",solution2Title:"Sin Integraciones Complejas",solution2Desc:"Enfoque 100% en la planificación visual e organización.",solution3Title:"Biblioteca Completa",solution3Desc:"Ads, Páginas, CRM, WhatsApp y mucho más.",useCasesTitle:"¿Para Quién Es?",useCase1Title:"Gestores y Dueños",useCase1Desc:"Dueños de negocios, Gestores de Marketing y Gestores Comerciais.",useCase2Title:"Proveedores de Servicio",useCase2Desc:"Agencias, Consultores e Equipos de Ventas.",useCase3Title:"Educadores",useCase3Desc:"Productores Digitales y Profesores que necesitan didáctica.",howItWorks:"Cómo Funciona",howItWorksSub:"Del caos al orden en pasos simples.",step1Title:"1. Crea y Arrastra",step1Desc:"Crea un nuevo mapa y arrastra elementos (Ads, Páginas, WhatsApp) al canvas.",step2Title:"2. Conecta los Flujos",step2Desc:"Une los puntos para definir el viaje del cliente y visualiza toda la estrategia.",step3Title:"3. Planifica y Ejecuta",step3Desc:"Usa el mapa para presentar, validar ideas o guiar la implementación.",faqTitle:"Dudas Comunes",faq1Q:"¿Es difícil de usar?",faq1A:"No. FluxFunnel fue creado para cualquier persona, incluso sin conocimiento técnico. Es intuitivo y 100% visual.",faq2Q:"¿Necesito integrar con alguna cuenta de anuncios?",faq2A:"No. El enfoque é 100% en la planificación visual y organización. Sin configuraciones técnicas aburridas o integraciones complejas.",faq3Q:"¿Cuáles son los límites del plan gratuito?",faq3A:"Puedes crear 1 proyecto activo, con hasta 20 elementos en el flujo y acceso a los iconos básicos.",ctaFinalTitle:"Organiza Tus Ideas Hoy",ctaFinalDesc:"Crea tu cuenta gratuita y dibuja tu primer flujo profesional en minutos.",ctaFinalBtn:"Empezar Ahora - Es Gratis",upgradeSuccess:"¡Plan actualizado con éxito! Disfruta de las funciones Premium.",noCreditCard:"Sin tarjeta de crédito",freeTrialDays:"Plan Gratuito Vitalicio",monthly:"Mensual",yearly:"Anual",simplePricing:"Planes Simples",mostPopular:"RECOMENDADO",pricingFreeFeat1:"1 Proyecto Activo",pricingFreeFeat2:"20 Elements en Flujo",pricingFreeFeat3:"Iconos Básicos",pricingFreeFeat4:"Modo Presentación",pricingFreeFeat5:"Soporte vía Email",pricingFreeFeat6:"Modo Oscuro & Claro",pricingProFeat1:"5 Proyectos Activos",pricingProFeat2:"100 Elementos en Flujo",pricingProFeat3:"Biblioteca Completa",pricingProFeat4:"Notas Adhesivas",pricingProFeat5:"Guardar Plantillas",pricingProFeat6:"Soporte Dedicado",pricingPremiumFeat1:"Proyectos Ilimitados",pricingPremiumFeat2:"Elementos Ilimitados",pricingPremiumFeat3:"Equipo (3 Personas)",pricingPremiumFeat4:"IA: Auditoría de Estrategia (Beta)",pricingPremiumFeat5:"Compartir Link",pricingPremiumFeat6:"Soporte Prioritario",planBtnFree:"Empezar Gratis",planBtnPro:"Suscribirse Ahora",planBtnPremium:"Hablar con Ventas",footerProduct:"Producto",footerCompany:"Empresa",footerLegal:"Legal",footerTagline:"Donde se dibujan las grandes estrategias.",footerLinkBuilder:"Constructor",footerLinkSims:"Galería",footerLinkIntegrations:"Iconos",footerLinkRoadmap:"Roadmap y Feedback",footerLinkAbout:"Sobre",footerLinkBlog:"Blog",footerLinkCareers:"Carreras",footerLinkPrivacy:"Privacidad",footerLinkTerms:"Términos",footerRights:"FluxFunnel Inc.",startBuilding:"Empieza a organizar ahora.",testimonialsNav:"Para Quién Es",faqNav:"Dudas",pricingNav:"Precios",featuresNav:"Beneficios",trafficSources:"Fuentes de Tráfico",communication:"Comunicación",funnelPages:"Páginas del Embudo",opsLogic:"Ops y Lógica",componentLib:"Biblioteca",dragElements:"Arrastra al canvas",projects:"Proyectos",myProjects:"Mis Proyectos",maps:"Mapas",team:"Equipo",upgrade:"Mejorar",settings:"Configuraciones",signOut:"Salir",editFunnel:"Editar Embudo",present:"Presentar",lastSaved:"Guardado a las",save:"Guardar",unsavedChanges:"• No Guardado",saved:"Guardado",noProjectSelected:"Ningún proyecto seleccionado",backToProjects:"Volver a Proyectos",createMapTitle:"Crear Nuevo Mapa",projectName:"Nombre del Proyecto",cancel:"Cancelar",createMapBtn:"Crear Mapa",unsavedModalTitle:"Cambios no guardados",unsavedModalDesc:"Tienes ediciones pendientes. ¿Qué deseas hacer antes de salir?",saveAndExit:"Guardar y Salir",discardChanges:"Descartar cambios",keepEditing:"Cancelar (Seguir editando)",projectsDesc:"Gestiona tus mapas y flujos educativos.",newProject:"Nuevo Projeto",createVisualShortcut:"Crear Nuevo Mapa",editedAt:"Editado el",elementsCount:"Elementos",openBtn:"Abrir",deleteBtn:"Eliminar",noMapsCreated:"Ningún mapa creado",startOrganizingNow:"Empieza a organizar tus ideas ahora mismo.",createFirstProject:"Crear mi primer projeto",chooseTemplate:"Elige una Plantilla",blankCanvas:"Lienzo en Blanco",blankCanvasDesc:"Empieza desde cero con un lienzo limpio.",templateVSL:"Embudo VSL",templateWebinar:"Embudo Webinar",templateTripwire:"Embudo Tripwire",templateLaunch:"Lanzamiento Semilla",saveAsTemplate:"Guardar como Plantilla",myTemplates:"Mis Plantillas",systemTemplates:"Plantillas del Sistema",templateSaved:"¡Plantilla guardada con éxito!",manageAccount:"Gestiona tu cuenta, preferencias y suscripción.",tabProfile:"Mi Perfil",tabPreferences:"Preferencias",tabPlan:"Planes y Facturación",tabSecurity:"Seguridad",tabNotifications:"Notificaciones",personalInfo:"Información Personal",yourPhoto:"Tu Foto",photoDesc:"Esto se mostrará en tu perfil.",saveChanges:"Guardar Cambios",saving:"Guardando...",appearanceLang:"Apariencia e Idioma",darkMode:"Modo Oscuro",darkModeDesc:"Alterna entre temas claro e oscuro.",systemLang:"Idioma del Sistema",currentPlan:"Plan Actual",autoRenewal:"Renovación automática activa",billingHistory:"Historial de Facturación",tableDate:"Fecha",tableDesc:"Descripción",tableAmount:"Importe",tableStatus:"Estado",noBilling:"Sin historial de cobros (Plan Gratuito)",paid:"Pagado",accountSecurity:"Seguridad de la Cuenta",currentPwd:"Contraseña Actual",newPwd:"Nueva Contraseña",confirmPwd:"Confirmar Nueva Contraseña",updatePwd:"Actualizar Contraseña",dangerZone:"Zona de Peligro",deleteAccount:"Eliminar Cuenta",deleteWarning:"La eliminación de tu cuenta es irreversible. Se perderán todos tus mapas y datos.",companyName:"Nombre de la Empresa",jobTitle:"Cargo / Puesto",paymentMethod:"Método de Pago",cardEnding:"terminado en",expires:"Expira en",updateMethod:"Actualizar",usageLimit:"Uso del Plan",projectsUsed:"Proyectos Creados",nodesUsed:"Elementos en Flujo",upgradeToIncrease:"Actualizar para aumentar límites",activeSessions:"Sesiones Activas",currentSession:"Este dispositivo",twoFactor:"Autenticación de Dos Factores (2FA)",twoFactorDesc:"Añade una capa extra de seguridad a tu cuenta.",enable:"Activar",disable:"Desactivar",marketingEmails:"Correos de Marketing",marketingEmailsDesc:"Recibe consejos, ofertas y noticias del producto.",securityEmails:"Alertas de Seguridad",securityEmailsDesc:"Recibe avisos sobre inicios de sesión sospechosos.",welcomeBack:"Bienvenido de nuevo",createAccount:"Crear Cuenta",enterDetails:"Introduce tus datos abajo",fullName:"Nombre Completo",emailAddr:"E-mail",password:"Contraseña",dontHaveAccount:"¿No tienes una cuenta?",alreadyHaveAccount:"¿Ya tienes una cuenta?",starter:"Gratis",pro:"Pro",agency:"Premium",forever:"/ para sempre",month:"/ mes",contactSales:"Hablar con Ventas",aiWelcome:"¡Hola! Soy la IA de FluxFunnel. Puedo ayudar a auditar tu estrategia. ¿Qué deseas analizar?",aiAuditBtn:"Auditar Embudo",aiSimulateBtn:"Simular Tráfico",aiImproveBtn:"Mejorar Conversión",roadmapTitle:"Roadmap Público",roadmapDesc:"Ayúdanos a construir el mejor constructor de embudos. Vota por funcionalidades o sugiere mejoras.",feedbackBtn:"Enviar Sugerencia",statusPlanned:"Planeado",statusInProgress:"En Progreso",statusCompleted:"Completado",statusPending:"Pendiente",feedbackTypeFeature:"Nueva Funcionalidade",feedbackTypeBug:"Bug / Error",feedbackTypeImprovement:"Mejora",feedbackTypeOther:"Otro",submitFeedbackTitle:"Enviar Feedback",feedbackTitleLabel:"Título",feedbackDescLabel:"Descripción",feedbackTypeLabel:"Tipo",submitBtn:"Enviar",backToHome:"Voltar a Inicio",adminDashboard:"Panel Maestro (SAS)",searchPlaceholder:"Buscar feedbacks...",filterByType:"Filtrar por Tipo",filterByStatus:"Filtrar por Estado",allTypes:"Todos los Tipos",allStatus:"Todos os Estados",noFeedbackFound:"Ningún feedback encontrado.",noFeedbackDesc:"¡Sé el primero en sugerir algo en esta categoría!",loginRequiredTitle:"Inicio de Sesión Requerido",loginRequiredMsg:"Necesitas estar conectado al sistema para enviar sugerencias o votar. Inicia sesión con tu cuenta de Google o email/contraseña.",loginBtn:"Iniciar Sesión / Registrarse",continueWithGoogle:"Continuar con Google",adminOverview:"Visión General",adminUsers:"Usuarios",adminPlans:"Planes",adminMetrics:"Métricas e Ingresos",adminFeedback:"Roadmap y Feedback",adminTotalUsers:"Total Usuarios",adminActiveUsers:"Usuarios Activos",adminInactiveUsers:"Inactivos",adminBannedUsers:"Baneados",adminMRR:"Ingresos Mensuales (MRR)",adminPlanDistribution:"Distribución de Planes",adminEditUser:"Editar Usuario",adminSaveUser:"Guardar Usuario",adminDisableUser:"Desativar",adminEnableUser:"Activar",adminDeleteUser:"Banear/Eliminar",adminEditPlan:"Editar Plano",adminCreatePlan:"Nuevo Plano",adminPrice:"Precio Mensual",adminPriceYearly:"Precio Anual",adminDeletePlan:"Eliminar Plan",adminLimits:"Límites (Projetos/Nodos)",adminActions:"Acciones",adminUserStatus:"Estado",adminLastLogin:"Último Acceso",adminImpersonate:"Acceder Cuenta",adminRecentActivity:"Actividad Reciente",adminRevenueTrend:"Tendencia de Ingresos",adminFeaturesList:"Características (Separadas por coma)",loginRequiredMsgOld:"Debes iniciar sesión para interactuar. ¿Quieres iniciar sesión ahora?",viewingMode:"Modo de Visualização • Edição Desativada",marketplace:"Marketplace",marketplaceDesc:"Comparte y descubre estrategias de nuestra comunidad.",shareTemplate:"Compartir en Marketplace",shareTemplateDesc:"Tu estrategia pasará por una curaduría antes de ser pública.",topRated:"Mejor Calificados",mostDownloaded:"Más Descargados",allCategories:"Todas las Categorías",searchTemplates:"Buscar estrategias...",downloadTemplate:"Descargar Estrategia",templateRating:"Calificación",publishSuccess:"¡Enviado para aprobación!",moderationPending:"Esperando moderación",moderationApproved:"Aprobado",moderationRejected:"Rechazado",ratingRequired:"Califica esta plantilla",premiumOnly:"Función Exclusiva Premium",reportTemplate:"Denunciar Contenido",quickLook:"Vista Rápida"}};var vs=(a=>(a.TRAFFIC="TRAFFIC",a.CHANNEL="CHANNEL",a.PAGE="PAGE",a.LOGIC="LOGIC",a))(vs||{});const Os={[p.LANDING_PAGE]:{label:"Página de Captura",icon:e.jsx(Ht,{}),category:"PAGE",bg:"bg-blue-500",borderColor:"border-blue-600"},[p.OPTIN_PAGE]:{label:"Página de Opt-in",icon:e.jsx(Vt,{}),category:"PAGE",bg:"bg-emerald-500",borderColor:"border-emerald-600"},[p.CHECKOUT]:{label:"Checkout",icon:e.jsx(pa,{}),category:"PAGE",bg:"bg-slate-900",borderColor:"border-slate-950"},[p.ORDER_PAGE]:{label:"Página de Vendas",icon:e.jsx($e,{}),category:"PAGE",bg:"bg-violet-600",borderColor:"border-violet-700"},[p.VSL]:{label:"Página VSL",icon:e.jsx(Je,{}),category:"PAGE",bg:"bg-orange-500",borderColor:"border-orange-600"},[p.UPSELL]:{label:"Upsell",icon:e.jsx(fa,{className:"rotate-180"}),category:"PAGE",bg:"bg-green-600",borderColor:"border-green-700",isPro:!0},[p.DOWNSELL]:{label:"Downsell",icon:e.jsx(fa,{}),category:"PAGE",bg:"bg-slate-500",borderColor:"border-slate-600",isPro:!0},[p.THANK_YOU]:{label:"Obrigado",icon:e.jsx(ae,{}),category:"PAGE",bg:"bg-green-500",borderColor:"border-green-600"},[p.WEBINAR]:{label:"Webinar",icon:e.jsx(ka,{}),category:"PAGE",bg:"bg-indigo-600",borderColor:"border-indigo-700",isPro:!0},[p.LIVE_WEBINAR]:{label:"Live Stream",icon:e.jsx(qt,{}),category:"PAGE",bg:"bg-red-600",borderColor:"border-red-700",isPro:!0},[p.BLOG]:{label:"Blog Post",icon:e.jsx($e,{}),category:"PAGE",bg:"bg-slate-600",borderColor:"border-slate-700",isPro:!0},[p.QUIZ]:{label:"Quiz",icon:e.jsx(Bt,{}),category:"PAGE",bg:"bg-pink-500",borderColor:"border-pink-600",isPro:!0},[p.MEMBERSHIP_AREA]:{label:"Área de Membros",icon:e.jsx(zt,{}),category:"PAGE",bg:"bg-cyan-600",borderColor:"border-cyan-700",isPro:!0},[p.DOWNLOAD_PAGE]:{label:"Download",icon:e.jsx(Gt,{}),category:"PAGE",bg:"bg-teal-500",borderColor:"border-teal-600",isPro:!0},[p.CALENDAR_PAGE]:{label:"Agendamento",icon:e.jsx(Ut,{}),category:"PAGE",bg:"bg-blue-600",borderColor:"border-blue-700",isPro:!0},[p.GENERIC_PAGE]:{label:"Página Genérica",icon:e.jsx(xa,{}),category:"PAGE",bg:"bg-slate-400",borderColor:"border-slate-500",isPro:!0},[p.POPUP]:{label:"Pop-up",icon:e.jsx(xa,{}),category:"PAGE",bg:"bg-purple-500",borderColor:"border-purple-600",isPro:!0},[p.SYSTEM_PAGE]:{label:"Sistema / App",icon:e.jsx(Ot,{}),category:"PAGE",bg:"bg-slate-700",borderColor:"border-slate-800",isPro:!0},[p.ECOMMERCE_PAGE]:{label:"Loja Virtual",icon:e.jsx(Mt,{}),category:"PAGE",bg:"bg-rose-600",borderColor:"border-rose-700",isPro:!0},[p.META_ADS]:{label:"Meta Ads",icon:e.jsx(Lt,{}),category:"TRAFFIC",bg:"bg-blue-600",borderColor:"border-blue-700"},[p.FACEBOOK_ADS]:{label:"Facebook",icon:e.jsx(Na,{className:"mr-[2px]"}),category:"TRAFFIC",bg:"bg-blue-700",borderColor:"border-blue-800"},[p.GOOGLE_ADS]:{label:"Google Ads",icon:e.jsx(ha,{}),category:"TRAFFIC",bg:"bg-blue-500",borderColor:"border-blue-600"},[p.GOOGLE_SEARCH]:{label:"SEO / Orgânico",icon:e.jsx(ha,{}),category:"TRAFFIC",bg:"bg-green-600",borderColor:"border-green-700",isPro:!0},[p.BING_ADS]:{label:"Bing Ads",icon:e.jsx(Ft,{}),category:"TRAFFIC",bg:"bg-teal-600",borderColor:"border-teal-700",isPro:!0},[p.TIKTOK_ADS]:{label:"TikTok",icon:e.jsx(Rt,{}),category:"TRAFFIC",bg:"bg-black",borderColor:"border-slate-800",isPro:!0},[p.INSTAGRAM]:{label:"Instagram",icon:e.jsx(Sa,{}),category:"TRAFFIC",bg:"bg-pink-600",borderColor:"border-pink-700"},[p.YOUTUBE]:{label:"YouTube",icon:e.jsx(Ca,{}),category:"TRAFFIC",bg:"bg-red-600",borderColor:"border-red-700"},[p.PINTEREST]:{label:"Pinterest",icon:e.jsx(It,{}),category:"TRAFFIC",bg:"bg-red-600",borderColor:"border-red-700",isPro:!0},[p.KWAI]:{label:"Kwai",icon:e.jsx(Dt,{}),category:"TRAFFIC",bg:"bg-orange-500",borderColor:"border-orange-600",isPro:!0},[p.TWITCH]:{label:"Twitch",icon:e.jsx(Tt,{}),category:"TRAFFIC",bg:"bg-purple-600",borderColor:"border-purple-700",isPro:!0},[p.ORGANIC_SOCIAL]:{label:"Social Orgânico",icon:e.jsx(Ie,{}),category:"TRAFFIC",bg:"bg-green-500",borderColor:"border-green-600",isPro:!0},[p.EMAIL]:{label:"E-mail",icon:e.jsx(De,{}),category:"CHANNEL",bg:"bg-blue-500",borderColor:"border-blue-600"},[p.WHATSAPP]:{label:"WhatsApp",icon:e.jsx(kt,{}),category:"CHANNEL",bg:"bg-green-500",borderColor:"border-green-600"},[p.SMS]:{label:"SMS",icon:e.jsx(_t,{}),category:"CHANNEL",bg:"bg-blue-400",borderColor:"border-blue-500",isPro:!0},[p.CALL]:{label:"Ligação",icon:e.jsx(Ct,{}),category:"CHANNEL",bg:"bg-green-600",borderColor:"border-green-700",isPro:!0},[p.ZOOM]:{label:"Zoom",icon:e.jsx(ga,{}),category:"CHANNEL",bg:"bg-blue-500",borderColor:"border-blue-600",isPro:!0},[p.GOOGLE_MEET]:{label:"Google Meet",icon:e.jsx(ga,{}),category:"CHANNEL",bg:"bg-green-500",borderColor:"border-green-600",isPro:!0},[p.TELEGRAM]:{label:"Telegram",icon:e.jsx(St,{}),category:"CHANNEL",bg:"bg-sky-500",borderColor:"border-sky-600",isPro:!0},[p.DISCORD]:{label:"Discord",icon:e.jsx(Nt,{}),category:"CHANNEL",bg:"bg-indigo-600",borderColor:"border-indigo-700",isPro:!0},[p.NOTE]:{label:"Nota",icon:e.jsx(At,{}),category:"LOGIC",bg:"bg-yellow-400",borderColor:"border-yellow-500",isPro:!0},[p.SUBSCRIBER]:{label:"Novo Lead",icon:e.jsx(Et,{}),category:"LOGIC",bg:"bg-indigo-500",borderColor:"border-indigo-600"},[p.ADD_TO_CART]:{label:"Add Carrinho",icon:e.jsx(pa,{}),category:"LOGIC",bg:"bg-slate-500",borderColor:"border-slate-600",isPro:!0},[p.ADD_TO_LIST]:{label:"Add Lista",icon:e.jsx(Pt,{}),category:"LOGIC",bg:"bg-slate-500",borderColor:"border-slate-600",isPro:!0},[p.CRM_PIPELINE]:{label:"CRM",icon:e.jsx(jt,{}),category:"LOGIC",bg:"bg-slate-600",borderColor:"border-slate-700",isPro:!0},[p.MEETING]:{label:"Reunião",icon:e.jsx(Ta,{}),category:"LOGIC",bg:"bg-blue-400",borderColor:"border-blue-500",isPro:!0},[p.LEAD]:{label:"Lead",icon:e.jsx(yt,{}),category:"LOGIC",bg:"bg-green-500",borderColor:"border-green-600"},[p.REVENUE]:{label:"Venda",icon:e.jsx(wt,{}),category:"LOGIC",bg:"bg-green-600",borderColor:"border-green-700",isPro:!0},[p.PURCHASE_SUB]:{label:"Compra/Assinatura",icon:e.jsx(vt,{}),category:"LOGIC",bg:"bg-green-500",borderColor:"border-green-600",isPro:!0},[p.AB_TEST]:{label:"Teste A/B",icon:e.jsx(bt,{}),category:"LOGIC",bg:"bg-orange-500",borderColor:"border-orange-600",isPro:!0}};p.META_ADS,p.LANDING_PAGE,p.THANK_YOU;const ws=[{id:"blank",labelKey:"blankCanvas",descriptionKey:"blankCanvasDesc",icon:e.jsx($e,{}),nodes:[],edges:[],isPro:!1},{id:"vsl",labelKey:"templateVSL",descriptionKey:"problem1Desc",icon:e.jsx(Je,{}),nodes:[{id:"1",type:"custom",position:{x:100,y:100},data:{label:"Meta Ads",type:p.META_ADS}},{id:"2",type:"custom",position:{x:300,y:100},data:{label:"Página VSL",type:p.VSL}},{id:"3",type:"custom",position:{x:500,y:100},data:{label:"Checkout",type:p.CHECKOUT}},{id:"4",type:"custom",position:{x:700,y:100},data:{label:"Obrigado",type:p.THANK_YOU}}],edges:[{id:"e1-2",source:"1",target:"2",type:"custom"},{id:"e2-3",source:"2",target:"3",type:"custom"},{id:"e3-4",source:"3",target:"4",type:"custom"}],isPro:!0},{id:"webinar",labelKey:"templateWebinar",descriptionKey:"problem2Desc",icon:e.jsx(ka,{}),nodes:[{id:"1",type:"custom",position:{x:100,y:100},data:{label:"Email",type:p.EMAIL}},{id:"2",type:"custom",position:{x:300,y:100},data:{label:"Registro",type:p.OPTIN_PAGE}},{id:"3",type:"custom",position:{x:500,y:100},data:{label:"Sala Webinar",type:p.WEBINAR}}],edges:[{id:"e1-2",source:"1",target:"2",type:"custom"},{id:"e2-3",source:"2",target:"3",type:"custom"}],isPro:!0}],We=(a,t)=>{try{const s=localStorage.getItem(a);if(!s)return t;const i=JSON.parse(s);return Array.isArray(t)&&!Array.isArray(i)?(console.warn(`Data integrity mismatch for ${a}. Expected Array, got Object. Resetting.`),t):i}catch(s){return console.error(`Error loading ${a} from storage:`,s),t}},wa=(a,t)=>{try{localStorage.setItem(a,JSON.stringify(t))}catch(s){console.error(`Error saving ${a} to storage:`,s)}},ys="https://yhmsmkpsbvzmgpjvbppt.supabase.co",Ra="sb_publishable_HeZ9RQEfA-9mtezwRyfK9A_aiS-bRf1",h=Ra.includes("placeholder");h&&console.warn(`⚠️ Supabase credentials missing! Please check your .env.local file.
Make sure VITE_SUPABASE_URL and VITE_SUPABASE_KEY are set.
The app is running in Offline/Demo mode.`);const c=ss(ys,Ra,{auth:{persistSession:!0,autoRefreshToken:!h,detectSessionInUrl:!h}}),js=a=>{var t;if(typeof a=="string")return a;if(a!=null&&a.message)return a.message;if((t=a==null?void 0:a.context)!=null&&t.message)return a.context.message;try{return JSON.stringify(a)}catch{return"Erro desconhecido"}},ye=a=>({id:a.id,name:a.name||"Usuário",email:a.email||"",plan:a.plan||"FREE",status:a.status||"ACTIVE",lastLogin:a.last_login?new Date(a.last_login):new Date,avatarUrl:a.avatar_url,isSystemAdmin:a.is_system_admin||!1,company_name:a.company_name,job_title:a.job_title}),Te=a=>({id:a.id,name:a.name,nodes:a.nodes||[],edges:a.edges||[],updatedAt:new Date(a.updated_at),ownerId:a.owner_id}),ce=async(a,t)=>{const{data:{session:s}}=await c.auth.getSession(),i={Authorization:`Bearer ${s==null?void 0:s.access_token}`,"Content-Type":"application/json"},{data:r,error:l}=await c.functions.invoke(a,{body:JSON.stringify(t),headers:i});if(l)throw l;return r},n={subscriptions:{createCheckoutSession:async a=>{const{data:t,error:s}=await c.functions.invoke("create-checkout-session",{body:{priceId:a,successUrl:window.location.origin+"?session_id={CHECKOUT_SESSION_ID}",cancelUrl:window.location.origin}});if(s)throw s;return t}},auth:{login:async(a,t)=>{var R,F,N,P,G;if(h){const k=a.includes("admin")||a==="millamon.evouni@gmail.com";return{user:{id:k?"u1":"u2",name:a.split("@")[0],email:a,plan:k?"PREMIUM":"PRO",status:"ACTIVE",lastLogin:new Date,isSystemAdmin:k},token:"mock_token"}}const s=c.auth.signInWithPassword({email:a,password:t||"123456"}),i=new Promise(k=>setTimeout(()=>k({data:{user:null,session:null},error:{message:"Timeout login"}}),15e3)),{data:r,error:l}=await Promise.race([s,i]);if(l)throw l;const u=c.from("profiles").select("*").eq("id",r.user.id).single(),y=new Promise(k=>setTimeout(()=>k({data:null,error:"Timeout"}),4e3)),{data:j}=await Promise.race([u,y]);if(!j)return console.warn("Profile missing/blocked/timed out for user, using auth fallback",r.user.id),{user:{id:r.user.id,name:((R=r.user.user_metadata)==null?void 0:R.name)||a.split("@")[0],email:a,plan:((F=r.user.user_metadata)==null?void 0:F.plan)||"FREE",status:"ACTIVE",lastLogin:new Date,isSystemAdmin:!1},token:((N=r.session)==null?void 0:N.access_token)||""};try{(P=r.user)!=null&&P.email&&await c.from("team_members").update({user_id:r.user.id}).eq("email",r.user.email).is("user_id",null)}catch(k){console.error("Auto-link team error:",k)}return{user:ye(j),token:((G=r.session)==null?void 0:G.access_token)||""}},register:async(a,t,s)=>{var l;if(h)return{user:{id:"u"+Date.now(),name:s||"Novo",email:a,plan:"FREE",status:"ACTIVE",lastLogin:new Date},token:"mock_token"};const{data:i,error:r}=await c.auth.signUp({email:a,password:t||"123456",options:{data:{name:s}}});if(r)throw r;return{user:ye({id:i.user.id,name:s,email:a}),token:((l=i.session)==null?void 0:l.access_token)||""}},logout:async()=>{h||await c.auth.signOut()},loginWithGoogle:async()=>{if(h){alert("Login com Google indisponível em modo offline/mock.");return}const{error:a}=await c.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});if(a)throw a},getProfile:async()=>{var a,t,s;if(h)return null;try{const i=c.auth.getUser(),r=new Promise(R=>setTimeout(()=>R({data:{user:null},error:"Timeout"}),4e3)),{data:l}=await Promise.race([i,r]);if(!(l!=null&&l.user))return null;const u=c.from("profiles").select("*").eq("id",l.user.id).single(),y=new Promise(R=>setTimeout(()=>R({data:null}),4e3)),{data:j}=await Promise.race([u,y]);return j?ye(j):(console.warn("Profile missing in DB, using Session fallback"),{id:l.user.id,name:((a=l.user.user_metadata)==null?void 0:a.name)||((t=l.user.email)==null?void 0:t.split("@")[0])||"Usuário",email:l.user.email||"",plan:((s=l.user.user_metadata)==null?void 0:s.plan)||"FREE",status:"ACTIVE",lastLogin:new Date,isSystemAdmin:!1})}catch{return null}},updateProfile:async(a,t)=>{h||await c.from("profiles").update(t).eq("id",a)},updatePassword:async a=>{if(h)return;const{error:t}=await c.auth.updateUser({password:a});if(t)throw t},changePassword:async(a,t,s)=>{if(h)return;const{error:i}=await c.auth.signInWithPassword({email:a,password:t});if(i)throw new Error("A senha atual está incorreta.");const{error:r}=await c.auth.updateUser({password:s});if(r)throw r},uploadAvatar:async(a,t)=>{if(h)return URL.createObjectURL(t);const s=t.name.split(".").pop(),r=`${`${a}/${Date.now()}.${s}`}`,{error:l}=await c.storage.from("avatars").upload(r,t);if(l)throw l;const{data:u}=c.storage.from("avatars").getPublicUrl(r),y=u.publicUrl,{error:j}=await c.from("profiles").update({avatar_url:y}).eq("id",a);if(j)throw j;return y},resetPassword:async a=>{if(h)return;const{error:t}=await c.auth.resetPasswordForEmail(a,{redirectTo:window.location.origin});if(t)throw t}},users:{list:async()=>{if(h)return[];const{data:a,error:t}=await c.from("profiles").select("*");return t&&console.error("Error fetching users:",t),(a||[]).map(ye)},update:async(a,t)=>{h||await c.from("profiles").update(t).eq("id",a)},delete:async a=>{if(!h){const{error:t}=await c.from("profiles").delete().eq("id",a);if(t)throw t}}},projects:{list:async()=>{if(h)return[];const{data:a,error:t}=await c.rpc("get_accessible_projects");if(t){console.error("RPC Error (get_accessible_projects):",t);const{data:s}=await c.from("projects").select("*");return(s||[]).map(Te)}return(a||[]).map(Te)},create:async a=>{if(h)return{id:"proj_"+Date.now(),name:a.name||"Sem Nome",nodes:a.nodes||[],edges:a.edges||[],updatedAt:new Date,ownerId:a.ownerId||"mock_user",collaborators:[],...a};const t={name:a.name,nodes:a.nodes,edges:a.edges,owner_id:a.ownerId,updated_at:new Date},{data:s,error:i}=await c.from("projects").insert(t).select().single();if(i)throw i;if(!s)throw new Error("Falha ao criar projeto: Dados não retornados.");return Te(s)},get:async a=>{if(h)return null;let{data:t,error:s}=await c.from("projects").select("*").eq("id",a).single();if(s){const{data:i,error:r}=await c.rpc("get_project_public",{p_id:a});if(!r&&i&&i.length>0)t=i[0],s=null;else throw r&&console.error("RPC Error:",r),s}return Te(t)},update:async(a,t)=>{h||await c.from("projects").update(t).eq("id",a)},delete:async a=>{if(!h){const{error:t}=await c.from("projects").delete().eq("id",a);if(t)throw t}}},templates:{list:async()=>{if(h)return[];const{data:a}=await c.from("templates").select("*").order("created_at",{ascending:!1});return(a||[]).map(t=>({id:t.id,customLabel:t.custom_label,customDescription:t.custom_description,icon:U.createElement(Ke),nodes:t.nodes,edges:t.edges,status:t.status,isPublic:t.is_public,isCustom:t.is_custom,authorName:t.author_name,authorId:t.owner_id,rating:t.rating,downloads:t.downloads,isFeatured:t.is_featured}))},listPublic:async a=>{if(h)return[];let t;a?t=c.from("templates").select("*").eq("is_public",!0).or(`status.eq.APPROVED,owner_id.eq.${a}`):t=c.from("templates").select("*").eq("is_public",!0).eq("status","APPROVED");const{data:s}=await t;return(s||[]).map(i=>({id:i.id,customLabel:i.custom_label,customDescription:i.custom_description,icon:U.createElement(Ke),nodes:i.nodes,edges:i.edges,rating:i.rating,downloads:i.downloads,authorName:i.author_name,isPro:!0,isFeatured:i.is_featured,status:i.status,ownerId:i.owner_id,isPublic:i.is_public,isCustom:i.is_custom}))},create:async a=>{var s;if(h)return;const{data:{user:t}}=await c.auth.getUser();await c.from("templates").insert({custom_label:a.customLabel,nodes:a.nodes,edges:a.edges,owner_id:t==null?void 0:t.id,author_name:((s=t==null?void 0:t.user_metadata)==null?void 0:s.name)||"User",is_public:!1})},delete:async a=>{if(!h){const{error:t}=await c.from("templates").delete().eq("id",a);if(t)throw t}},update:async(a,t)=>{h||await c.from("templates").update(t).eq("id",a)},submitToMarketplace:async a=>{var r;if(h)return;const{data:{user:t}}=await c.auth.getUser(),{data:s,error:i}=await c.from("templates").insert({custom_label:a.customLabel,custom_description:a.customDescription,nodes:a.nodes,edges:a.edges,owner_id:t==null?void 0:t.id,author_name:a.authorName||((r=t==null?void 0:t.user_metadata)==null?void 0:r.name)||"Premium User",is_public:!0,status:"PENDING",downloads:0,rating:0,rating_count:0,is_featured:!1}).select().single();if(i)throw console.error("Error submitting to marketplace:",i),i;return console.log("Submit to Marketplace SUCCESS. Data:",s),s},moderate:async(a,t)=>{h||await c.from("templates").update({status:t}).eq("id",a)},download:async a=>{if(!h)try{const{data:t}=await c.from("templates").select("downloads").eq("id",a).single();await c.from("templates").update({downloads:((t==null?void 0:t.downloads)||0)+1}).eq("id",a)}catch(t){console.error("Counter update failed",t)}},rate:async(a,t)=>{if(h)return;const{data:s}=await c.from("templates").select("rating, rating_count").eq("id",a).single(),i=((s==null?void 0:s.rating_count)||0)+1,r=(((s==null?void 0:s.rating)||0)*((s==null?void 0:s.rating_count)||0)+t)/i;await c.from("templates").update({rating:r,rating_count:i}).eq("id",a)}},plans:{list:async()=>{if(h)return[];const{data:a}=await c.from("plans").select("*").order("order",{ascending:!0});return(a||[]).map(t=>({id:t.id,label:t.label,priceMonthly:t.price_monthly,priceYearly:t.price_yearly,projectLimit:t.project_limit,nodeLimit:t.node_limit,teamLimit:t.team_limit,features:t.features||[],isPopular:t.is_popular,order:t.order,stripe_product_id:t.stripe_product_id,stripe_price_id_monthly:t.stripe_price_id_monthly,stripe_price_id_yearly:t.stripe_price_id_yearly,isHidden:t.is_hidden}))},update:async(a,t)=>{const s={id:a,label:t.label,description:t.description,price_monthly:t.priceMonthly,price_yearly:t.priceYearly,project_limit:t.projectLimit,node_limit:t.nodeLimit,team_limit:t.teamLimit,features:t.features,is_popular:t.isPopular,is_hidden:t.isHidden,order:t.order,stripe_product_id:t.stripe_product_id,stripe_price_id_monthly:t.stripe_price_id_monthly,stripe_price_id_yearly:t.stripe_price_id_yearly};if(h)return s;try{const i=await ce("manage-plan",{plan:s,operation:"UPDATE"});return{id:i.id,label:i.label,description:i.description,priceMonthly:i.price_monthly,priceYearly:i.price_yearly,projectLimit:i.project_limit,nodeLimit:i.node_limit,teamLimit:i.team_limit,features:i.features,isPopular:i.is_popular,isHidden:i.is_hidden,order:i.order,stripe_product_id:i.stripe_product_id,stripe_price_id_monthly:i.stripe_price_id_monthly,stripe_price_id_yearly:i.stripe_price_id_yearly}}catch(i){throw console.error("Stripe Sync Error (Plan Update Failed):",i),new Error("Falha ao atualizar plano: Erro de sincronização com o Stripe.")}},create:async a=>{const t={id:a.id&&!a.id.startsWith("NEW_")?a.id:crypto.randomUUID(),label:a.label,description:a.description,price_monthly:a.priceMonthly,price_yearly:a.priceYearly,project_limit:a.projectLimit,node_limit:a.nodeLimit,team_limit:a.teamLimit,features:a.features,is_popular:a.isPopular,is_hidden:a.isHidden,order:a.order,stripe_product_id:a.stripe_product_id,stripe_price_id_monthly:a.stripe_price_id_monthly,stripe_price_id_yearly:a.stripe_price_id_yearly};if(h)return t;try{const s=await ce("manage-plan",{plan:t,operation:"CREATE"});if(s&&s.success===!1)throw new Error(`Edge Error: ${s.error}`);return{id:s.id,label:s.label,description:s.description,priceMonthly:s.price_monthly,priceYearly:s.price_yearly,projectLimit:s.project_limit,nodeLimit:s.node_limit,teamLimit:s.team_limit,features:s.features,isPopular:s.is_popular,isHidden:s.is_hidden,order:s.order,stripe_product_id:s.stripe_product_id,stripe_price_id_monthly:s.stripe_price_id_monthly,stripe_price_id_yearly:s.stripe_price_id_yearly}}catch(s){console.error("Stripe Sync Error (Plan Creation Failed):",s);const i=s.message||JSON.stringify(s);throw new Error(`Falha ao criar plano: ${i.replace("Edge Error: ","")}`)}},delete:async a=>{if(!h){const{error:t}=await c.from("plans").delete().eq("id",a);if(t)throw t}}},feedbacks:{list:async()=>{if(h)return[];const{data:a}=await c.from("feedbacks").select("*").order("created_at",{ascending:!1});return(a||[]).map(t=>({id:t.id,title:t.title,description:t.description,type:t.type,status:t.status,votes:t.votes,votedUserIds:t.voted_user_ids,authorName:t.author_name,authorId:t.author_id,createdAt:t.created_at,comments:t.comments||[]}))},create:async a=>{if(h)return;const t={title:a.title,description:a.description,type:a.type,author_name:a.authorName,author_id:a.authorId,status:"PENDING",votes:0,voted_user_ids:[]},{error:s}=await c.from("feedbacks").insert(t);if(s)throw s},update:async(a,t)=>{if(!h){const s={};t.title!==void 0&&(s.title=t.title),t.description!==void 0&&(s.description=t.description),t.type!==void 0&&(s.type=t.type),t.status!==void 0&&(s.status=t.status),t.authorName!==void 0&&(s.author_name=t.authorName),t.startDate!==void 0&&(s.start_date=t.startDate),t.estimatedCompletionDate!==void 0&&(s.estimated_completion_date=t.estimatedCompletionDate),t.votes!==void 0&&(s.votes=t.votes),t.votedUserIds!==void 0&&(s.voted_user_ids=t.votedUserIds),t.comments!==void 0&&(s.comments=t.comments),await c.from("feedbacks").update(s).eq("id",a)}},delete:async a=>{if(!h){const{error:t,count:s,status:i}=await c.from("feedbacks").delete({count:"exact"}).eq("id",a);if(t)throw t;if(s===0&&i!==204)throw new Error("Falha na exclusão: Item não encontrado ou permissão negada.")}},vote:async a=>{if(h)return;const{data:{user:t}}=await c.auth.getUser();if(!t)throw new Error("Login required to vote");const{data:s}=await c.from("feedbacks").select("votes, voted_user_ids").eq("id",a).single(),i=Array.isArray(s==null?void 0:s.voted_user_ids)?s.voted_user_ids:[];if(i.includes(t.id)){const r=i.filter(l=>l!==t.id);await c.from("feedbacks").update({votes:Math.max(0,((s==null?void 0:s.votes)||1)-1),voted_user_ids:r}).eq("id",a)}else await c.from("feedbacks").update({votes:((s==null?void 0:s.votes)||0)+1,voted_user_ids:[...i,t.id]}).eq("id",a)},addComment:async(a,t,s=!1)=>{var y,j;if(h)return;const{data:{user:i}}=await c.auth.getUser();if(!i)throw new Error("Login required to comment");const{data:r}=await c.from("feedbacks").select("comments").eq("id",a).single(),l=Array.isArray(r==null?void 0:r.comments)?r.comments:[],u={id:"c"+Date.now(),text:t,authorName:((y=i.user_metadata)==null?void 0:y.name)||((j=i.email)==null?void 0:j.split("@")[0])||"User",authorId:i.id,createdAt:new Date().toISOString(),isAdmin:s};await c.from("feedbacks").update({comments:[...l,u]}).eq("id",a)},deleteComment:async(a,t)=>{if(h)return;const{data:s}=await c.from("feedbacks").select("comments").eq("id",a).single(),i=Array.isArray(s==null?void 0:s.comments)?s.comments:[];await c.from("feedbacks").update({comments:i.filter(r=>r.id!==t)}).eq("id",a)}},team:{list:async()=>{if(h)return[];const{data:{user:a}}=await c.auth.getUser(),{data:t}=await c.from("team_members").select("*");return(t||[]).filter(s=>s.email!==(a==null?void 0:a.email))},invite:async(a,t,s,i)=>{if(!h){const{data:{user:r}}=await c.auth.getUser();if(!r)throw new Error("User not valid");const{data:l,error:u}=await c.from("team_members").insert({email:a.trim(),role:t,owner_id:r.id,name:s||null,assigned_plan_id:i||"CONVIDADO"}).select().single();if(u)throw u;const{error:y}=await c.functions.invoke("invite-member",{body:{email:a,role:t,name:s,planId:i||"CONVIDADO",redirectTo:window.location.origin}});if(y){console.error("Edge Function Invite Failed:",y);const j=js(y);throw new Error(`Erro no envio: ${j}`)}return l}return null},checkMembership:async a=>{const{data:t}=await c.from("team_members").select("*").eq("user_id",a).eq("status","ACTIVE").single();return t},updateRole:async(a,t)=>{const{error:s}=await c.from("team_members").update({role:t}).eq("id",a);if(s)throw s},remove:async a=>{const{error:t}=await c.from("team_members").delete().eq("id",a);if(t)throw t},resendInvite:async a=>{if(h)return;const{error:t}=await c.functions.invoke("invite-member",{body:{email:a,role:"CONVIDADO",name:"Membro",planId:"CONVIDADO",redirectTo:window.location.origin,resend:!0}});if(t)throw t}},system:{get:async()=>{if(h)return{maintenanceMode:!1,allowSignups:!0,announcements:[],debugMode:!1};const{data:a}=await c.from("system_config").select("*").single();return a?{maintenanceMode:a.maintenance_mode,allowSignups:a.allow_signups,announcements:a.announcements||[],debugMode:a.debug_mode}:{maintenanceMode:!1,allowSignups:!0,announcements:[],debugMode:!1}},update:async a=>{h||await ce("admin-action",{action:"UPDATE_CONFIG",targetId:"global",payload:a})},healthCheck:async()=>({profiles:!0,projects:!0,templates:!0,system_config:!0})},admin:{getUsers:async()=>{if(h)return[];const a=1,t=50,{data:s,error:i}=await c.rpc("get_admin_profiles",{p_page:a,p_page_size:t});if(console.log(" ADMIN RPC DEBUG RAW:",JSON.stringify({profilesCount:s==null?void 0:s.length,profilesError:i,firstProfile:s==null?void 0:s[0]},null,2)),i){console.error("RPC Error (get_admin_profiles):",i);const{data:l}=await c.rpc("debug_admin_state");throw console.error("DEBUG ADMIN STATE:",l),i}let r=new Set;try{const{data:l}=await c.from("team_members").select("email");r=new Set((l||[]).map(u=>u.email))}catch(l){console.warn("Checking invited members failed, proceeding without flags:",l)}return console.log("Users to render:",(s==null?void 0:s.length)||0),(s||[]).map(l=>({...ye(l),isInvitedMember:r.has(l.email)}))},updateUserStatus:async(a,t)=>{h||await ce("admin-action",{action:"UPDATE_STATUS",targetId:a,payload:{status:t}})},updateUserPlan:async(a,t)=>{h||await ce("admin-action",{action:"UPDATE_PLAN",targetId:a,payload:{plan:t}})},deleteUser:async a=>{h||await ce("admin-action",{action:"DELETE_USER",targetId:a,payload:{}})},getDashboardStats:async()=>{if(h)return{mrr:0,totalUsers:0,activeUsers:0,health:100};try{const{data:a,error:t}=await c.functions.invoke("get-admin-stats");if(t)throw t;return a}catch(a){return console.error("Stats Calc Failed (Edge Function):",a),{mrr:0,totalUsers:0,activeUsers:0,health:0}}}},notifications:{send:async(a,t,s,i,r)=>{if(!h)try{await ce("notify-user",{userId:a,title:t,message:s,type:i,relatedEntityId:r})}catch(l){console.warn("Failed to send notification:",l)}},list:async()=>{if(h)return[];const{data:a}=await c.from("notifications").select("*").order("created_at",{ascending:!1});return a||[]},markAsRead:async a=>{h||await c.from("notifications").update({is_read:!0}).eq("id",a)}}},Ps=Object.freeze(Object.defineProperty({__proto__:null,api:n},Symbol.toStringTag,{value:"Module"})),ya=U.lazy(()=>J(()=>import("./FlowCanvas-BQ95whyL.js"),__vite__mapDeps([0,1,2,3,4,5]))),Es=U.lazy(()=>J(()=>import("./ProjectsDashboard-CsCyx5sb.js"),__vite__mapDeps([6,1,3,5]))),As=U.lazy(()=>J(()=>import("./SettingsDashboard-CDF3j84n.js"),__vite__mapDeps([7,1,3,5]))),ja=U.lazy(()=>J(()=>import("./MasterAdminDashboard-3FXCcqG9.js"),__vite__mapDeps([8,1,2,3,4,5]))),Ns=U.lazy(()=>J(()=>import("./TeamDashboard-TH9a7h5s.js"),__vite__mapDeps([9,1,10,3,5]))),Ss=U.lazy(()=>J(()=>import("./MarketplaceDashboard-BJAJ8d0R.js"),__vite__mapDeps([11,1,2,3,4,10,5]))),Cs=U.lazy(()=>J(()=>import("./RoadmapPage-BbrSraSq.js"),__vite__mapDeps([12,1,3,5]))),_s=U.lazy(()=>J(()=>import("./ProfileCompletionBanner-C0iASIhu.js"),__vite__mapDeps([13,3,1,5]))),ks=()=>{var la,ca,da,ma;const[a,t]=g.useState("LANDING"),[s,i]=g.useState("PROJECTS"),[r,l]=g.useState(null),[u,y]=g.useState(!1),[j,R]=g.useState(me.BUILDER),[F,N]=g.useState(!0),[P,G]=g.useState("pt"),[k,M]=g.useState(null),[m,v]=g.useState("LOGIN"),[b,V]=g.useState(!1),[E,I]=g.useState(!1),[W,ue]=g.useState(!1),[D,S]=g.useState(!1),ne=g.useRef(window.location.hash),le=g.useRef(!1),[O,pe]=g.useState(null),[C,z]=g.useState([]),[Ee,te]=g.useState(0),[Fe,Le]=g.useState(0),[La,Me]=g.useState(!1),[Ae,Oe]=g.useState(null),[Ma,Ne]=g.useState(!1),[Oa,Ua]=g.useState(()=>!localStorage.getItem("hide_profile_banner")),[Ga,Z]=g.useState(!1),[Ue,be]=g.useState({reason:"LIMIT_REACHED",limitType:"NODES"}),[za,Ge]=g.useState(!1),[X,se]=g.useState([]),[Y,Se]=g.useState(null),[Is,Xe]=g.useState(!1),[ze,Ba]=g.useState(null),[ve,$]=g.useState([]),[ea,Ce]=g.useState([]),[Be,ee]=g.useState([]),[K,re]=g.useState([]),[ge,aa]=g.useState({maintenanceMode:!1,allowSignups:!0,announcements:[],debugMode:!1}),[oe,_e]=g.useState(!1),[qe,ta]=g.useState(null),[sa,Ve]=g.useState(!1),f=g.useCallback(o=>bs[P][o]||o,[P]),w=(o,d="success")=>{pe({show:!0,message:o,type:d}),setTimeout(()=>pe(null),3e3)};g.useEffect(()=>{if(!le.current&&K.length===0){const o=[{id:"FREE",label:"Plano Gratuito",priceMonthly:0,priceYearly:0,projectLimit:1,nodeLimit:20,features:[f("pricingFreeFeat1"),f("pricingFreeFeat2"),f("pricingFreeFeat3"),f("pricingFreeFeat4"),f("pricingFreeFeat5"),f("pricingFreeFeat6")],isPopular:!1,teamLimit:0,order:0},{id:"PRO",label:"Plano Pro",priceMonthly:69.9,priceYearly:712.98,projectLimit:5,nodeLimit:100,features:[f("pricingProFeat1"),f("pricingProFeat2"),f("pricingProFeat3"),f("pricingProFeat4"),f("pricingProFeat5"),f("pricingProFeat6")],isPopular:!1,teamLimit:0,order:1},{id:"PREMIUM",label:"Plano Premium",priceMonthly:97.9,priceYearly:881.1,projectLimit:9999,nodeLimit:9999,features:[f("pricingPremiumFeat1"),f("pricingPremiumFeat2"),f("pricingPremiumFeat3"),f("pricingPremiumFeat4"),f("pricingPremiumFeat5"),f("pricingPremiumFeat6")],isPopular:!0,teamLimit:10,order:2},{id:"CONVIDADO",label:"Convidado",priceMonthly:0,priceYearly:0,projectLimit:9999,nodeLimit:9999,features:["Acesso a Projetos da Equipe","Edição Colaborativa","Sem Gestão Financeira"],isPopular:!1,teamLimit:0,order:99,isHidden:!0}];re(o),le.current=!0}},[P,f,K.length]),g.useEffect(()=>{(async()=>{var d;try{const x=new URLSearchParams(window.location.search),_=x.get("share"),A=await n.auth.getProfile();if(A){l(A);const{data:T}=await c.auth.getUser();if((d=T.user)!=null&&d.email){const{data:H}=await c.from("team_members").select("*").eq("email",T.user.email).maybeSingle();H&&(H.user_id!==A.id||H.status!=="ACTIVE")&&(console.log("Linking user to team invite..."),await c.from("team_members").update({user_id:A.id,status:"ACTIVE"}).eq("id",H.id))}z(await n.team.list()),Ce(await n.templates.list()),await n.team.checkMembership(A.id)&&(A.plan==="FREE"&&(console.log("Team Member detected on FREE plan. Upgrading to CONVIDADO..."),await n.auth.updateProfile(A.id,{plan:"CONVIDADO"}),A.plan="CONVIDADO",l(H=>H&&{...H,plan:"CONVIDADO"})),(A.plan==="CONVIDADO"||A.plan==="FREE")&&_e(!0))}y(We("theme","light")==="dark"),G(We("lang","pt")),aa(await n.system.get()),(window.location.hash.includes("type=recovery")||window.location.hash.includes("type=magiclink"))&&(t("AUTH"),M(null));const B=x.get("session_id");if(B&&A){window.history.replaceState({},document.title,window.location.pathname),w("Validando sua assinatura...","success");try{console.log("Forcing profile refresh for session:",B)}catch(xe){console.error("Sync failed, falling back to profile fetch",xe)}w(f("upgradeSuccess"),"success");const T=await n.auth.getProfile();T&&l(T),t("APP")}else B&&!A&&(w("Por favor, faça login para concluir a atualização do seu plano.","success"),t("AUTH"),M("APP"));const q=await n.plans.list();if(q&&q.length>0&&re(q),$(await n.feedbacks.list()),A!=null&&A.isSystemAdmin)try{ee(await n.admin.getUsers())}catch(T){console.error("Fail to load users for admin:",T),ee(await n.users.list())}if(I(We("sidebarCollapsed",!1)),Xe(!0),_)try{const T=await n.projects.get(_);T&&(Ba(T),t("SHARED"))}catch(T){console.error("Error loading shared project:",T),w("Não foi possível carregar o projeto compartilhado.","error")}if(A){const T=await n.projects.list();se(T||[])}}catch(x){console.error(x)}finally{S(!0),Xe(!1)}})()},[]),g.useEffect(()=>{if(h)return;const o=c.channel("realtime_updates").on("postgres_changes",{event:"*",schema:"public",table:"feedbacks"},async()=>{$(await n.feedbacks.list())}).on("postgres_changes",{event:"*",schema:"public",table:"profiles"},async()=>{r!=null&&r.isSystemAdmin&&n.admin.getUsers().then(ee).catch(()=>n.users.list().then(ee))}).subscribe();return()=>{c.removeChannel(o)}},[r==null?void 0:r.isSystemAdmin,h]);const[he,qa]=g.useState(null);g.useEffect(()=>{const{data:o}=c.auth.onAuthStateChange(async(d,x)=>{if(window.location.hash&&(window.location.hash.includes("access_token")||window.location.hash.includes("type=magiclink"))&&window.history.replaceState(null,"",window.location.pathname+window.location.search),d==="PASSWORD_RECOVERY")t("AUTH"),v("UPDATE_PASSWORD"),M(null);else if((d==="SIGNED_IN"||d==="TOKEN_REFRESHED"||d==="INITIAL_SESSION")&&x!=null&&x.user){const _=await n.auth.getProfile();if(_){l(_),z(await n.team.list());const A=await n.projects.list();se(A);const B=window.location.hash,q=ne.current,T=B&&B.includes("type=invite")||q&&q.includes("type=invite")||window.location.search&&window.location.search.includes("intent=invite"),xe=window.location.hash&&window.location.hash.includes("type=signup"),H=B&&B.includes("type=recovery")||q&&q.includes("type=recovery");xe?(console.log("Signup confirmation detected. Redirecting to Dashboard."),t("APP"),i("PROJECTS")):!T&&!H?(t(L=>L==="AUTH"||L==="LANDING"?"APP":L),(a==="LANDING"||a==="AUTH")&&i("PROJECTS")):H?(console.log("Recovery flow detected. Staying in AUTH view."),v("UPDATE_PASSWORD"),t("AUTH")):(v("SET_PASSWORD"),t("AUTH"))}}});return()=>{o.subscription.unsubscribe()}},[]),g.useEffect(()=>{D&&(wa("theme",u?"dark":"light"),u?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))},[u,D]),g.useEffect(()=>{D&&wa("lang",P)},[P,D]);const Va=async o=>{if(console.log("DEBUG: handleLogin started",o),!ge.allowSignups&&o.isSignup)throw w("Cadastros suspensos pelo administrador.","error"),new Error("Cadastros estão temporariamente suspensos.");try{console.log("DEBUG: Calling api.auth.login/register");const d=o.isSignup?await n.auth.register(o.email,o.password,o.name):await n.auth.login(o.email,o.password);console.log("DEBUG: Auth API returned",d);const x=d.user;if(o.isSignup&&!d.token){v("SIGNUP_SUCCESS");return}if(x.status==="BANNED")throw await n.auth.logout(),w("Sua conta está suspensa.","error"),new Error("Conta banida ou suspensa.");console.log("DEBUG: Setting user state",x),l(x),console.log("DEBUG: Fetching initial data...");const _=Promise.all([n.projects.list(),n.team.list(),n.templates.list()]),A=new Promise(L=>{setTimeout(()=>{console.warn("DEBUG: Initial data fetch timed out! Proceeding mostly empty."),L([[],[],[]])},5e3)}),[B,q,T]=await Promise.race([_,A]);if(console.log("DEBUG: Initial data fetched (or timed out)",{projects:B==null?void 0:B.length,members:q==null?void 0:q.length,templates:T==null?void 0:T.length}),se(B||[]),z(q||[]),Ce(T||[]),await n.team.checkMembership(x.id)&&x.plan==="FREE"?_e(!0):_e(!1),x.isSystemAdmin){console.log("DEBUG: Fetching all users for System Admin");try{ee(await n.admin.getUsers())}catch(L){console.error("Failed to fetch all users",L),ee(await n.users.list())}}w(o.isSignup?"Conta criada com sucesso!":"Login realizado com sucesso!"),k?t(k):(t("APP"),i("PROJECTS"));const H=localStorage.getItem("flux_pending_checkout");if(H)try{const{planId:L,cycle:He,timestamp:Xa}=JSON.parse(H);Date.now()-Xa<36e5&&(qa({planId:L,cycle:He}),Z(!0)),localStorage.removeItem("flux_pending_checkout")}catch(L){console.error("Invalid pending checkout data",L)}}catch(d){throw console.error("Auth process error:",d),d}},ra=async()=>{r&&Ce(await n.templates.list())},oa=async(o,d,x=!0)=>{if(!r)return;const _=X.filter(L=>L.ownerId===r.id),A=K.find(L=>L.id===r.plan)||{projectLimit:r.plan==="PREMIUM"?9999:r.plan==="PRO"?5:1};if(_.length>=A.projectLimit){Ge(!0);return}let B=[],q=[],T=ws.find(L=>L.id===o);T||(T=ea.find(L=>L.id===o)),T?(B=T.nodes,q=T.edges):o==="blank"&&(B=[],q=[]);const H={name:(d==null?void 0:d.trim())||`${f("newProject")} ${X.length+1}`,nodes:B,edges:q,updatedAt:new Date,ownerId:r.id};try{const L=await n.projects.create(H);se(He=>[...He,L]),Se(L.id),Le(0),x?i("BUILDER"):w("Projeto salvo em 'Meus Projetos'!","success"),x&&w("Projeto criado!")}catch{w("Erro ao criar projeto.","error")}},Ha=async o=>{try{await n.projects.delete(o),se(d=>d.filter(x=>x.id!==o)),w("Projeto excluído com sucesso!")}catch{w("Erro ao excluir projeto.","error")}},Wa=async(o,d)=>{try{const x={...X.find(_=>_.id===o),name:d,updatedAt:new Date};se(_=>_.map(A=>A.id===o?x:A)),await n.projects.update(o,{name:d}),w("Projeto renomeado!")}catch{w("Erro ao renomear projeto.","error")}},$a=async()=>{await n.auth.logout(),l(null),se([]),t("LANDING"),i("PROJECTS"),Se(null),V(!1)},Ka=async(o,d,x,_)=>{if(h){w("Modo offline: convites indisponíveis.","error");return}try{if((r==null?void 0:r.plan)==="FREE"&&C.length>=1)throw new Error("Limite do plano Free atingido.");await n.team.invite(o,d,x,_);const A=await n.team.list();z(A),w("Convite enviado com sucesso!","success")}catch(A){throw console.error(A),w(`Erro ao convidar: ${A.message}`,"error"),A}},Ya=async o=>{await n.team.remove(o),z(await n.team.list()),w("Membro removido.")},Qa=async o=>{try{await n.team.resendInvite(o),w("Convite reenviado com sucesso!")}catch(d){console.error(d),w(d.message||"Erro ao reenviar convite. Verifique o limite de e-mails.","error")}},Ja=async(o,d)=>{await n.team.updateRole(o,d),z(await n.team.list()),w("Permissão atualizada.")},ia=o=>{const d=Be.find(x=>x.id===o);if(d){if(d.status==="BANNED"&&!window.confirm("Atenção: Este usuário está BANIDO. Deseja acessar mesmo assim?"))return;l(d),t("APP"),i("PROJECTS"),Se(null),w(`Acessando painel como ${d.name}`,"success")}else w("Erro: Usuário não encontrado.","error")},Za=async(o,d)=>{Y&&(se(x=>x.map(_=>_.id===Y?{..._,nodes:o,edges:d,updatedAt:new Date}:_)),Me(!1),await n.projects.update(Y,{nodes:o,edges:d}))},ke=o=>{La&&a==="APP"&&s==="BUILDER"?(Oe(()=>o),Ne(!0)):o()},na=o=>{o?(te(d=>d+1),setTimeout(()=>{Ae&&Ae(),Oe(null),Ne(!1)},100)):(Me(!1),Ae&&Ae(),Oe(null),Ne(!1))};if(!D)return e.jsx(we,{});if(ge.maintenanceMode&&!(r!=null&&r.isSystemAdmin)&&a!=="ADMIN"&&a!=="AUTH")return e.jsxs("div",{className:"min-h-screen bg-slate-900 text-white flex flex-col items-center justify-center p-6 text-center",children:[e.jsx(Wt,{size:48,className:"text-amber-500 mb-6 animate-pulse"}),e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Em Manutenção"}),e.jsx("button",{onClick:()=>t("AUTH"),className:"mt-8 px-6 py-3 bg-indigo-600 text-white rounded-lg font-bold",children:"Acesso Admin"})]});if(a==="LANDING")return e.jsx(ps,{onLoginClick:()=>{M("APP"),t("AUTH")},onGetStartedClick:()=>{M("APP"),t("AUTH")},onRoadmapClick:()=>t("ROADMAP"),onNavigate:t,lang:P,setLang:G,t:f,plans:K,systemConfig:ge});if(a==="AUTH"){const o=window.location.hash,d=ne.current,x=o.includes("type=invite")||d&&d.includes("type=invite")||window.location.search.includes("intent=invite"),_=m!=="LOGIN"?m:x||o.includes("type=magiclink")?"SET_PASSWORD":o.includes("type=recovery")?"UPDATE_PASSWORD":"LOGIN";return e.jsxs(e.Fragment,{children:[(O==null?void 0:O.show)&&e.jsx("div",{className:`fixed top-14 left-1/2 -translate-x-1/2 z-[300] px-6 py-3 rounded-xl shadow-2xl border ${O.type==="success"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:O.message}),e.jsx(hs,{onAuthSuccess:Va,onBack:()=>t("LANDING"),t:f,lang:P,initialView:_,onUpdatePassword:n.auth.updatePassword,onResetPassword:n.auth.resetPassword,onGoogleLogin:n.auth.loginWithGoogle,onInviteComplete:async()=>{window.location.hash&&window.history.replaceState(null,"",window.location.pathname+window.location.search),ne.current="",v("LOGIN");const A=await n.auth.getProfile();A&&(l(A),A.plan==="CONVIDADO"&&_e(!0)),t("APP"),i("PROJECTS"),w("Senha definida com sucesso! Bem-vindo(a).","success")}})]})}return a==="ROADMAP"?e.jsx(U.Suspense,{fallback:e.jsx(we,{}),children:e.jsx(Cs,{onBack:()=>t(r?"APP":"LANDING"),feedbacks:ve,onSubmitFeedback:async o=>{await n.feedbacks.create({...o,authorId:r==null?void 0:r.id}),$(await n.feedbacks.list())},onVote:async o=>{await n.feedbacks.vote(o),$(await n.feedbacks.list())},onAddComment:async(o,d)=>{await n.feedbacks.addComment(o,d),$(await n.feedbacks.list())},isAuthenticated:!!r,currentUser:r,onLoginRequest:()=>{M("ROADMAP"),t("AUTH")},t:f,isDark:u})}):a==="ADMIN"&&(r!=null&&r.isSystemAdmin)?e.jsx(U.Suspense,{fallback:e.jsx(we,{}),children:e.jsx(ja,{onBack:()=>{t("APP"),i("PROJECTS")},feedbacks:ve,onDeleteFeedback:n.feedbacks.delete,onUpdateFeedback:async(o,d)=>{try{if(await n.feedbacks.update(o,d),d.status){const x=ve.find(_=>_.id===o);x&&x.authorId&&await n.notifications.send(x.authorId,"Atualização de Status",`O status da sua sugestão "${x.title}" foi alterado para ${d.status}.`,"STATUS_CHANGE",o)}$(await n.feedbacks.list())}catch{w("Erro ao atualizar feedback.","error")}},onReplyFeedback:async(o,d)=>{try{await n.feedbacks.addComment(o,d,!0);const x=ve.find(_=>_.id===o);x&&x.authorId&&await n.notifications.send(x.authorId,"Resposta ao seu Feedback",`Um administrador respondeu à sua sugestão: "${x.title}"`,"FEEDBACK_REPLY",o),$(await n.feedbacks.list()),w("Resposta enviada com sucesso!")}catch{w("Erro ao enviar resposta.","error")}},onDeleteComment:async(o,d)=>{try{n.feedbacks.deleteComment?await n.feedbacks.deleteComment(o,d):console.warn("api.feedbacks.deleteComment not implemented"),$(await n.feedbacks.list()),w("Comentário removido!")}catch{w("Erro ao remover comentário.","error")}},users:Be,onUpdateUser:async(o,d)=>{o.plan&&await n.admin.updateUserPlan(o.id,o.plan),o.status&&await n.admin.updateUserStatus(o.id,o.status)},onDeleteUser:n.admin.deleteUser,onBanUser:o=>n.admin.updateUserStatus(o,"BANNED"),onCreateUser:(o,d)=>{},onImpersonate:ia,plans:K,onUpdatePlan:async o=>{const d=await n.plans.update(o.id,o);re(x=>x.map(_=>_.id===o.id?d:_)),w("Plano atualizado!")},onDeletePlan:async o=>{await n.plans.delete(o),re(d=>d.filter(x=>x.id!==o)),w("Plano removido.")},onCreatePlan:async o=>{const d=await n.plans.create(o);re(x=>[...x,d]),w("Novo plano criado!")},systemConfig:ge,onUpdateSystemConfig:o=>n.system.update(o),t:f})}):a==="SHARED"&&ze?e.jsxs("div",{className:`flex flex-col h-screen ${u?"dark bg-slate-950":"bg-slate-50"}`,children:[(O==null?void 0:O.show)&&e.jsx("div",{className:`fixed top-14 left-1/2 -translate-x-1/2 z-[300] px-6 py-3 rounded-xl shadow-2xl border ${O.type==="success"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:O.message}),e.jsxs("header",{className:"h-16 flex items-center justify-between px-6 border-b bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 z-10 relative shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{onClick:()=>window.location.href="/",className:"flex items-center gap-2 cursor-pointer hover:opacity-80 transition-opacity",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold shadow-lg shadow-indigo-500/30",children:e.jsx(fe,{size:18,className:"text-white"})}),e.jsx("span",{className:"font-bold text-lg text-slate-800 dark:text-white hidden sm:block",children:"FluxFunnel"})]}),e.jsx("div",{className:"h-6 w-px bg-slate-300 dark:bg-slate-700 mx-2 hidden sm:block"}),e.jsx("h1",{className:"text-sm sm:text-lg font-bold text-slate-700 dark:text-slate-200 truncate max-w-[200px] sm:max-w-md",children:ze.name})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>t("LANDING"),className:"hidden sm:flex px-4 py-2 text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-lg font-bold transition-colors",children:"Criar meu Funil"}),e.jsx("button",{onClick:()=>t("LANDING"),className:"px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white rounded-lg font-bold shadow-lg shadow-indigo-500/20 transition-all active:scale-95",children:"Começar Grátis"})]})]}),e.jsx("div",{className:"flex-1 overflow-hidden relative",children:e.jsx(U.Suspense,{fallback:e.jsx(we,{}),children:e.jsx(ya,{project:ze,onSaveProject:async()=>{},onUnsavedChanges:()=>{},triggerSaveSignal:0,openSaveModalSignal:0,isDark:u,toggleTheme:()=>y(!u),isPresentationMode:!0,showNotesInPresentation:!0,t:f,userPlan:"FREE",maxNodes:9999,plans:[],showAIAssistant:!1,onToggleAIAssistant:()=>{},onSaveTemplate:()=>{},onShareToMarketplace:()=>{},isSharedView:!0})})})]}):e.jsxs("div",{className:`flex h-screen overflow-hidden ${u?"dark":""}`,children:[(O==null?void 0:O.show)&&e.jsx("div",{className:`fixed top-14 left-1/2 -translate-x-1/2 z-[300] px-6 py-3 rounded-xl shadow-2xl border ${O.type==="success"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:O.message}),Ga&&e.jsx(xs,{userPlan:(r==null?void 0:r.plan)||"FREE",onClose:()=>Z(!1),initialPlan:he==null?void 0:he.planId,initialCycle:he==null?void 0:he.cycle,onUpgrade:()=>{Z(!1)},isDark:u,plans:K,limitType:Ue.limitType,reason:Ue.reason,featureName:Ue.featureName,showNotification:w}),Ma&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 max-w-md w-full",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:f("unsavedModalTitle")}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("button",{onClick:()=>na(!0),className:"w-full py-3 bg-indigo-600 text-white rounded-xl font-bold",children:"Salvar e Sair"}),e.jsx("button",{onClick:()=>na(!1),className:"w-full py-3 bg-red-50 text-red-600 rounded-xl font-bold",children:"Descartar"}),e.jsx("button",{onClick:()=>Ne(!1),className:"w-full py-3 text-slate-500",children:"Continuar editando"})]})]})}),za&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 p-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 max-w-md w-full shadow-2xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-indigo-500 to-purple-500"}),e.jsx("div",{className:"mb-6 flex justify-center",children:e.jsx("div",{className:"w-16 h-16 bg-indigo-100 dark:bg-indigo-900/30 rounded-full flex items-center justify-center text-indigo-600 dark:text-indigo-400",children:e.jsx(Ea,{size:32})})}),e.jsx("h3",{className:"text-2xl font-bold mb-2 text-center text-slate-800 dark:text-white",children:"Limite de Projetos Atingido!"}),e.jsx("p",{className:"text-center text-slate-600 dark:text-slate-300 mb-6",children:"Você atingiu o limite de projetos do seu plano atual. Faça um upgrade para criar fluxos ilimitados."}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("button",{onClick:()=>{Ge(!1),Z(!0)},className:"w-full py-3.5 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white rounded-xl font-bold shadow-lg shadow-indigo-500/25 transition-all transform hover:scale-[1.02]",children:"Fazer Upgrade Agora 🚀"}),e.jsx("button",{onClick:()=>Ge(!1),className:"w-full py-3 text-slate-500 font-medium hover:text-slate-700 dark:hover:text-slate-300",children:"Agora não"})]})]})}),e.jsxs("aside",{className:`relative z-50 bg-slate-900 text-white flex flex-col justify-between transition-all duration-300 w-20 ${E?"lg:w-20":"lg:w-64"}`,children:[e.jsxs("div",{children:[e.jsxs("div",{className:"h-16 flex items-center justify-center lg:justify-between px-4 lg:px-6 border-b border-slate-800",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(fe,{className:"text-indigo-500",size:18}),e.jsx("span",{className:`ml-3 font-bold ${E?"hidden":"hidden lg:block"}`,children:"FluxFunnel"})]}),e.jsx("button",{onClick:()=>I(!E),className:"hidden lg:block text-slate-500 hover:text-white transition-colors",children:E?e.jsx($t,{size:16}):e.jsx(Kt,{size:16})})]}),e.jsxs("div",{className:"p-2 lg:p-4 space-y-2",children:[[{id:"PROJECTS",icon:e.jsx(Pa,{size:20}),label:f("projects")},{id:"BUILDER",icon:e.jsx(Yt,{size:20}),label:f("footerLinkBuilder")},{id:"MARKETPLACE",icon:e.jsx(Qt,{size:20}),label:f("marketplace")},{id:"TEAM",icon:e.jsx(Ta,{size:20}),label:f("team")},{id:"SETTINGS",icon:e.jsx(Jt,{size:20}),label:f("settings")}].map(o=>e.jsxs("button",{onClick:()=>{if(oe&&(o.id==="MARKETPLACE"||o.id==="TEAM")){be({reason:"FEATURE_LOCKED",featureName:o.label}),Z(!0);return}ke(()=>{o.id==="BUILDER"&&!Y?i("PROJECTS"):i(o.id)})},className:`w-full flex items-center gap-3 px-3 py-3 rounded-xl transition-all ${E?"justify-center":"lg:justify-start lg:px-4"} 
                  ${s===o.id?"bg-indigo-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-800 hover:text-white"}
                  ${oe&&(o.id==="MARKETPLACE"||o.id==="TEAM")?"opacity-60 cursor-not-allowed group":""}
                `,title:o.label,children:[o.icon,e.jsxs("span",{className:`hidden font-medium flex-1 flex items-center justify-between ${E?"":"lg:flex"}`,children:[o.label,oe&&(o.id==="MARKETPLACE"||o.id==="TEAM")&&e.jsx(ie,{size:14,className:"text-amber-500"})]})]},o.id)),(r==null?void 0:r.isSystemAdmin)&&e.jsxs("button",{onClick:()=>ke(()=>t("ADMIN")),className:`w-full flex items-center gap-3 px-3 py-3 rounded-xl transition-all bg-amber-600/10 text-amber-500 border border-amber-600/20 hover:bg-amber-600 hover:text-white ${E?"justify-center":"lg:justify-start lg:px-4"}`,title:"Painel Master",children:[e.jsx(Zt,{size:20}),e.jsx("span",{className:`hidden font-black uppercase text-[10px] tracking-widest ${E?"":"lg:block"}`,children:"Admin Master"})]})]})]}),e.jsxs("div",{className:"p-4 border-t border-slate-800 relative",children:[e.jsxs("button",{onClick:()=>V(!b),className:"w-full flex items-center gap-3 p-2 rounded-xl hover:bg-slate-800 transition-colors",children:[e.jsx("div",{className:"w-9 h-9 rounded-full bg-indigo-500 flex items-center justify-center text-sm font-bold",children:r==null?void 0:r.name.substring(0,2).toUpperCase()}),e.jsxs("div",{className:`hidden text-left ${E?"":"lg:block"}`,children:[e.jsx("p",{className:"text-sm font-bold truncate",children:r==null?void 0:r.name}),e.jsx("p",{className:"text-xs text-slate-400",children:oe?"CONVIDADO":r==null?void 0:r.plan})]})]}),b&&e.jsxs("div",{className:"absolute bottom-full left-0 w-56 mb-2 bg-slate-800 border border-slate-700 rounded-xl shadow-2xl overflow-hidden z-50",children:[e.jsx("button",{onClick:()=>{ke(()=>i("SETTINGS")),V(!1)},className:"w-full text-left px-4 py-3 text-sm text-slate-300 hover:bg-slate-700",children:"Configurações"}),(r==null?void 0:r.isSystemAdmin)&&e.jsx("button",{onClick:()=>{ke(()=>t("ADMIN")),V(!1)},className:"w-full text-left px-4 py-3 text-sm text-amber-400 hover:bg-slate-700",children:"Admin Panel"}),e.jsx("button",{onClick:$a,className:"w-full text-left px-4 py-3 text-sm text-red-400 hover:bg-slate-700 border-t border-slate-700",children:"Sair"})]})]})]}),e.jsxs("main",{className:`flex-1 flex flex-col h-full relative overflow-hidden transition-colors ${u?"bg-slate-950":"bg-slate-50"}`,children:[e.jsxs("header",{className:`h-16 flex items-center justify-between px-6 border-b ${u?"bg-slate-900 border-slate-800":"bg-white border-slate-200"}`,children:[e.jsxs("h1",{className:"text-xl font-bold",children:[s==="PROJECTS"&&f("projects"),s==="MARKETPLACE"&&f("marketplace"),s==="SETTINGS"&&f("settings"),s==="TEAM"&&f("team"),s==="BUILDER"&&(Y?(la=X.find(o=>o.id===Y))==null?void 0:la.name:f("noProjectSelected"))]}),e.jsxs("div",{className:"flex items-center gap-2",children:[s==="BUILDER"&&Y&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>R(o=>o===me.BUILDER?me.PRESENTATION:me.BUILDER),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-bold transition-all ${j===me.PRESENTATION?"bg-emerald-600 text-white shadow-lg shadow-emerald-500/30":"bg-emerald-100 text-emerald-700 hover:bg-emerald-200"}`,title:"Modo Apresentação",children:[e.jsx(Xt,{size:18})," Modo Apresentação"]}),(r==null?void 0:r.plan)==="PREMIUM"&&e.jsx("button",{onClick:()=>{const o=X.find(d=>d.id===Y);o&&ta(o),Ve(!1)},className:"flex items-center gap-2 px-3 py-2 bg-indigo-50 hover:bg-indigo-100 text-indigo-600 rounded-lg font-bold transition-all ml-2",title:"Compartilhar Apresentação",children:e.jsx(Ie,{size:18})}),e.jsxs("button",{onClick:()=>Le(o=>o+1),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-bold shadow-lg shadow-indigo-500/20 transition-all active:scale-95 ml-2",children:[e.jsx(es,{size:18})," Salvar"]})]}),e.jsx("button",{onClick:()=>t("ROADMAP"),className:"text-sm font-bold text-indigo-600 ml-4",children:"Roadmap"})]})]}),s!=="BUILDER"&&e.jsx(fs,{announcements:ge.announcements}),s!=="BUILDER"&&r&&Oa&&e.jsx(_s,{user:r,onDismiss:()=>{Ua(!1),localStorage.setItem("hide_profile_banner","true")},onAction:()=>i("SETTINGS")}),e.jsx("div",{className:"flex-1 overflow-hidden relative flex",children:e.jsxs(U.Suspense,{fallback:e.jsx(we,{}),children:[s==="PROJECTS"&&e.jsx(Es,{projects:X,projectsLimit:oe?999:((ca=K.find(o=>o.id===((r==null?void 0:r.plan)||"FREE")))==null?void 0:ca.projectLimit)||3,onCreateProject:oa,onOpenProject:o=>{Se(o),Le(0),i("BUILDER")},onDeleteProject:Ha,onRenameProject:Wa,onRefreshTemplates:ra,showNotification:w,isDark:u,t:f,userPlan:r==null?void 0:r.plan,customTemplates:ea,onSaveAsTemplate:async o=>{await n.templates.create({customLabel:o.name,nodes:o.nodes,edges:o.edges,isCustom:!0}),ra()},onUpgrade:()=>{be({reason:"FEATURE_LOCKED",featureName:"Compartilhamento de Link"}),Z(!0)}}),s==="MARKETPLACE"&&e.jsx(Ss,{userPlan:(r==null?void 0:r.plan)||"FREE",onDownload:async o=>{await oa(o.id,o.customLabel,!1)},isDark:u,t:f,userId:r==null?void 0:r.id,onUpgrade:()=>{be({reason:"FEATURE_LOCKED",featureName:"Acesso ao Marketplace"}),Z(!0)}}),s==="TEAM"&&e.jsx(Ns,{members:C,onInviteMember:Ka,onUpdateRole:Ja,onRemoveMember:Ya,onResendInvite:Qa,onUpgrade:()=>{be({reason:"FEATURE_LOCKED",featureName:"Gestão de Equipe"}),Z(!0)},plan:(r==null?void 0:r.plan)||"FREE",maxMembers:((da=K.find(o=>o.id===(r==null?void 0:r.plan)))==null?void 0:da.teamLimit)??((r==null?void 0:r.plan)==="PREMIUM"?10:0),isDark:u,t:f}),s==="MASTER_ADMIN"&&e.jsx(ja,{onBack:()=>i("PROJECTS"),onReplyFeedback:async(o,d)=>{await n.feedbacks.addComment(o,d),$(await n.feedbacks.list())},onDeleteComment:async(o,d)=>{await n.feedbacks.deleteComment(o,d),$(await n.feedbacks.list())},feedbacks:ve,onDeleteFeedback:async o=>{await n.feedbacks.delete(o),$(await n.feedbacks.list())},onUpdateFeedback:async(o,d)=>{await n.feedbacks.update(o,d),$(await n.feedbacks.list())},users:Be||[],onUpdateUser:async o=>{await n.admin.updateUserStatus(o.id,o.status),await n.admin.updateUserPlan(o.id,o.plan),ee(await n.users.list())},onDeleteUser:async o=>{await n.admin.deleteUser(o),ee(await n.users.list())},onBanUser:async o=>{await n.admin.updateUserStatus(o,"BANNED"),ee(await n.users.list())},onCreateUser:()=>{},onImpersonate:ia,plans:K,onUpdatePlan:async o=>{await n.plans.update(o.id,o),re(await n.plans.list())},onDeletePlan:async o=>{await n.plans.delete(o),re(await n.plans.list())},onCreatePlan:async o=>{await n.plans.create(o),re(await n.plans.list())},systemConfig:ge,onUpdateSystemConfig:async o=>{await n.system.update(o),aa(await n.system.get())},t:f}),s==="BUILDER"&&(Y?e.jsx(ya,{project:X.find(o=>o.id===Y),onSaveProject:Za,onUnsavedChanges:()=>Me(!0),triggerSaveSignal:Ee,openSaveModalSignal:Fe,isDark:u,toggleTheme:()=>y(!u),isPresentationMode:j===me.PRESENTATION,showNotesInPresentation:F,t:f,userPlan:oe?"CONVIDADO":(r==null?void 0:r.plan)||"FREE",maxNodes:oe?999999:((ma=K.find(o=>o.id===((r==null?void 0:r.plan)||"FREE")))==null?void 0:ma.nodeLimit)||20,plans:K,showAIAssistant:W,onToggleAIAssistant:()=>ue(!W),showNotification:w,onSaveTemplate:async(o,d,x)=>{if(r)try{await n.templates.create({customLabel:x,nodes:o,edges:d,isCustom:!0,owner_id:r.id}),w("Modelo salvo com sucesso!"),Ce(await n.templates.list())}catch{w("Erro ao salvar modelo","error")}},onShareToMarketplace:async(o,d)=>{if(!r)return;const x=X.find(_=>_.id===Y);x&&(await n.templates.submitToMarketplace({customLabel:o,customDescription:d,nodes:x.nodes,edges:x.edges,authorName:r.name}),w("Enviado para análise com sucesso!"))}}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:[e.jsx(Ke,{size:64,className:"mb-4 opacity-50"}),e.jsx("p",{children:f("noProjectSelected")})]})),s==="SETTINGS"&&r&&e.jsx(As,{isInvited:oe,user:r,onUpdateUser:async o=>{await n.auth.updateProfile(r.id,o),l({...r,...o}),w("Perfil atualizado!")},isDark:u,toggleTheme:()=>y(!u),lang:P,setLang:G,t:f,projectsCount:X.filter(o=>o.ownerId===r.id).length,onUpgrade:()=>{be({reason:"FEATURE_LOCKED",featureName:"Assinatura Premium"}),Z(!0)},plans:K})]})})]}),qe&&e.jsx("div",{className:"fixed inset-0 z-[300] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in-up",children:e.jsxs("div",{className:`w-full max-w-lg p-8 rounded-2xl shadow-2xl relative overflow-hidden ${u?"bg-slate-900 text-white":"bg-white text-slate-900"}`,children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-emerald-500 to-teal-500"}),e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-emerald-100 dark:bg-emerald-900/30 rounded-full flex items-center justify-center text-emerald-600 dark:text-emerald-400 mb-6 shadow-lg shadow-emerald-500/20",children:e.jsx(Ie,{size:36})}),e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Compartilhar Apresentação"}),e.jsxs("p",{className:`mb-6 ${u?"text-slate-400":"text-slate-500"}`,children:["Este link permite que qualquer pessoa visualize seu mapa em ",e.jsx("strong",{children:"Modo Apresentação"}),", sem a necessidade de login ou edição."]}),e.jsx("div",{className:`w-full p-4 rounded-xl border-2 mb-6 text-left break-all font-mono text-sm flex items-center justify-between gap-4 ${u?"bg-slate-950 border-slate-700 text-slate-300":"bg-slate-50 border-slate-200 text-slate-600"}`,children:e.jsx("span",{className:"line-clamp-2",children:`${window.location.origin}/?share=${qe.id}`})}),e.jsx("button",{onClick:()=>{const o=`${window.location.origin}/?share=${qe.id}`;navigator.clipboard.writeText(o),Ve(!0),w("Link copiado para a área de transferência!","success"),setTimeout(()=>Ve(!1),3e3)},className:`w-full py-4 text-white rounded-xl font-bold shadow-lg transition-all flex items-center justify-center gap-2 mb-4 ${sa?"bg-emerald-600 hover:bg-emerald-500 scale-95":"bg-indigo-600 hover:bg-indigo-500 hover:scale-[1.02] shadow-indigo-500/25"}`,children:sa?e.jsxs(e.Fragment,{children:[e.jsx(as,{size:20})," Link Copiado!"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ie,{size:20})," Copiar Link de Visualização"]})}),e.jsx("button",{onClick:()=>ta(null),className:`text-sm font-bold hover:underline ${u?"text-slate-500 hover:text-slate-300":"text-slate-400 hover:text-slate-600"}`,children:"Fechar Janela"})]})]})})]})};class Ts extends g.Component{constructor(){super(...arguments);ua(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,i){console.error("Uncaught error:",s,i)}render(){var s;return this.state.hasError?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#020617] p-4 font-sans text-white",children:e.jsxs("div",{className:"max-w-md w-full bg-[#0f172a] border border-red-900/30 rounded-3xl p-8 flex flex-col items-center text-center shadow-2xl",children:[e.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mb-6 animate-pulse",children:e.jsx(_a,{size:40,className:"text-red-500"})}),e.jsx("h1",{className:"text-2xl font-black mb-2 tracking-tight",children:"Ops! Algo deu errado."}),e.jsx("p",{className:"text-slate-400 text-sm mb-8 leading-relaxed",children:"Encontramos um erro inesperado na interface. Nossa equipe foi notificada. Tente recarregar a página para continuar."}),e.jsx("div",{className:"bg-slate-950 p-4 rounded-xl w-full mb-8 border border-slate-800 text-left overflow-auto max-h-32",children:e.jsx("code",{className:"text-[10px] text-red-400 font-mono break-all",children:(s=this.state.error)==null?void 0:s.toString()})}),e.jsxs("button",{onClick:()=>window.location.reload(),className:"w-full py-4 bg-indigo-600 hover:bg-indigo-500 text-white rounded-xl font-bold flex items-center justify-center gap-2 transition-all active:scale-95 shadow-lg shadow-indigo-500/20",children:[e.jsx(ts,{size:18}),"Recarregar Sistema"]})]})}):this.props.children}}const Fa=document.getElementById("root");if(!Fa)throw new Error("Could not find root element to mount to");const Ds=Ye.createRoot(Fa);Ds.render(e.jsx(U.StrictMode,{children:e.jsx(Ts,{children:e.jsx(ks,{})})}));export{p as N,ws as P,xs as U,Os as a,n as b,de as c,vs as d,e as j};
