import{a as X,N as r,d as oe,j as e}from"./index-eBZt-p7n.js";import{r as c,R as z}from"./vendor-KfUPlHYY.js";import{aw as q,bd as ne,r as ie,q as de,be as v,bf as L,bg as ce,as as xe,E as be,g as ue,b6 as me,aP as he,X as J,k as pe,bh as V,ap as fe,au as ge,a7 as je,a8 as ve,bi as Ne,bj as we,bk as ye,bl as ke}from"./ui-DazhNhsc.js";const Ce=()=>e.jsxs("div",{className:"h-4 w-full bg-slate-100 border-b border-slate-200 flex items-center px-2 gap-1",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-300"}),e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-300"})]}),Q=()=>e.jsx("div",{className:"w-full aspect-video bg-slate-100 rounded border border-slate-200 flex items-center justify-center mb-2",children:e.jsx("div",{className:"w-6 h-6 rounded-full bg-white border border-slate-200 flex items-center justify-center shadow-sm",children:e.jsx(V,{size:10,className:"text-slate-400 ml-0.5 fill-slate-400"})})}),Ee=()=>e.jsxs("div",{className:"px-1 w-full",children:[e.jsxs("div",{className:"relative w-full aspect-video bg-slate-800 rounded border border-slate-700 flex items-center justify-center mb-2 shadow-sm overflow-hidden group-hover:border-slate-600 transition-colors",children:[e.jsx("div",{className:"absolute top-1 left-1 bg-red-600 text-[4px] leading-tight text-white font-bold px-1 rounded-sm animate-pulse z-10 tracking-wider",children:"LIVE"}),e.jsx("div",{className:"w-6 h-6 rounded-full bg-white/10 backdrop-blur-sm border border-white/20 flex items-center justify-center",children:e.jsx(V,{size:8,className:"text-white ml-0.5 fill-white"})})]}),e.jsxs("div",{className:"flex gap-1.5 w-full h-[45px]",children:[e.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"h-1 w-full bg-slate-100 rounded-sm"}),e.jsx("div",{className:"h-1 w-3/4 bg-slate-100 rounded-sm"})]}),e.jsx("div",{className:"h-4 w-full rounded bg-indigo-600 flex items-center justify-center shadow-sm",children:e.jsx("span",{className:"text-[5px] font-bold text-white uppercase tracking-wide",children:"JOIN ROOM"})})]}),e.jsxs("div",{className:"w-7 bg-slate-50 border border-slate-100 rounded-sm p-0.5 flex flex-col gap-0.5 justify-end",children:[[1,2,3,4].map(l=>e.jsx("div",{className:`h-0.5 bg-slate-300 rounded-sm ${l%2===0?"w-full":"w-4/5"}`},l)),e.jsx("div",{className:"h-1 w-full bg-white border border-slate-200 rounded-sm mt-0.5"})]})]})]}),$e=({count:l=3})=>e.jsx("div",{className:"space-y-1 mb-2 w-full px-1",children:Array.from({length:l}).map((t,i)=>e.jsx("div",{className:`h-1 bg-slate-100 rounded ${i===l-1?"w-2/3":"w-full"}`},i))}),Z=({fields:l=2})=>e.jsx("div",{className:"space-y-1 mb-2 w-full px-1",children:Array.from({length:l}).map((t,i)=>e.jsx("div",{className:"h-4 w-full border border-slate-200 bg-slate-50 rounded"},i))}),h=({color:l="bg-blue-500",text:t="CTA",width:i="w-3/4"})=>e.jsx("div",{className:`h-5 ${i} mx-auto rounded ${l} flex items-center justify-center shadow-sm`,children:e.jsx("span",{className:"text-[6px] font-bold text-white uppercase tracking-tight",children:t})}),Pe=()=>e.jsxs("div",{className:"px-1 w-full",children:[e.jsxs("div",{className:"flex gap-1 mb-2",children:[e.jsx("div",{className:"w-1/3 h-10 border border-slate-200 bg-slate-50 rounded flex items-center justify-center",children:e.jsx("div",{className:"w-4 h-6 bg-slate-200 rounded-sm"})}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("div",{className:"h-1 w-full bg-slate-100 rounded"}),e.jsx("div",{className:"h-1 w-3/4 bg-slate-100 rounded"}),e.jsx("div",{className:"h-1 w-1/2 bg-slate-100 rounded"})]})]}),e.jsx("div",{className:"h-6 w-full border border-slate-200 bg-slate-50 rounded mb-1 flex items-center px-1",children:e.jsx(ge,{size:8,className:"text-slate-300"})})]}),Ae=()=>e.jsxs("div",{className:"px-2 w-full space-y-2 mt-1",children:[e.jsx("div",{className:"h-2 w-3/4 bg-slate-200 rounded mx-auto mb-2"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-3 h-3 rounded-full border border-slate-300"}),e.jsx("div",{className:"h-1.5 w-full bg-slate-100 rounded"})]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-3 h-3 rounded-full border border-slate-300"}),e.jsx("div",{className:"h-1.5 w-full bg-slate-100 rounded"})]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"w-3 h-3 rounded-full border border-blue-400 bg-blue-50"}),e.jsx("div",{className:"h-1.5 w-full bg-slate-100 rounded"})]})]}),Se=()=>e.jsxs("div",{className:"px-1 w-full",children:[e.jsx("div",{className:"h-16 w-full bg-slate-100 rounded mb-2 flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 opacity-20",children:e.jsx("div",{className:"w-full h-full bg-slate-400 rounded-sm transform rotate-12"})})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"h-2 w-full bg-slate-200 rounded"}),e.jsx("div",{className:"h-1 w-full bg-slate-100 rounded"}),e.jsx("div",{className:"h-1 w-full bg-slate-100 rounded"}),e.jsx("div",{className:"h-1 w-2/3 bg-slate-100 rounded"})]})]}),Te=()=>e.jsxs("div",{className:"px-1 w-full pt-1",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1.5 px-1",children:[e.jsx("div",{className:"h-1.5 w-1/3 bg-slate-300 rounded"}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-slate-300"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[e.jsx("div",{className:"h-8 bg-slate-100 border border-slate-200 rounded flex flex-col justify-end p-0.5",children:e.jsx("div",{className:"h-1 w-3/4 bg-slate-300 rounded mb-0.5"})}),e.jsx("div",{className:"h-8 bg-slate-100 border border-slate-200 rounded flex flex-col justify-end p-0.5",children:e.jsx("div",{className:"h-1 w-1/2 bg-slate-300 rounded mb-0.5"})}),e.jsx("div",{className:"h-8 bg-slate-100 border border-slate-200 rounded flex flex-col justify-end p-0.5",children:e.jsx("div",{className:"h-1 w-2/3 bg-slate-300 rounded mb-0.5"})}),e.jsx("div",{className:"h-8 bg-slate-100 border border-slate-200 rounded flex flex-col justify-end p-0.5",children:e.jsx("div",{className:"h-1 w-full bg-slate-300 rounded mb-0.5"})})]})]}),ze=()=>e.jsxs("div",{className:"relative w-full h-full bg-slate-50 flex items-center justify-center",children:[e.jsxs("div",{className:"absolute inset-0 opacity-20 space-y-2 p-2",children:[e.jsx("div",{className:"h-2 w-full bg-slate-300 rounded"}),e.jsx("div",{className:"h-2 w-2/3 bg-slate-300 rounded"}),e.jsx("div",{className:"h-20 w-full bg-slate-200 rounded"})]}),e.jsxs("div",{className:"relative z-10 w-4/5 h-3/4 bg-white border border-slate-300 rounded shadow-xl flex flex-col items-center justify-center p-1",children:[e.jsx("div",{className:"absolute top-1 right-1",children:e.jsx(Ne,{size:6,className:"text-slate-400"})}),e.jsx("div",{className:"h-1.5 w-3/4 bg-purple-200 rounded mb-1"}),e.jsx("div",{className:"h-1 w-full bg-slate-100 rounded mb-2"}),e.jsx(h,{color:"bg-purple-500",text:"GET OFFER",width:"w-[90%]"})]})]}),Oe=()=>e.jsxs("div",{className:"px-1 w-full flex flex-col items-center justify-center h-full pb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-teal-50 rounded-full border border-teal-100 flex items-center justify-center mb-2",children:e.jsx(ve,{size:16,className:"text-teal-500"})}),e.jsx("div",{className:"h-1.5 w-3/4 bg-slate-200 rounded mb-1"}),e.jsx("div",{className:"h-1 w-1/2 bg-slate-100 rounded mb-2"}),e.jsx(h,{color:"bg-teal-500",text:"DOWNLOAD",width:"w-3/4"})]}),Re=()=>e.jsxs("div",{className:"px-1 w-full pt-1",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-2 justify-center",children:[e.jsx(je,{size:10,className:"text-blue-500"}),e.jsx("div",{className:"h-1 w-1/2 bg-slate-200 rounded"})]}),e.jsx("div",{className:"grid grid-cols-4 gap-0.5 p-1 bg-slate-50 rounded border border-slate-100",children:Array.from({length:12}).map((l,t)=>e.jsx("div",{className:`h-3 rounded-sm ${t===7?"bg-blue-500":"bg-slate-200"}`},t))}),e.jsx("div",{className:"mt-2",children:e.jsx(h,{color:"bg-blue-500",text:"BOOK NOW",width:"w-full"})})]}),Ie=()=>e.jsxs("div",{className:"px-1 w-full flex flex-col justify-center h-full pb-1",children:[e.jsx("div",{className:"h-2 w-3/4 bg-emerald-100 rounded mx-auto mb-2 border border-emerald-50"}),e.jsx("div",{className:"h-1.5 w-full bg-slate-100 rounded mb-3"}),e.jsx(Z,{fields:1}),e.jsx(h,{color:"bg-emerald-500",text:"SIGN UP",width:"w-full"})]}),We=()=>e.jsxs("div",{className:"w-full h-full flex flex-col",children:[e.jsxs("div",{className:"relative w-full h-16 bg-slate-900 rounded-t border-b border-red-900 flex items-center justify-center",children:[e.jsxs("div",{className:"absolute top-1 left-1 flex items-center gap-0.5 bg-red-600 px-1 rounded-sm",children:[e.jsx("div",{className:"w-1 h-1 bg-white rounded-full animate-pulse"}),e.jsx("span",{className:"text-[3px] text-white font-bold tracking-widest",children:"LIVE"})]}),e.jsx(V,{size:10,className:"text-red-500 fill-red-500 opacity-80"})]}),e.jsxs("div",{className:"flex-1 bg-slate-50 flex gap-1 p-1",children:[e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("div",{className:"h-1 w-full bg-slate-200 rounded"}),e.jsx("div",{className:"h-1 w-2/3 bg-slate-200 rounded"})]}),e.jsx("div",{className:"w-6 bg-slate-100 border border-slate-200"})]})]}),Le=()=>e.jsxs("div",{className:"px-2 w-full pt-2",children:[e.jsx("div",{className:"h-2 w-1/2 bg-slate-300 rounded mb-3"}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-slate-200 rounded"}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("div",{className:"h-1 w-full bg-slate-100 rounded"}),e.jsx("div",{className:"h-1 w-full bg-slate-100 rounded"}),e.jsx("div",{className:"h-1 w-2/3 bg-slate-100 rounded"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"h-1 w-full bg-slate-100 rounded"}),e.jsx("div",{className:"h-1 w-full bg-slate-100 rounded"}),e.jsx("div",{className:"h-1 w-full bg-slate-100 rounded"})]})]}),De=()=>e.jsxs("div",{className:"px-1 w-full flex flex-col h-full pt-1",children:[e.jsx("div",{className:"h-1.5 w-1/3 bg-slate-300 rounded mb-2"}),e.jsxs("div",{className:"flex-1 space-y-1 border border-slate-100 rounded p-0.5 mb-1 bg-slate-50",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"h-1 w-8 bg-slate-200 rounded"}),e.jsx("div",{className:"h-1 w-4 bg-slate-200 rounded"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"h-1 w-6 bg-slate-200 rounded"}),e.jsx("div",{className:"h-1 w-4 bg-slate-200 rounded"})]}),e.jsx("div",{className:"h-px w-full bg-slate-200 my-0.5"}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"h-1 w-5 bg-slate-300 rounded"}),e.jsx("div",{className:"h-1 w-5 bg-slate-300 rounded"})]})]}),e.jsx(h,{color:"bg-violet-600",text:"CONFIRM",width:"w-full"})]}),Be=()=>e.jsx("div",{className:"w-full h-full flex flex-col p-1 bg-slate-50",children:e.jsxs("div",{className:"flex gap-1 h-full",children:[e.jsx("div",{className:"w-1/4 bg-slate-200 rounded-sm h-full"}),e.jsxs("div",{className:"flex-1 flex flex-col gap-1",children:[e.jsx("div",{className:"h-2 w-full bg-slate-200 rounded-sm"}),e.jsxs("div",{className:"flex-1 bg-slate-100 rounded-sm border border-slate-200 p-0.5 grid grid-cols-2 gap-0.5",children:[e.jsx("div",{className:"bg-slate-200 rounded-sm h-full"}),e.jsx("div",{className:"bg-slate-200 rounded-sm h-full"}),e.jsx("div",{className:"col-span-2 bg-slate-200 rounded-sm h-full"})]})]})]})}),_e=()=>e.jsxs("div",{className:"w-full h-full flex flex-col p-1 pt-2",children:[e.jsx("div",{className:"w-full h-2 bg-slate-200 mb-1 rounded-sm"}),e.jsx("div",{className:"grid grid-cols-2 gap-1 flex-1",children:[1,2,3,4].map(l=>e.jsxs("div",{className:"bg-slate-50 border border-slate-100 rounded-sm flex flex-col items-center justify-center p-0.5",children:[e.jsx("div",{className:"w-3 h-3 bg-slate-200 rounded-full mb-0.5"}),e.jsx("div",{className:"w-3/4 h-0.5 bg-slate-200"})]},l))})]}),Me=({id:l,data:t,selected:i})=>{const{deleteElements:D,setNodes:$}=q(),y=ne(),O=X[t.type],P=t.userPlan||"FREE",[k,g]=c.useState(!1),[C,E]=c.useState(t.label),b=c.useRef(null),[p,f]=c.useState(!1),n=t.isPresentationMode,u=t.isConnectionActive;c.useEffect(()=>{const s=setTimeout(()=>{y(l)},0);return()=>clearTimeout(s)},[t.type,l,y]),c.useEffect(()=>{E(t.label)},[t.label]),c.useEffect(()=>{k&&b.current&&(b.current.focus(),setTimeout(()=>{var s;return(s=b.current)==null?void 0:s.select()},10))},[k]),c.useEffect(()=>{i||f(!1)},[i]);const A=t.type===r.PURCHASE_SUB||t.type===r.AB_TEST,R=O.category===oe.PAGE,N=t.type===r.NOTE,B=!R&&!A&&!N,w=c.useRef(null),[m,_]=c.useState(t.description||""),M=s=>{const a=s.target.value;_(a),$(o=>o.map(d=>d.id===l?{...d,data:{...d.data,description:a}}:d))},ee=s=>{s.stopPropagation(),$(a=>a.map(o=>o.id===l?{...o,data:{...o.data,isTransparent:!o.data.isTransparent}}:o))};c.useLayoutEffect(()=>{if(N&&w.current){w.current.style.height="0px";const s=w.current.scrollHeight;w.current.style.height=`${Math.max(96,s)}px`,y(l)}},[m,N,l,y]);const se=s=>{s.stopPropagation(),t.onConnectAction&&t.onConnectAction(l,"start-auto")},te=s=>{u&&!t.isConnectSource&&t.onConnectAction&&(s.stopPropagation(),t.onConnectAction(l,"end-auto"))},ae=s=>{t.onSwapType&&t.onSwapType(l,s),f(!1)},G=()=>{const a=`absolute w-12 h-12 !bg-transparent !border-none flex items-center justify-center ${n?"pointer-events-none":"cursor-crosshair"} pointer-events-auto nodrag`;if(p)return null;const o=()=>e.jsx("div",{className:`
            w-3.5 h-3.5 min-w-[14px] min-h-[14px] bg-indigo-500 rounded-full border-2 border-white shadow-sm transition-all duration-200 pointer-events-none
            ${n?"opacity-0":"opacity-0 group-hover:opacity-100"}
            group-hover:scale-125
        `}),d=[{pos:v.Top,id:"top",class:"-top-3 left-1/2 -translate-x-1/2"},{pos:v.Right,id:"right",class:"-right-3 top-1/2 -translate-y-1/2"},{pos:v.Bottom,id:"bottom",class:"-bottom-3 left-1/2 -translate-x-1/2"},{pos:v.Left,id:"left",class:"-left-3 top-1/2 -translate-y-1/2"}];return e.jsx(e.Fragment,{children:d.map(({pos:x,id:j,class:T})=>e.jsxs(z.Fragment,{children:[e.jsx(L,{type:"target",position:x,id:`${j}-target`,className:`${a} ${T} opacity-0`,style:{zIndex:50},isConnectable:!0,isConnectableStart:!1}),e.jsx(L,{type:"source",position:x,id:`${j}-source`,className:`${a} ${T} 
                                [&>div]:hover:scale-150 
                                [&>div]:hover:!opacity-100 
                                [&>div]:hover:bg-indigo-500 
                                [&>div]:hover:border-white 
                                [&>div]:hover:shadow-lg
                                active:scale-90 transition-all
                            `,style:{zIndex:51},isConnectable:!0,isConnectableStart:!0,children:e.jsx(o,{})})]},j))})},le=s=>{s.stopPropagation(),D({nodes:[{id:l}]})},re=s=>{s.stopPropagation(),g(!0)},F=()=>{g(!1),C.trim()!==""?$(s=>s.map(a=>a.id===l?{...a,data:{...a.data,label:C}}:a)):E(t.label)},Y=s=>{s.stopPropagation(),s.key==="Enter"&&F()},H=(s="")=>k?e.jsx("input",{ref:b,type:"text",value:C,onChange:a=>E(a.target.value),onBlur:F,onKeyDown:Y,className:`nodrag mb-2 px-1 py-0.5 rounded text-xs font-bold text-center min-w-[80px] w-[100px] bg-white dark:bg-slate-800 border border-blue-500 text-slate-800 dark:text-white outline-none shadow-lg z-50 pointer-events-auto ${s}`,onClick:a=>a.stopPropagation(),title:"Rename Node",placeholder:"Nome"}):e.jsx("div",{className:`mb-2 px-2 py-0.5 rounded text-xs font-bold text-center min-w-[80px] transition-colors
            ${i&&!n?"bg-blue-600 text-white shadow-sm":"text-slate-600 dark:text-slate-300 bg-transparent group-hover:bg-slate-100 dark:group-hover:bg-slate-800"}
            ${s}
        `,children:t.label}),I=()=>n?null:e.jsxs("div",{className:`absolute -top-11 left-1/2 -translate-x-1/2 flex gap-1 p-1.5 rounded-lg shadow-xl z-[90] transition-opacity duration-200 border
            ${i?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}
            bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700
            `,children:[e.jsx("button",{onClick:se,className:`p-1.5 rounded transition-colors 
                    ${t.isConnectSource?"bg-cyan-500 text-white shadow-inner pointer-events-none":"text-cyan-600 hover:text-cyan-800 hover:bg-cyan-50 dark:text-cyan-400 dark:hover:text-white dark:hover:bg-cyan-900/30"}
                `,title:"Connect Mode: Click here, then click ANY other node",children:e.jsx(ce,{size:14,strokeWidth:2.5})}),e.jsx("div",{className:"w-px bg-slate-200 dark:bg-slate-700 my-1"}),e.jsx("button",{onClick:s=>{s.stopPropagation(),f(!p)},className:`p-1.5 rounded transition-colors ${p?"bg-indigo-100 text-indigo-600":"text-slate-500 hover:text-slate-800 hover:bg-slate-100 dark:text-slate-400 dark:hover:text-white dark:hover:bg-slate-700"}`,title:"Swap Element",children:e.jsx(xe,{size:14})}),e.jsx("div",{className:"w-px bg-slate-200 dark:bg-slate-700 my-1"}),N&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:ee,className:`p-1.5 rounded transition-colors ${t.isTransparent?"text-amber-500 bg-amber-50":"text-slate-500 hover:text-slate-800 hover:bg-slate-100 dark:text-slate-400 dark:hover:text-white"}`,title:t.isTransparent?"Show Content":"Hide Content (Ghost Mode)",children:t.isTransparent?e.jsx(be,{size:14}):e.jsx(ue,{size:14})}),e.jsx("div",{className:"w-px bg-slate-200 dark:bg-slate-700 my-1"})]}),e.jsx("button",{onClick:re,className:"p-1.5 rounded transition-colors text-slate-500 hover:text-slate-800 hover:bg-slate-100 dark:text-slate-400 dark:hover:text-white dark:hover:bg-slate-700",title:"Rename",children:e.jsx(me,{size:14})}),e.jsx("div",{className:"w-px bg-slate-200 dark:bg-slate-700 my-1"}),e.jsx("button",{onClick:le,className:"p-1.5 rounded transition-colors text-red-500 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20",title:"Delete",children:e.jsx(he,{size:14})}),p&&e.jsxs("div",{className:"absolute top-10 left-1/2 -translate-x-1/2 w-64 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 shadow-2xl rounded-xl z-[200] overflow-hidden flex flex-col",onMouseDown:s=>s.stopPropagation(),onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-2 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[e.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"Replace with..."}),e.jsx("button",{onClick:()=>f(!1),className:"text-slate-400 hover:text-slate-600",title:"Close",children:e.jsx(J,{size:12})})]}),e.jsx("div",{className:"p-2 overflow-y-auto max-h-[200px] scrollbar-thin",children:e.jsx("div",{className:"grid grid-cols-4 gap-2",children:Object.entries(X).sort(([,s],[,a])=>s.label.localeCompare(a.label)).map(([s,a])=>{if(s===r.NOTE)return null;const o=s,d=o===t.type,x=P==="FREE"&&a.isPro;return e.jsxs("button",{type:"button",onClick:j=>{j.preventDefault(),j.stopPropagation(),!x&&!d&&ae(o)},className:`relative flex flex-col items-center justify-center p-1.5 rounded-lg border transition-all cursor-pointer
                                                ${d?"bg-indigo-50 border-indigo-200 opacity-50 cursor-default":""}
                                                ${x?"opacity-50 cursor-not-allowed grayscale":"hover:bg-slate-50 hover:border-slate-200 dark:hover:bg-slate-800 dark:hover:border-slate-700"}
                                                ${!d&&!x?"border-transparent":""}
                                            `,title:x?"Available on Pro Plan":a.label,disabled:d||x,children:[x&&e.jsx("div",{className:"absolute top-0.5 right-0.5 z-10",children:e.jsx(pe,{size:8,className:"text-slate-500 fill-slate-200"})}),e.jsx("div",{className:`w-6 h-6 rounded flex items-center justify-center mb-1 ${a.bg}`,children:z.cloneElement(a.icon,{size:12,color:"white"})}),e.jsx("span",{className:"text-[8px] text-slate-600 dark:text-slate-400 truncate w-full text-center leading-tight",children:a.label})]},s)})})})]})]}),S=()=>({onClick:te,className:`
         relative flex flex-col items-center group transition-all duration-200
         ${u&&!t.isConnectSource?"cursor-pointer hover:scale-105":""}
      `}),W=()=>u&&!t.isConnectSource?e.jsx("div",{className:"absolute inset-[-4px] z-[80] rounded-xl bg-cyan-500/20 border-2 border-dashed border-cyan-500 animate-pulse pointer-events-none"}):null;if(N){const s=n&&(t.showNotes===!1||t.isTransparent),a=!n&&t.isTransparent?"opacity-50 hover:opacity-100 transition-opacity":"opacity-100",o=s?"opacity-0 pointer-events-none":a;return e.jsxs("div",{...S(),className:"group",children:[e.jsx(I,{}),e.jsxs("div",{className:o,children:[e.jsx("div",{className:"absolute -top-7 left-1/2 -translate-x-1/2 z-50 whitespace-nowrap",children:H()}),e.jsxs("div",{className:`
                      w-[150px] min-h-[130px] h-auto shadow-xl hover:shadow-2xl transition-all duration-300 relative rounded-2xl overflow-hidden
                      bg-[#fdfbf7] border border-slate-200
                      flex flex-col
                      ${i&&!n?"ring-2 ring-cyan-500 rotate-0":"hover:scale-105"}
                  `,children:[e.jsx(W,{}),e.jsx("div",{className:"h-8 w-full bg-[#fbbf24] flex-shrink-0 relative z-10"}),e.jsx("div",{className:"h-2 w-full bg-[#fdfbf7] border-b-4 border-dotted border-slate-300/50 flex-shrink-0 relative -top-1 z-0"}),e.jsx("textarea",{ref:w,className:`
                            nodrag w-full bg-transparent resize-none outline-none p-3 text-xs font-medium text-slate-700 placeholder-slate-400 leading-relaxed overflow-hidden block box-border note-lined-paper
                            ${n?"pointer-events-none":""}
                        `,value:m,onChange:M,onKeyDown:d=>d.stopPropagation(),placeholder:"Type your note...",onClick:d=>d.stopPropagation(),rows:1}),G()]})]})]})}if(R){let s=null;switch(t.type){case r.WEBINAR:s=e.jsx(Ee,{});break;case r.LIVE_WEBINAR:s=e.jsx(We,{});break;case r.POPUP:s=e.jsx(ze,{});break;case r.DOWNLOAD_PAGE:s=e.jsx(Oe,{});break;case r.CALENDAR_PAGE:s=e.jsx(Re,{});break;case r.OPTIN_PAGE:s=e.jsx(Ie,{});break;case r.ORDER_PAGE:s=e.jsx(De,{});break;case r.GENERIC_PAGE:s=e.jsx(Le,{});break;case r.SYSTEM_PAGE:s=e.jsx(Be,{});break;case r.ECOMMERCE_PAGE:s=e.jsx(_e,{});break;case r.VSL:s=e.jsxs(e.Fragment,{children:[e.jsx(Q,{}),e.jsxs("div",{className:"w-full px-1 mb-1",children:[e.jsx("div",{className:"h-1 w-full bg-slate-100 rounded mb-0.5"}),e.jsx("div",{className:"h-1 w-2/3 bg-slate-100 rounded"})]}),e.jsx(h,{color:"bg-orange-500",text:"YES! I WANT THIS"})]});break;case r.LANDING_PAGE:s=e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-2 w-1/2 bg-slate-200 rounded mb-2 mx-auto"}),e.jsx($e,{count:2}),e.jsx(Z,{fields:2}),e.jsx(h,{color:"bg-blue-600",text:"SUBSCRIBE"})]});break;case r.CHECKOUT:s=e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-2 w-full bg-slate-100 mb-2 border-b border-slate-100"}),e.jsx(Pe,{}),e.jsx(h,{color:"bg-slate-900",text:"COMPLETE ORDER"})]});break;case r.THANK_YOU:s=e.jsxs("div",{className:"flex flex-col items-center justify-center h-full pt-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-green-500 flex items-center justify-center mb-1",children:e.jsx(fe,{size:16,className:"text-green-500"})}),e.jsx("div",{className:"h-1 w-1/2 bg-slate-100 rounded mb-2"}),e.jsx(h,{color:"bg-green-600",text:"CONGRATULATIONS",width:"w-[90%]"})]});break;case r.QUIZ:s=e.jsx(Ae,{});break;case r.BLOG:s=e.jsx(Se,{});break;case r.MEMBERSHIP_AREA:s=e.jsx(Te,{});break;default:s=e.jsxs(e.Fragment,{children:[e.jsx(Q,{}),e.jsx(h,{color:t.type===r.DOWNSELL?"bg-slate-500":"bg-red-500",text:t.type===r.DOWNSELL?"NO, WAIT...":"ADD TO ORDER"}),e.jsx("div",{className:"mt-1 w-1/2 h-1 bg-slate-200 mx-auto rounded"})]});break}return e.jsxs("div",{...S(),children:[e.jsx(I,{}),H(),e.jsxs("div",{className:"relative w-[100px] h-[130px] group",children:[e.jsxs("div",{className:`
                absolute inset-0 rounded-md shadow-lg border overflow-hidden flex flex-col transition-all duration-300 bg-white
                ${i&&!n?"ring-2 ring-cyan-500 border-transparent shadow-cyan-500/20":"border-slate-300"}
                ${!n&&!u?"hover:shadow-xl hover:-translate-y-1":""}
            `,children:[e.jsx(W,{}),e.jsx(Ce,{}),e.jsx("div",{className:"flex-1 p-2 flex flex-col items-center",children:s})]}),G()]})]})}if(B){const{bg:s,borderColor:a,icon:o}=O;return e.jsxs("div",{...S(),className:`${S().className} min-w-[80px]`,children:[e.jsx(I,{}),H("mb-1.5"),e.jsxs("div",{className:`
                w-14 h-14 rounded-2xl flex items-center justify-center shadow-md border-b-4 transition-all duration-300 relative
                ${s} ${a}
                ${i&&!n?"ring-2 ring-offset-2 ring-cyan-500 scale-105":""}
                ${!n&&!u?"hover:scale-110 hover:-translate-y-1":""}
            `,children:[e.jsx(W,{}),z.isValidElement(o)?z.cloneElement(o,{size:30,color:"white"}):null,G()]})]})}if(A){let s="bg-green-500",a="ring-green-400";return t.type===r.AB_TEST&&(s="bg-orange-500",a="ring-orange-400"),e.jsxs("div",{...S(),children:[e.jsx(I,{}),k?e.jsx("input",{ref:b,type:"text",value:C,onChange:o=>E(o.target.value),onBlur:F,onKeyDown:Y,className:"nodrag mb-1 px-1 py-0.5 rounded text-[10px] font-bold text-center min-w-[60px] w-[80px] bg-white dark:bg-slate-800 border border-cyan-500 text-slate-800 dark:text-white outline-none z-50 pointer-events-auto",onClick:o=>o.stopPropagation(),title:"Rename Node",placeholder:"Nome"}):e.jsx("div",{className:`mb-1 px-2 py-0.5 rounded text-[10px] font-bold text-center transition-colors ${i&&!n?"bg-cyan-600 text-white":"text-slate-500 dark:text-slate-400"}`,children:t.label}),e.jsxs("div",{className:`w-12 h-12 rotate-45 shadow-md flex items-center justify-center border-2 transition-all relative ${i&&!n?`border-white ring-2 ${a}`:"border-white"} ${s} `,children:[e.jsx("div",{className:"absolute inset-0 -rotate-45",children:e.jsx(W,{})}),e.jsxs("div",{className:"-rotate-45 text-white",children:[t.type===r.PURCHASE_SUB&&e.jsx(ie,{size:20}),t.type===r.AB_TEST&&e.jsx(de,{size:20})]}),(()=>{const d=`absolute w-12 h-12 !bg-transparent !border-none flex items-center justify-center ${n?"pointer-events-none":"cursor-crosshair"} pointer-events-auto nodrag`,x=()=>e.jsx("div",{className:`
                            w-3.5 h-3.5 min-w-[14px] min-h-[14px] bg-cyan-500 rounded-full border-2 border-white shadow-sm transition-all duration-200 pointer-events-none
                            ${n?"opacity-0":"opacity-0 group-hover:opacity-100"}
                            group-hover:scale-125
                        `}),j=[{pos:v.Top,id:"top",class:"-top-3 left-1/2 -translate-x-1/2"},{pos:v.Right,id:"right",class:"-right-3 top-1/2 -translate-y-1/2"},{pos:v.Bottom,id:"bottom",class:"-bottom-3 left-1/2 -translate-x-1/2"},{pos:v.Left,id:"left",class:"-left-3 top-1/2 -translate-y-1/2"}];return e.jsx(e.Fragment,{children:j.map(({pos:T,id:U,class:K})=>e.jsxs(z.Fragment,{children:[e.jsx(L,{type:"target",position:T,id:`${U}-target`,className:`${d} ${K} opacity-0`,style:{zIndex:50}}),e.jsx(L,{type:"source",position:T,id:`${U}-source`,className:`${d} ${K} 
                                                [&>div]:hover:scale-150 
                                                [&>div]:hover:!opacity-100 
                                                [&>div]:hover:bg-cyan-500 
                                                [&>div]:hover:border-white 
                                                [&>div]:hover:shadow-lg
                                                active:scale-90 transition-all
                                            `,style:{zIndex:51},children:e.jsx(x,{})})]},U))})})()]})]})}return null},Ue=c.memo(Me),Ve=({id:l,sourceX:t,sourceY:i,targetX:D,targetY:$,sourcePosition:y,targetPosition:O,style:P={},markerEnd:k,selected:g})=>{const{setEdges:C}=q(),[E,b]=c.useState(!1);let p=t,f=i,n=D,u=$;if(Math.abs(p-n)<=6){const m=(p+n)/2;p=m,n=m}if(Math.abs(f-u)<=6){const m=(f+u)/2;f=m,u=m}const[A,R,N]=we({sourceX:p,sourceY:f,sourcePosition:y,targetX:n,targetY:u,targetPosition:O}),B=m=>{m.stopPropagation(),C(_=>_.filter(M=>M.id!==l))},w={...P,stroke:g?"#06b6d4":P.stroke||"#64748b",strokeWidth:g?3:P.strokeWidth||2,filter:g?"drop-shadow(0 0 2px rgba(6, 182, 212, 0.4))":"none",transition:"all 0.2s ease"};return e.jsxs(e.Fragment,{children:[e.jsx(ye,{path:A,markerEnd:k,style:w}),e.jsx("path",{d:A,fill:"none",strokeOpacity:0,strokeWidth:20,className:"react-flow__edge-interaction",onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),style:{cursor:"pointer"}}),e.jsx(ke,{children:e.jsx("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${R}px,${N}px)`,fontSize:12,pointerEvents:"all",opacity:E||g?1:0,transition:"opacity 0.2s ease-in-out",zIndex:1e3},className:"nodrag nopan",onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),children:e.jsx("button",{className:`
                w-6 h-6 rounded-full flex items-center justify-center transition-all shadow-md cursor-pointer border
                ${g?"bg-red-500 text-white border-red-600 scale-110":"bg-slate-100 text-slate-500 border-slate-300 hover:bg-red-500 hover:text-white"}
            `,onClick:B,title:"Delete Connection",children:e.jsx(J,{size:12})})})})]})};export{Ue as C,Ve as a};
