import{j as e,b as S,P as be}from"./index-eBZt-p7n.js";import{r as n}from"./vendor-KfUPlHYY.js";import{aM as W,m as V,af as P,ak as B,aN as Z,T as K,k as D,H as ee,aO as me,aP as M,aQ as ue,A as te,X as ge,aR as he,S as pe,ap as je}from"./ui-DazhNhsc.js";import"./utils-ig63ahen.js";const Ee=({projects:E,onCreateProject:U,onOpenProject:se,onDeleteProject:le,isDark:s,t:r,userPlan:x="FREE",customTemplates:m=[],onSaveAsTemplate:R,onRenameProject:u,onRefreshTemplates:d,showNotification:a,projectsLimit:ae=3,onUpgrade:p})=>{const[re,j]=n.useState(!1),[y,C]=n.useState("SELECT"),[de,Y]=n.useState(null);console.log("HMR TEST JETSKI - Dashboard Rendered");const[$,T]=n.useState(""),[g,v]=n.useState(null),[z,_]=n.useState("SYSTEM"),[h,f]=n.useState(null),[i,N]=n.useState(null),[w,L]=n.useState(null),[A,G]=n.useState(null),[H,O]=n.useState(!1),[b,I]=n.useState("PROJECTS"),F=s?"bg-slate-800 border-slate-700 hover:border-indigo-500":"bg-white border-slate-200 hover:border-indigo-400",o=s?"text-white":"text-slate-900",c=s?"text-slate-400":"text-slate-500",J=()=>{if(E.length>=ae){p?p():a==null||a(r("maxProjectsReached")||"Limite de projetos atingido","error");return}T(""),C("SELECT"),Y(null),j(!0)},oe=t=>{if(x!=="PREMIUM"){a==null||a(r("premiumOnly"),"error");return}L(t)},q=t=>{const l=m==null?void 0:m.find(xe=>xe.id===t);l?(U(t,l.customLabel||"Novo Projeto"),j(!1)):(Y(t),C("NAME"),$||T(`${r("newProject")} ${E.length+1}`))},ne=()=>{U(de||"blank",$),j(!1)},ie=()=>{C("SELECT")},k=t=>t.customLabel||r(t.labelKey),Q=t=>t.customDescription||r(t.descriptionKey),ce=m.filter(t=>!t.isPublic),X=m.filter(t=>t.isPublic);return e.jsxs("div",{className:`flex-1 overflow-y-auto h-full p-8 transition-colors duration-300 ${s?"bg-slate-950":"bg-slate-50"}`,children:[e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-8 gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:`text-3xl font-bold ${o} mb-2`,children:r("projects")}),e.jsx("p",{className:c,children:r("projectsDesc")})]}),b==="PROJECTS"&&e.jsxs("button",{onClick:J,className:"flex items-center gap-2 px-6 py-3 bg-indigo-600 hover:bg-indigo-500 text-white rounded-xl font-bold shadow-lg hover:shadow-indigo-500/20 transition-all transform hover:-translate-y-1",children:[e.jsx(W,{size:20}),r("newProject")]})]}),e.jsxs("div",{className:"flex gap-1 mb-8 bg-slate-100 dark:bg-slate-900 p-1 rounded-xl w-fit",children:[e.jsxs("button",{onClick:()=>I("PROJECTS"),className:`px-6 py-2.5 rounded-lg text-sm font-bold transition-all flex items-center gap-2
                ${b==="PROJECTS"?"bg-white dark:bg-slate-800 text-indigo-600 shadow-sm":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:[e.jsx(V,{size:16})," Meus Projetos"]}),e.jsxs("button",{onClick:()=>I("TEMPLATES"),className:`px-6 py-2.5 rounded-lg text-sm font-bold transition-all flex items-center gap-2
                ${b==="TEMPLATES"?"bg-white dark:bg-slate-800 text-indigo-600 shadow-sm":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:[e.jsx(P,{size:16})," Meus Modelos"]}),e.jsxs("button",{onClick:()=>I("MARKETPLACE"),className:`px-6 py-2.5 rounded-lg text-sm font-bold transition-all flex items-center gap-2
                ${b==="MARKETPLACE"?"bg-white dark:bg-slate-800 text-indigo-600 shadow-sm":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:[e.jsx(B,{size:16})," Minhas Publicações"]})]}),b==="PROJECTS"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-fade-in-up",children:[e.jsxs("button",{onClick:J,className:`flex flex-col items-center justify-center p-8 rounded-2xl border-2 border-dashed transition-all group h-[220px]
                ${s?"border-slate-700 hover:border-indigo-500 hover:bg-slate-800/50":"border-slate-300 hover:border-indigo-500 hover:bg-indigo-50"}
                `,children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-indigo-100 dark:bg-slate-800 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:e.jsx(W,{size:32,className:"text-indigo-600 dark:text-indigo-400"})}),e.jsx("span",{className:`font-bold ${o} group-hover:text-indigo-600`,children:r("createVisualShortcut")})]}),E.map(t=>e.jsxs("div",{className:`relative flex flex-col p-6 rounded-2xl border transition-all duration-300 group h-[220px] ${F} shadow-sm hover:shadow-xl`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:`p-3 rounded-xl ${s?"bg-slate-700 text-indigo-400":"bg-indigo-50 text-indigo-600"}`,children:e.jsx(V,{size:24})}),e.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:l=>{l.stopPropagation(),v({id:t.id,name:t.name})},className:"p-2 text-slate-400 hover:text-indigo-500 hover:bg-slate-100 dark:hover:bg-indigo-900/20 rounded-lg transition-colors",title:"Renomear",children:e.jsx(Z,{size:18})}),e.jsx("button",{onClick:l=>{if(l.stopPropagation(),x!=="PREMIUM"){p==null||p();return}G(t),O(!1)},className:`p-2 hover:bg-slate-100 dark:hover:bg-indigo-900/20 rounded-lg transition-colors ${x==="PREMIUM"?"text-slate-400 hover:text-indigo-500":"text-slate-300 hover:text-amber-500"}`,title:x==="PREMIUM"?"Copiar Link de Apresentação":"Recurso Premium (Bloqueado)",children:x==="PREMIUM"?e.jsx(K,{size:18}):e.jsx(D,{size:18})}),x==="PREMIUM"&&e.jsx("button",{onClick:l=>{l.stopPropagation(),oe(t)},className:"p-2 text-slate-400 hover:text-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-lg transition-colors",title:r("shareTemplate"),children:e.jsx(ee,{size:18})}),R&&x!=="FREE"&&e.jsx("button",{onClick:l=>{l.preventDefault(),l.stopPropagation(),R(t)},className:"p-2 text-slate-400 hover:text-purple-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-lg transition-colors",title:r("saveAsTemplate"),children:e.jsx(me,{size:18})}),e.jsx("button",{onClick:l=>{l.stopPropagation(),N({type:"PROJECT",id:t.id,name:t.name})},className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:r("deleteBtn"),children:e.jsx(M,{size:18})})]})]}),e.jsx("div",{className:"flex items-center gap-2 mb-1",children:e.jsx("h3",{className:`text-xl font-bold ${o} truncate`,children:t.name})}),e.jsxs("div",{className:`flex items-center gap-2 text-xs ${c} mb-auto`,children:[e.jsx(ue,{size:12}),r("editedAt"),": ",new Date(t.updatedAt).toLocaleDateString()]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[e.jsxs("span",{className:"text-xs font-medium px-2 py-1 rounded bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-300",children:[t.nodes.length," ",r("elementsCount")]}),e.jsxs("button",{onClick:()=>se(t.id),className:"flex items-center gap-1 text-sm font-bold text-indigo-600 hover:text-indigo-500 transition-colors",children:[r("openBtn")," ",e.jsx(te,{size:16})]})]})]},t.id))]}),b==="TEMPLATES"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-fade-in-up",children:[e.jsx("button",{onClick:()=>{C("SELECT"),j(!0)},className:`flex flex-col items-center justify-center p-8 rounded-2xl border-2 border-dashed transition-all group h-[220px]
                    ${s?"border-slate-700 hover:border-indigo-500 hover:bg-slate-800/50":"border-slate-300 hover:border-indigo-500 hover:bg-indigo-50"}
                    `,children:e.jsx("p",{className:c,children:"Salve projetos como Modelo para aparecerem aqui."})}),ce.map(t=>e.jsxs("div",{className:`relative flex flex-col p-6 rounded-2xl border transition-all duration-300 group h-[220px] ${F} shadow-sm hover:shadow-xl`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:`p-3 rounded-xl ${s?"bg-slate-700 text-purple-400":"bg-purple-50 text-purple-600"}`,children:e.jsx(P,{size:24})}),e.jsx("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("button",{onClick:l=>{l.stopPropagation(),N({type:"TEMPLATE",id:t.id,name:t.customLabel||"Modelo"})},className:"p-2 text-slate-400 hover:text-red-500 rounded-lg",title:"Excluir",children:e.jsx(M,{size:18})})})]}),e.jsx("h3",{className:`text-xl font-bold ${o} truncate mb-1`,children:t.customLabel}),e.jsx("p",{className:`text-xs ${c} line-clamp-3 mb-auto`,children:t.customDescription||"Sem descrição."}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[e.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-300",children:"Modelo Pessoal"}),e.jsxs("button",{onClick:()=>q(t.id),className:"flex items-center gap-1 text-sm font-bold text-indigo-600 hover:text-indigo-500 transition-colors",children:["Usar ",e.jsx(te,{size:16})]})]})]},t.id))]}),g&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in-up",children:e.jsxs("div",{className:`w-full max-w-md p-6 rounded-2xl shadow-2xl ${s?"bg-slate-900":"bg-white"}`,children:[e.jsx("h3",{className:`text-xl font-bold mb-4 ${o}`,children:"Renomear Projeto"}),e.jsx("input",{type:"text",value:g.name,onChange:t=>v(l=>l?{...l,name:t.target.value}:null),className:`w-full p-3 rounded-xl border mb-6 text-lg font-medium outline-none focus:border-indigo-500 ${s?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Nome do projeto",autoFocus:!0,onKeyDown:t=>{t.key==="Enter"&&(u==null||u(g.id,g.name),v(null))}}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>v(null),className:"px-4 py-2 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg font-bold",children:"Cancelar"}),e.jsx("button",{onClick:()=>{u==null||u(g.id,g.name),v(null)},className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-bold shadow-lg shadow-indigo-500/20",children:"Salvar"})]})]})}),b==="MARKETPLACE"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-fade-in-up",children:[X.length===0&&e.jsxs("div",{className:"col-span-full text-center py-20 text-slate-400",children:[e.jsx(B,{size:48,className:"mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Você ainda não enviou nenhuma estratégia para o Marketplace."})]}),X.map(t=>e.jsxs("div",{className:`relative flex flex-col p-6 rounded-2xl border transition-all duration-300 group h-[300px] ${F} shadow-sm hover:shadow-xl`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:`p-3 rounded-xl ${s?"bg-slate-700 text-amber-400":"bg-amber-50 text-amber-600"}`,children:e.jsx(B,{size:24})}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsx("div",{className:`shrink-0 flex items-center gap-1 text-[10px] font-black uppercase px-2 py-1 rounded-full border ${t.status==="APPROVED"?"bg-green-500/10 text-green-500 border-green-500/20":t.status==="REJECTED"?"bg-red-500/10 text-red-500 border-red-500/20":"bg-amber-500/10 text-amber-500 border-amber-500/20"}`,children:t.status==="PENDING"?"PENDENTE":t.status||"PENDENTE"}),(!t.status||t.status==="PENDING")&&e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:l=>{l.stopPropagation(),f({id:t.id,name:t.customLabel||"",desc:t.customDescription||""})},className:"p-1.5 text-slate-400 hover:text-indigo-500 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",title:"Editar",children:e.jsx(Z,{size:16})}),e.jsx("button",{onClick:l=>{l.stopPropagation(),N({type:"PUBLICATION",id:t.id,name:t.customLabel||"Publicação"})},className:"p-1.5 text-slate-400 hover:text-red-500 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",title:"Excluir",children:e.jsx(M,{size:16})})]})]})]}),e.jsx("h3",{className:`text-xl font-bold ${o} truncate mb-4`,children:t.customLabel}),e.jsx("p",{className:`text-sm ${c} line-clamp-3 mb-auto mt-2`,children:t.customDescription}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 dark:border-slate-700 flex justify-between items-center text-xs text-slate-500",children:[e.jsxs("span",{children:[t.downloads||0," Downloads"]}),e.jsxs("span",{children:[t.nodes.length," Elementos"]})]})]},t.id))]}),E.length===0&&e.jsxs("div",{className:"mt-16 flex flex-col items-center justify-center text-center",children:[e.jsx("div",{className:`w-20 h-20 rounded-full mb-4 flex items-center justify-center ${s?"bg-slate-800 text-slate-600":"bg-slate-100 text-slate-400"}`,children:e.jsx(P,{size:40})}),e.jsx("h3",{className:`text-lg font-bold ${o} mb-1`,children:r("noMapsCreated")}),e.jsx("p",{className:`text-sm ${c} mb-6`,children:r("startOrganizingNow")}),e.jsx("button",{onClick:J,className:"text-indigo-600 font-bold hover:underline",children:r("createFirstProject")})]}),h&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in-up",children:e.jsxs("div",{className:`w-full max-w-md p-6 rounded-2xl shadow-2xl ${s?"bg-slate-900":"bg-white"}`,children:[e.jsx("h3",{className:`text-xl font-bold mb-4 ${o}`,children:"Editar Publicação"}),e.jsx("input",{type:"text",value:h.name,onChange:t=>f(l=>l?{...l,name:t.target.value}:null),className:`w-full p-3 rounded-xl border mb-4 ${s?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Nome..."}),e.jsx("textarea",{value:h.desc,onChange:t=>f(l=>l?{...l,desc:t.target.value}:null),className:`w-full p-3 rounded-xl border mb-4 h-32 resize-none ${s?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Descrição..."}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>f(null),className:"px-4 py-2 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg font-bold",children:"Cancelar"}),e.jsx("button",{onClick:async()=>{try{await S.templates.update(h.id,{custom_label:h.name,custom_description:h.desc}),f(null),a==null||a("Publicação atualizada!"),d==null||d()}catch{a==null||a("Erro ao atualizar","error")}},className:"px-4 py-2 bg-indigo-600 text-white rounded-lg font-bold",children:"Salvar"})]})]})})]}),re&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in-up",children:e.jsxs("div",{className:`w-full max-w-4xl rounded-2xl shadow-2xl border overflow-hidden flex flex-col max-h-[85vh] ${s?"bg-slate-900 border-slate-700":"bg-white border-slate-200"}`,children:[e.jsxs("div",{className:`px-8 py-6 border-b flex justify-between items-center shrink-0 ${s?"border-slate-800":"border-slate-100"}`,children:[e.jsxs("div",{children:[e.jsx("h2",{className:`text-2xl font-bold ${o}`,children:r(y==="SELECT"?"createMapTitle":"projectName")}),e.jsx("p",{className:c,children:y==="SELECT"?r("startOrganizingNow"):"Dê um nome para identificar seu mapa facilmente."})]}),e.jsx("button",{onClick:()=>j(!1),className:`p-2 rounded-full ${s?"hover:bg-slate-800 text-slate-400":"hover:bg-slate-100 text-slate-500"}`,title:"Fechar","aria-label":"Fechar",children:e.jsx(ge,{size:24,"aria-hidden":"true"})})]}),y==="SELECT"&&e.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[e.jsxs("div",{className:`flex px-8 border-b ${s?"border-slate-800":"border-slate-100"}`,children:[e.jsx("button",{onClick:()=>_("SYSTEM"),className:`py-4 mr-6 text-sm font-bold border-b-2 transition-colors ${z==="SYSTEM"?"border-indigo-600 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:r("systemTemplates")}),e.jsx("button",{onClick:()=>_("CUSTOM"),className:`py-4 mr-6 text-sm font-bold border-b-2 transition-colors ${z==="CUSTOM"?"border-indigo-600 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:r("myTemplates")})]}),e.jsx("div",{className:"p-8 overflow-y-auto",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:z==="SYSTEM"?be.map(t=>{const l=x==="FREE"&&t.isPro;return e.jsxs("button",{onClick:()=>!l&&q(t.id),className:`group relative flex flex-col items-center justify-center p-6 rounded-xl border-2 transition-all h-[200px] text-center ${s?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} ${l?"opacity-70 cursor-not-allowed":`hover:border-indigo-500 ${s?"hover:bg-slate-750":"hover:bg-white hover:shadow-lg"}`}`,title:k(t),children:[l&&e.jsx("div",{className:"absolute top-3 right-3 bg-black/50 p-1.5 rounded-full backdrop-blur-sm border border-white/10",children:e.jsx(D,{size:14,className:"text-white"})}),e.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center mb-4 transition-transform ${!l&&"group-hover:scale-110"} ${s?"bg-slate-900 shadow-inner":"bg-white shadow-sm border border-slate-100"}`,children:t.icon}),e.jsx("h3",{className:`text-lg font-bold mb-2 ${o}`,children:k(t)}),e.jsx("p",{className:`text-xs line-clamp-2 px-2 ${c}`,children:Q(t)})]},t.id)}):m.map(t=>e.jsxs("button",{onClick:()=>q(t.id),className:`group relative flex flex-col items-center justify-center p-6 rounded-xl border-2 transition-all h-[200px] text-center ${s?"bg-slate-800 border-slate-700 hover:border-indigo-500 hover:bg-slate-750":"bg-slate-50 border-slate-200 hover:border-indigo-500 hover:bg-white hover:shadow-lg"}`,title:k(t),children:[e.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center mb-4 transition-transform group-hover:scale-110 ${s?"bg-slate-900 shadow-inner":"bg-white shadow-sm border border-slate-100"}`,children:e.jsx(P,{size:32,className:"text-indigo-500"})}),e.jsx("h3",{className:`text-lg font-bold mb-2 ${o}`,children:k(t)}),e.jsx("p",{className:`text-xs line-clamp-2 px-2 ${c}`,children:Q(t)})]},t.id))})})]}),y==="NAME"&&e.jsxs("div",{className:"p-10 flex flex-col items-center justify-center flex-1",children:[e.jsx("div",{className:`w-24 h-24 rounded-3xl flex items-center justify-center mb-8 shadow-xl ${s?"bg-slate-800":"bg-slate-100"}`,children:e.jsx(V,{size:48})}),e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("label",{className:`block text-sm font-bold mb-2 ml-1 ${o}`,children:"Nome do Projeto"}),e.jsxs("div",{className:"relative mb-8",children:[e.jsx(he,{className:`absolute left-4 top-3.5 ${c}`,size:20}),e.jsx("input",{type:"text",value:$,onChange:t=>T(t.target.value),placeholder:"Ex: Funil de Vendas VSL...",className:`w-full pl-12 pr-4 py-3.5 rounded-xl border-2 outline-none focus:ring-0 transition-all text-lg font-medium ${s?"bg-slate-800 border-slate-700 text-white placeholder-slate-500 focus:border-indigo-500":"bg-slate-50 border-slate-200 text-slate-900 placeholder-slate-400 focus:border-indigo-500"}`,autoFocus:!0})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:ie,className:`flex-1 py-3.5 rounded-xl font-bold border-2 transition-all ${s?"border-slate-700 text-slate-400 hover:text-white hover:bg-slate-800":"border-slate-200 text-slate-500 hover:text-slate-800 hover:bg-slate-50"}`,children:"Voltar"}),e.jsxs("button",{onClick:ne,disabled:!$.trim(),className:"flex-[2] py-3.5 bg-indigo-600 hover:bg-indigo-500 text-white rounded-xl font-bold shadow-lg shadow-indigo-500/25 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(pe,{size:20})," Criar Projeto"]})]})]})]})]})}),i&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in-up",children:e.jsx("div",{className:`w-full max-w-md p-6 rounded-2xl shadow-2xl relative overflow-hidden ${s?"bg-slate-900 text-white":"bg-white text-slate-900"}`,children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center text-red-600 dark:text-red-400 mb-4",children:e.jsx(M,{size:32})}),e.jsxs("h3",{className:"text-xl font-bold mb-2",children:["Excluir ",i.type==="PROJECT"?"Projeto":i.type==="TEMPLATE"?"Modelo":"Publicação","?"]}),e.jsxs("p",{className:`mb-6 ${s?"text-slate-400":"text-slate-500"}`,children:["Você está prestes a excluir ",e.jsxs("strong",{children:['"',i.name,'"']}),". Esta ação não pode ser desfeita."]}),e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx("button",{onClick:()=>N(null),className:`flex-1 py-3 font-bold rounded-xl border-2 transition-all ${s?"border-slate-700 text-slate-400 hover:bg-slate-800 hover:text-white":"border-slate-200 text-slate-500 hover:bg-slate-50 hover:text-slate-800"}`,children:"Cancelar"}),e.jsx("button",{onClick:async()=>{try{i.type==="PROJECT"?await le(i.id):i.type==="TEMPLATE"?(await S.templates.delete(i.id),a==null||a("Modelo excluído!","success"),d==null||d()):i.type==="PUBLICATION"&&(await S.templates.delete(i.id),a==null||a("Publicação excluída!","success"),d==null||d()),N(null)}catch(t){console.error(t),a==null||a("Erro ao excluir item. Verifique permissões.","error")}},className:"flex-1 py-3 bg-red-600 hover:bg-red-500 text-white rounded-xl font-bold shadow-lg shadow-red-500/25 transition-all",children:"Excluir Agora"})]})]})})}),w&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in-up",children:e.jsx("div",{className:`w-full max-w-md p-6 rounded-2xl shadow-2xl relative overflow-hidden ${s?"bg-slate-900 text-white":"bg-white text-slate-900"}`,children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-indigo-100 dark:bg-indigo-900/30 rounded-full flex items-center justify-center text-indigo-600 dark:text-indigo-400 mb-4",children:e.jsx(ee,{size:32})}),e.jsx("h3",{className:"text-xl font-bold mb-2",children:"Publicar no Marketplace?"}),e.jsxs("p",{className:`mb-6 text-sm ${s?"text-slate-400":"text-slate-500"}`,children:["Sua estratégia ",e.jsxs("strong",{children:['"',w.name,'"']})," passará por uma auditoria antes de ficar pública.",e.jsx("br",{}),e.jsx("br",{}),"Enquanto isso, ela ficará com status ",e.jsx("span",{className:"font-bold text-amber-500",children:"PENDENTE"}),"."]}),e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx("button",{onClick:()=>L(null),className:`flex-1 py-3 font-bold rounded-xl border-2 transition-all ${s?"border-slate-700 text-slate-400 hover:bg-slate-800 hover:text-white":"border-slate-200 text-slate-500 hover:bg-slate-50 hover:text-slate-800"}`,children:"Cancelar"}),e.jsx("button",{onClick:async()=>{try{await S.templates.submitToMarketplace({customLabel:w.name,customDescription:"Arquitetura estratégica compartilhada por um membro Premium da comunidade FluxFunnel.",nodes:w.nodes,edges:w.edges,authorName:"Usuário Premium"}),a==null||a(r("publishSuccess"),"success"),d==null||d(),L(null)}catch(t){console.error(t),a==null||a("Erro ao enviar para o Marketplace.","error")}},className:"flex-1 py-3 bg-indigo-600 hover:bg-indigo-500 text-white rounded-xl font-bold shadow-lg shadow-indigo-500/25 transition-all",children:"Enviar Agora"})]})]})})}),A&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in-up",children:e.jsxs("div",{className:`w-full max-w-lg p-8 rounded-2xl shadow-2xl relative overflow-hidden ${s?"bg-slate-900 text-white":"bg-white text-slate-900"}`,children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-emerald-500 to-teal-500"}),e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-emerald-100 dark:bg-emerald-900/30 rounded-full flex items-center justify-center text-emerald-600 dark:text-emerald-400 mb-6 shadow-lg shadow-emerald-500/20",children:e.jsx(K,{size:36})}),e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Compartilhar Apresentação"}),e.jsxs("p",{className:`mb-6 ${s?"text-slate-400":"text-slate-500"}`,children:["Este link permite que qualquer pessoa visualize seu mapa em ",e.jsx("strong",{children:"Modo Apresentação"}),", sem a necessidade de login ou edição."]}),e.jsx("div",{className:`w-full p-4 rounded-xl border-2 mb-6 text-left break-all font-mono text-sm flex items-center justify-between gap-4 ${s?"bg-slate-950 border-slate-700 text-slate-300":"bg-slate-50 border-slate-200 text-slate-600"}`,children:e.jsx("span",{className:"line-clamp-2",children:`${window.location.origin}/?share=${A.id}`})}),e.jsx("button",{onClick:()=>{const t=`${window.location.origin}/?share=${A.id}`;navigator.clipboard.writeText(t),O(!0),a==null||a("Link copiado para a área de transferência!","success"),setTimeout(()=>O(!1),3e3)},className:`w-full py-4 text-white rounded-xl font-bold shadow-lg transition-all flex items-center justify-center gap-2 mb-4 ${H?"bg-emerald-600 hover:bg-emerald-500 scale-95":"bg-indigo-600 hover:bg-indigo-500 hover:scale-[1.02] shadow-indigo-500/25"}`,children:H?e.jsxs(e.Fragment,{children:[e.jsx(je,{size:20})," Link Copiado!"]}):e.jsxs(e.Fragment,{children:[e.jsx(K,{size:20})," Copiar Link de Visualização"]})}),e.jsx("button",{onClick:()=>G(null),className:`text-sm font-bold hover:underline ${s?"text-slate-500 hover:text-slate-300":"text-slate-400 hover:text-slate-600"}`,children:"Fechar Janela"})]})]})})]})};export{Ee as default};
